(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function ng(e,t){const n=Object.create(null),i=e.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function rg(e){if(Ve(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=Vt(i)?oR(i):rg(i);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Vt(e))return e;if(Et(e))return e}}const nR=/;(?![^(]*\))/g,rR=/:([^]+)/,iR=/\/\*.*?\*\//gs;function oR(e){const t={};return e.replace(iR,"").split(nR).forEach(n=>{if(n){const i=n.split(rR);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function kr(e){let t="";if(Vt(e))t=e;else if(Ve(e))for(let n=0;n<e.length;n++){const i=kr(e[n]);i&&(t+=i+" ")}else if(Et(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const sR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uR=ng(sR);function g1(e){return!!e||e===""}const Ir=e=>Vt(e)?e:e==null?"":Ve(e)||Et(e)&&(e.toString===_1||!Ue(e.toString))?JSON.stringify(e,y1,2):String(e),y1=(e,t)=>t&&t.__v_isRef?y1(e,t.value):Ws(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:w1(t)?{[`Set(${t.size})`]:[...t.values()]}:Et(t)&&!Ve(t)&&!I1(t)?String(t):t,yt={},Gs=[],Sr=()=>{},aR=()=>!1,cR=/^on[^a-z]/,Zf=e=>cR.test(e),ig=e=>e.startsWith("onUpdate:"),In=Object.assign,og=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},lR=Object.prototype.hasOwnProperty,et=(e,t)=>lR.call(e,t),Ve=Array.isArray,Ws=e=>eh(e)==="[object Map]",w1=e=>eh(e)==="[object Set]",Ue=e=>typeof e=="function",Vt=e=>typeof e=="string",sg=e=>typeof e=="symbol",Et=e=>e!==null&&typeof e=="object",b1=e=>Et(e)&&Ue(e.then)&&Ue(e.catch),_1=Object.prototype.toString,eh=e=>_1.call(e),fR=e=>eh(e).slice(8,-1),I1=e=>eh(e)==="[object Object]",ug=e=>Vt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,sf=ng(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),th=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},hR=/-(\w)/g,Gr=th(e=>e.replace(hR,(t,n)=>n?n.toUpperCase():"")),dR=/\B([A-Z])/g,Tu=th(e=>e.replace(dR,"-$1").toLowerCase()),nh=th(e=>e.charAt(0).toUpperCase()+e.slice(1)),Av=th(e=>e?`on${nh(e)}`:""),za=(e,t)=>!Object.is(e,t),uf=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},gf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},em=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let V_;const pR=()=>V_||(V_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Yn;class E1{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Yn,!t&&Yn&&(this.index=(Yn.scopes||(Yn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Yn;try{return Yn=this,t()}finally{Yn=n}}}on(){Yn=this}off(){Yn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function T1(e){return new E1(e)}function vR(e,t=Yn){t&&t.active&&t.effects.push(e)}function S1(){return Yn}function mR(e){Yn&&Yn.cleanups.push(e)}const ag=e=>{const t=new Set(e);return t.w=0,t.n=0,t},A1=e=>(e.w&Ji)>0,N1=e=>(e.n&Ji)>0,gR=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ji},yR=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const o=t[i];A1(o)&&!N1(o)?o.delete(e):t[n++]=o,o.w&=~Ji,o.n&=~Ji}t.length=n}},yf=new WeakMap;let Aa=0,Ji=1;const tm=30;let Er;const qo=Symbol(""),nm=Symbol("");class cg{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,vR(this,i)}run(){if(!this.active)return this.fn();let t=Er,n=Ki;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Er,Er=this,Ki=!0,Ji=1<<++Aa,Aa<=tm?gR(this):F_(this),this.fn()}finally{Aa<=tm&&yR(this),Ji=1<<--Aa,Er=this.parent,Ki=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Er===this?this.deferStop=!0:this.active&&(F_(this),this.onStop&&this.onStop(),this.active=!1)}}function F_(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ki=!0;const C1=[];function Su(){C1.push(Ki),Ki=!1}function Au(){const e=C1.pop();Ki=e===void 0?!0:e}function Bn(e,t,n){if(Ki&&Er){let i=yf.get(e);i||yf.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=ag()),k1(o)}}function k1(e,t){let n=!1;Aa<=tm?N1(e)||(e.n|=Ji,n=!A1(e)):n=!e.has(Er),n&&(e.add(Er),Er.deps.push(e))}function hi(e,t,n,i,o,s){const a=yf.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&Ve(e)){const f=Number(i);a.forEach((d,p)=>{(p==="length"||p>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":Ve(e)?ug(n)&&l.push(a.get("length")):(l.push(a.get(qo)),Ws(e)&&l.push(a.get(nm)));break;case"delete":Ve(e)||(l.push(a.get(qo)),Ws(e)&&l.push(a.get(nm)));break;case"set":Ws(e)&&l.push(a.get(qo));break}if(l.length===1)l[0]&&rm(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);rm(ag(f))}}function rm(e,t){const n=Ve(e)?e:[...e];for(const i of n)i.computed&&j_(i);for(const i of n)i.computed||j_(i)}function j_(e,t){(e!==Er||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function wR(e,t){var n;return(n=yf.get(e))===null||n===void 0?void 0:n.get(t)}const bR=ng("__proto__,__v_isRef,__isVue"),O1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(sg)),_R=lg(),IR=lg(!1,!0),ER=lg(!0),U_=TR();function TR(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Je(this);for(let s=0,a=this.length;s<a;s++)Bn(i,"get",s+"");const o=i[t](...n);return o===-1||o===!1?i[t](...n.map(Je)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Su();const i=Je(this)[t].apply(this,n);return Au(),i}}),e}function SR(e){const t=Je(this);return Bn(t,"has",e),t.hasOwnProperty(e)}function lg(e=!1,t=!1){return function(i,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?BR:L1:t?P1:x1).get(i))return i;const a=Ve(i);if(!e){if(a&&et(U_,o))return Reflect.get(U_,o,s);if(o==="hasOwnProperty")return SR}const l=Reflect.get(i,o,s);return(sg(o)?O1.has(o):bR(o))||(e||Bn(i,"get",o),t)?l:at(l)?a&&ug(o)?l:l.value:Et(l)?e?M1(l):hr(l):l}}const AR=D1(),NR=D1(!0);function D1(e=!1){return function(n,i,o,s){let a=n[i];if(Js(a)&&at(a)&&!at(o))return!1;if(!e&&(!wf(o)&&!Js(o)&&(a=Je(a),o=Je(o)),!Ve(n)&&at(a)&&!at(o)))return a.value=o,!0;const l=Ve(n)&&ug(i)?Number(i)<n.length:et(n,i),f=Reflect.set(n,i,o,s);return n===Je(s)&&(l?za(o,a)&&hi(n,"set",i,o):hi(n,"add",i,o)),f}}function CR(e,t){const n=et(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&hi(e,"delete",t,void 0),i}function kR(e,t){const n=Reflect.has(e,t);return(!sg(t)||!O1.has(t))&&Bn(e,"has",t),n}function OR(e){return Bn(e,"iterate",Ve(e)?"length":qo),Reflect.ownKeys(e)}const R1={get:_R,set:AR,deleteProperty:CR,has:kR,ownKeys:OR},DR={get:ER,set(e,t){return!0},deleteProperty(e,t){return!0}},RR=In({},R1,{get:IR,set:NR}),fg=e=>e,rh=e=>Reflect.getPrototypeOf(e);function Ul(e,t,n=!1,i=!1){e=e.__v_raw;const o=Je(e),s=Je(t);n||(t!==s&&Bn(o,"get",t),Bn(o,"get",s));const{has:a}=rh(o),l=i?fg:n?pg:Ga;if(a.call(o,t))return l(e.get(t));if(a.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function Bl(e,t=!1){const n=this.__v_raw,i=Je(n),o=Je(e);return t||(e!==o&&Bn(i,"has",e),Bn(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function $l(e,t=!1){return e=e.__v_raw,!t&&Bn(Je(e),"iterate",qo),Reflect.get(e,"size",e)}function B_(e){e=Je(e);const t=Je(this);return rh(t).has.call(t,e)||(t.add(e),hi(t,"add",e,e)),this}function $_(e,t){t=Je(t);const n=Je(this),{has:i,get:o}=rh(n);let s=i.call(n,e);s||(e=Je(e),s=i.call(n,e));const a=o.call(n,e);return n.set(e,t),s?za(t,a)&&hi(n,"set",e,t):hi(n,"add",e,t),this}function q_(e){const t=Je(this),{has:n,get:i}=rh(t);let o=n.call(t,e);o||(e=Je(e),o=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return o&&hi(t,"delete",e,void 0),s}function K_(){const e=Je(this),t=e.size!==0,n=e.clear();return t&&hi(e,"clear",void 0,void 0),n}function ql(e,t){return function(i,o){const s=this,a=s.__v_raw,l=Je(a),f=t?fg:e?pg:Ga;return!e&&Bn(l,"iterate",qo),a.forEach((d,p)=>i.call(o,f(d),f(p),s))}}function Kl(e,t,n){return function(...i){const o=this.__v_raw,s=Je(o),a=Ws(s),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,d=o[e](...i),p=n?fg:t?pg:Ga;return!t&&Bn(s,"iterate",f?nm:qo),{next(){const{value:m,done:g}=d.next();return g?{value:m,done:g}:{value:l?[p(m[0]),p(m[1])]:p(m),done:g}},[Symbol.iterator](){return this}}}}function Ci(e){return function(...t){return e==="delete"?!1:this}}function xR(){const e={get(s){return Ul(this,s)},get size(){return $l(this)},has:Bl,add:B_,set:$_,delete:q_,clear:K_,forEach:ql(!1,!1)},t={get(s){return Ul(this,s,!1,!0)},get size(){return $l(this)},has:Bl,add:B_,set:$_,delete:q_,clear:K_,forEach:ql(!1,!0)},n={get(s){return Ul(this,s,!0)},get size(){return $l(this,!0)},has(s){return Bl.call(this,s,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:ql(!0,!1)},i={get(s){return Ul(this,s,!0,!0)},get size(){return $l(this,!0)},has(s){return Bl.call(this,s,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:ql(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Kl(s,!1,!1),n[s]=Kl(s,!0,!1),t[s]=Kl(s,!1,!0),i[s]=Kl(s,!0,!0)}),[e,n,t,i]}const[PR,LR,MR,VR]=xR();function hg(e,t){const n=t?e?VR:MR:e?LR:PR;return(i,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(et(n,o)&&o in i?n:i,o,s)}const FR={get:hg(!1,!1)},jR={get:hg(!1,!0)},UR={get:hg(!0,!1)},x1=new WeakMap,P1=new WeakMap,L1=new WeakMap,BR=new WeakMap;function $R(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qR(e){return e.__v_skip||!Object.isExtensible(e)?0:$R(fR(e))}function hr(e){return Js(e)?e:dg(e,!1,R1,FR,x1)}function KR(e){return dg(e,!1,RR,jR,P1)}function M1(e){return dg(e,!0,DR,UR,L1)}function dg(e,t,n,i,o){if(!Et(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=qR(e);if(a===0)return e;const l=new Proxy(e,a===2?i:n);return o.set(e,l),l}function Hi(e){return Js(e)?Hi(e.__v_raw):!!(e&&e.__v_isReactive)}function Js(e){return!!(e&&e.__v_isReadonly)}function wf(e){return!!(e&&e.__v_isShallow)}function V1(e){return Hi(e)||Js(e)}function Je(e){const t=e&&e.__v_raw;return t?Je(t):e}function Zi(e){return gf(e,"__v_skip",!0),e}const Ga=e=>Et(e)?hr(e):e,pg=e=>Et(e)?M1(e):e;function F1(e){Ki&&Er&&(e=Je(e),k1(e.dep||(e.dep=ag())))}function j1(e,t){e=Je(e);const n=e.dep;n&&rm(n)}function at(e){return!!(e&&e.__v_isRef===!0)}function wt(e){return U1(e,!1)}function HR(e){return U1(e,!0)}function U1(e,t){return at(e)?e:new zR(e,t)}class zR{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Je(t),this._value=n?t:Ga(t)}get value(){return F1(this),this._value}set value(t){const n=this.__v_isShallow||wf(t)||Js(t);t=n?t:Je(t),za(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ga(t),j1(this))}}function K(e){return at(e)?e.value:e}const GR={get:(e,t,n)=>K(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return at(o)&&!at(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function B1(e){return Hi(e)?e:new Proxy(e,GR)}function WR(e){const t=Ve(e)?new Array(e.length):{};for(const n in e)t[n]=zt(e,n);return t}class QR{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return wR(Je(this._object),this._key)}}function zt(e,t,n){const i=e[t];return at(i)?i:new QR(e,t,n)}var $1;class YR{constructor(t,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[$1]=!1,this._dirty=!0,this.effect=new cg(t,()=>{this._dirty||(this._dirty=!0,j1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=Je(this);return F1(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}$1="__v_isReadonly";function XR(e,t,n=!1){let i,o;const s=Ue(e);return s?(i=e,o=Sr):(i=e.get,o=e.set),new YR(i,o,s||!o,n)}function zi(e,t,n,i){let o;try{o=i?e(...i):e()}catch(s){ih(s,t,n)}return o}function lr(e,t,n,i){if(Ue(e)){const s=zi(e,t,n,i);return s&&b1(s)&&s.catch(a=>{ih(a,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(lr(e[s],t,n,i));return o}function ih(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,l=n;for(;s;){const d=s.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,a,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){zi(f,null,10,[e,a,l]);return}}JR(e,n,o,i)}function JR(e,t,n,i=!0){console.error(e)}let Wa=!1,im=!1;const wn=[];let Kr=0;const Qs=[];let oi=null,Po=0;const q1=Promise.resolve();let vg=null;function er(e){const t=vg||q1;return e?t.then(this?e.bind(this):e):t}function ZR(e){let t=Kr+1,n=wn.length;for(;t<n;){const i=t+n>>>1;Qa(wn[i])<e?t=i+1:n=i}return t}function mg(e){(!wn.length||!wn.includes(e,Wa&&e.allowRecurse?Kr+1:Kr))&&(e.id==null?wn.push(e):wn.splice(ZR(e.id),0,e),K1())}function K1(){!Wa&&!im&&(im=!0,vg=q1.then(z1))}function ex(e){const t=wn.indexOf(e);t>Kr&&wn.splice(t,1)}function tx(e){Ve(e)?Qs.push(...e):(!oi||!oi.includes(e,e.allowRecurse?Po+1:Po))&&Qs.push(e),K1()}function H_(e,t=Wa?Kr+1:0){for(;t<wn.length;t++){const n=wn[t];n&&n.pre&&(wn.splice(t,1),t--,n())}}function H1(e){if(Qs.length){const t=[...new Set(Qs)];if(Qs.length=0,oi){oi.push(...t);return}for(oi=t,oi.sort((n,i)=>Qa(n)-Qa(i)),Po=0;Po<oi.length;Po++)oi[Po]();oi=null,Po=0}}const Qa=e=>e.id==null?1/0:e.id,nx=(e,t)=>{const n=Qa(e)-Qa(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function z1(e){im=!1,Wa=!0,wn.sort(nx);const t=Sr;try{for(Kr=0;Kr<wn.length;Kr++){const n=wn[Kr];n&&n.active!==!1&&zi(n,null,14)}}finally{Kr=0,wn.length=0,H1(),Wa=!1,vg=null,(wn.length||Qs.length)&&z1()}}function rx(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||yt;let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in i){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:m,trim:g}=i[p]||yt;g&&(o=n.map(b=>Vt(b)?b.trim():b)),m&&(o=n.map(em))}let l,f=i[l=Av(t)]||i[l=Av(Gr(t))];!f&&s&&(f=i[l=Av(Tu(t))]),f&&lr(f,e,6,o);const d=i[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,lr(d,e,6,o)}}function G1(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const s=e.emits;let a={},l=!1;if(!Ue(e)){const f=d=>{const p=G1(d,t,!0);p&&(l=!0,In(a,p))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(Et(e)&&i.set(e,null),null):(Ve(s)?s.forEach(f=>a[f]=null):In(a,s),Et(e)&&i.set(e,a),a)}function oh(e,t){return!e||!Zf(t)?!1:(t=t.slice(2).replace(/Once$/,""),et(e,t[0].toLowerCase()+t.slice(1))||et(e,Tu(t))||et(e,t))}let ln=null,sh=null;function bf(e){const t=ln;return ln=e,sh=e&&e.type.__scopeId||null,t}function dr(e){sh=e}function pr(){sh=null}function st(e,t=ln,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&nI(-1);const s=bf(t);let a;try{a=e(...o)}finally{bf(s),i._d&&nI(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Nv(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[a],slots:l,attrs:f,emit:d,render:p,renderCache:m,data:g,setupState:b,ctx:I,inheritAttrs:A}=e;let P,C;const j=bf(e);try{if(n.shapeFlag&4){const J=o||i;P=qr(p.call(J,J,m,s,b,g,I)),C=f}else{const J=t;P=qr(J.length>1?J(s,{attrs:f,slots:l,emit:d}):J(s,null)),C=t.props?f:ix(f)}}catch(J){Ra.length=0,ih(J,e,1),P=Se(fr)}let F=P;if(C&&A!==!1){const J=Object.keys(C),{shapeFlag:x}=F;J.length&&x&7&&(a&&J.some(ig)&&(C=ox(C,a)),F=eo(F,C))}return n.dirs&&(F=eo(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),P=F,bf(j),P}const ix=e=>{let t;for(const n in e)(n==="class"||n==="style"||Zf(n))&&((t||(t={}))[n]=e[n]);return t},ox=(e,t)=>{const n={};for(const i in e)(!ig(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function sx(e,t,n){const{props:i,children:o,component:s}=e,{props:a,children:l,patchFlag:f}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?z_(i,a,d):!!a;if(f&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const g=p[m];if(a[g]!==i[g]&&!oh(d,g))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?z_(i,a,d):!0:!!a;return!1}function z_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const s=i[o];if(t[s]!==e[s]&&!oh(n,s))return!0}return!1}function ux({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const ax=e=>e.__isSuspense;function cx(e,t){t&&t.pendingBranch?Ve(e)?t.effects.push(...e):t.effects.push(e):tx(e)}function Gi(e,t){if(Mt){let n=Mt.provides;const i=Mt.parent&&Mt.parent.provides;i===n&&(n=Mt.provides=Object.create(i)),n[e]=t}}function jn(e,t,n=!1){const i=Mt||ln;if(i){const o=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Ue(t)?t.call(i.proxy):t}}function W1(e,t){return gg(e,null,t)}const Hl={};function ct(e,t,n){return gg(e,t,n)}function gg(e,t,{immediate:n,deep:i,flush:o,onTrack:s,onTrigger:a}=yt){const l=S1()===(Mt==null?void 0:Mt.scope)?Mt:null;let f,d=!1,p=!1;if(at(e)?(f=()=>e.value,d=wf(e)):Hi(e)?(f=()=>e,i=!0):Ve(e)?(p=!0,d=e.some(F=>Hi(F)||wf(F)),f=()=>e.map(F=>{if(at(F))return F.value;if(Hi(F))return Fo(F);if(Ue(F))return zi(F,l,2)})):Ue(e)?t?f=()=>zi(e,l,2):f=()=>{if(!(l&&l.isUnmounted))return m&&m(),lr(e,l,3,[g])}:f=Sr,t&&i){const F=f;f=()=>Fo(F())}let m,g=F=>{m=C.onStop=()=>{zi(F,l,4)}},b;if(Xa)if(g=Sr,t?n&&lr(t,l,3,[f(),p?[]:void 0,g]):f(),o==="sync"){const F=rP();b=F.__watcherHandles||(F.__watcherHandles=[])}else return Sr;let I=p?new Array(e.length).fill(Hl):Hl;const A=()=>{if(C.active)if(t){const F=C.run();(i||d||(p?F.some((J,x)=>za(J,I[x])):za(F,I)))&&(m&&m(),lr(t,l,3,[F,I===Hl?void 0:p&&I[0]===Hl?[]:I,g]),I=F)}else C.run()};A.allowRecurse=!!t;let P;o==="sync"?P=A:o==="post"?P=()=>Vn(A,l&&l.suspense):(A.pre=!0,l&&(A.id=l.uid),P=()=>mg(A));const C=new cg(f,P);t?n?A():I=C.run():o==="post"?Vn(C.run.bind(C),l&&l.suspense):C.run();const j=()=>{C.stop(),l&&l.scope&&og(l.scope.effects,C)};return b&&b.push(j),j}function lx(e,t,n){const i=this.proxy,o=Vt(e)?e.includes(".")?Q1(i,e):()=>i[e]:e.bind(i,i);let s;Ue(t)?s=t:(s=t.handler,n=t);const a=Mt;eu(this);const l=gg(o,s.bind(i),n);return a?eu(a):Ko(),l}function Q1(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function Fo(e,t){if(!Et(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),at(e))Fo(e.value,t);else if(Ve(e))for(let n=0;n<e.length;n++)Fo(e[n],t);else if(w1(e)||Ws(e))e.forEach(n=>{Fo(n,t)});else if(I1(e))for(const n in e)Fo(e[n],t);return e}function fx(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nu(()=>{e.isMounted=!0}),Cu(()=>{e.isUnmounting=!0}),e}const cr=[Function,Array],hx={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:cr,onEnter:cr,onAfterEnter:cr,onEnterCancelled:cr,onBeforeLeave:cr,onLeave:cr,onAfterLeave:cr,onLeaveCancelled:cr,onBeforeAppear:cr,onAppear:cr,onAfterAppear:cr,onAppearCancelled:cr},setup(e,{slots:t}){const n=ro(),i=fx();let o;return()=>{const s=t.default&&X1(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const A of s)if(A.type!==fr){a=A;break}}const l=Je(e),{mode:f}=l;if(i.isLeaving)return Cv(a);const d=G_(a);if(!d)return Cv(a);const p=om(d,l,i,n);sm(d,p);const m=n.subTree,g=m&&G_(m);let b=!1;const{getTransitionKey:I}=d.type;if(I){const A=I();o===void 0?o=A:A!==o&&(o=A,b=!0)}if(g&&g.type!==fr&&(!Lo(d,g)||b)){const A=om(g,l,i,n);if(sm(g,A),f==="out-in")return i.isLeaving=!0,A.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Cv(a);f==="in-out"&&d.type!==fr&&(A.delayLeave=(P,C,j)=>{const F=Y1(i,g);F[String(g.key)]=g,P._leaveCb=()=>{C(),P._leaveCb=void 0,delete p.delayedLeave},p.delayedLeave=j})}return a}}},dx=hx;function Y1(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function om(e,t,n,i){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:m,onLeave:g,onAfterLeave:b,onLeaveCancelled:I,onBeforeAppear:A,onAppear:P,onAfterAppear:C,onAppearCancelled:j}=t,F=String(e.key),J=Y1(n,e),x=(k,$)=>{k&&lr(k,i,9,$)},O=(k,$)=>{const T=$[1];x(k,$),Ve(k)?k.every(Ee=>Ee.length<=1)&&T():k.length<=1&&T()},M={mode:s,persisted:a,beforeEnter(k){let $=l;if(!n.isMounted)if(o)$=A||l;else return;k._leaveCb&&k._leaveCb(!0);const T=J[F];T&&Lo(e,T)&&T.el._leaveCb&&T.el._leaveCb(),x($,[k])},enter(k){let $=f,T=d,Ee=p;if(!n.isMounted)if(o)$=P||f,T=C||d,Ee=j||p;else return;let Ne=!1;const Ke=k._enterCb=Le=>{Ne||(Ne=!0,Le?x(Ee,[k]):x(T,[k]),M.delayedLeave&&M.delayedLeave(),k._enterCb=void 0)};$?O($,[k,Ke]):Ke()},leave(k,$){const T=String(e.key);if(k._enterCb&&k._enterCb(!0),n.isUnmounting)return $();x(m,[k]);let Ee=!1;const Ne=k._leaveCb=Ke=>{Ee||(Ee=!0,$(),Ke?x(I,[k]):x(b,[k]),k._leaveCb=void 0,J[T]===e&&delete J[T])};J[T]=e,g?O(g,[k,Ne]):Ne()},clone(k){return om(k,t,n,i)}};return M}function Cv(e){if(uh(e))return e=eo(e),e.children=null,e}function G_(e){return uh(e)?e.children?e.children[0]:void 0:e}function sm(e,t){e.shapeFlag&6&&e.component?sm(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function X1(e,t=!1,n){let i=[],o=0;for(let s=0;s<e.length;s++){let a=e[s];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===cn?(a.patchFlag&128&&o++,i=i.concat(X1(a.children,t,l))):(t||a.type!==fr)&&i.push(l!=null?eo(a,{key:l}):a)}if(o>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function Jr(e){return Ue(e)?{setup:e,name:e.name}:e}const ka=e=>!!e.type.__asyncLoader,uh=e=>e.type.__isKeepAlive;function px(e,t){J1(e,"a",t)}function vx(e,t){J1(e,"da",t)}function J1(e,t,n=Mt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(ah(t,i,n),n){let o=n.parent;for(;o&&o.parent;)uh(o.parent.vnode)&&mx(i,t,n,o),o=o.parent}}function mx(e,t,n,i){const o=ah(t,e,i,!0);Z1(()=>{og(i[t],o)},n)}function ah(e,t,n=Mt,i=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Su(),eu(n);const l=lr(t,n,e,a);return Ko(),Au(),l});return i?o.unshift(s):o.push(s),s}}const mi=e=>(t,n=Mt)=>(!Xa||e==="sp")&&ah(e,(...i)=>t(...i),n),gx=mi("bm"),Nu=mi("m"),yx=mi("bu"),wx=mi("u"),Cu=mi("bum"),Z1=mi("um"),bx=mi("sp"),_x=mi("rtg"),Ix=mi("rtc");function Ex(e,t=Mt){ah("ec",e,t)}function Zs(e,t){const n=ln;if(n===null)return e;const i=fh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,l,f,d=yt]=t[s];a&&(Ue(a)&&(a={mounted:a,updated:a}),a.deep&&Fo(l),o.push({dir:a,instance:i,value:l,oldValue:void 0,arg:f,modifiers:d}))}return e}function ko(e,t,n,i){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let f=l.dir[i];f&&(Su(),lr(f,n,8,[e.el,l,e,t]),Au())}}const yg="components";function $e(e,t){return tT(yg,e,!0,t)||e}const eT=Symbol();function ku(e){return Vt(e)?tT(yg,e,!1)||e:e||eT}function tT(e,t,n=!0,i=!1){const o=ln||Mt;if(o){const s=o.type;if(e===yg){const l=eP(s,!1);if(l&&(l===t||l===Gr(t)||l===nh(Gr(t))))return s}const a=W_(o[e]||s[e],t)||W_(o.appContext[e],t);return!a&&i?s:a}}function W_(e,t){return e&&(e[t]||e[Gr(t)]||e[nh(Gr(t))])}function wg(e,t,n,i){let o;const s=n&&n[i];if(Ve(e)||Vt(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,s&&s[a])}else if(Et(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=t(e[d],d,l,s&&s[l])}}else o=[];return n&&(n[i]=o),o}function bg(e,t,n={},i,o){if(ln.isCE||ln.parent&&ka(ln.parent)&&ln.parent.isCE)return t!=="default"&&(n.name=t),Se("slot",n,i&&i());let s=e[t];s&&s._c&&(s._d=!1),Oe();const a=s&&nT(s(n)),l=un(cn,{key:n.key||a&&a.key||`_${t}`},a||(i?i():[]),a&&e._===1?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function nT(e){return e.some(t=>If(t)?!(t.type===fr||t.type===cn&&!nT(t.children)):!0)?e:null}const um=e=>e?pT(e)?fh(e)||e.proxy:um(e.parent):null,Oa=In(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>um(e.parent),$root:e=>um(e.root),$emit:e=>e.emit,$options:e=>_g(e),$forceUpdate:e=>e.f||(e.f=()=>mg(e.update)),$nextTick:e=>e.n||(e.n=er.bind(e.proxy)),$watch:e=>lx.bind(e)}),kv=(e,t)=>e!==yt&&!e.__isScriptSetup&&et(e,t),Tx={get({_:e},t){const{ctx:n,setupState:i,data:o,props:s,accessCache:a,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(kv(i,t))return a[t]=1,i[t];if(o!==yt&&et(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&et(d,t))return a[t]=3,s[t];if(n!==yt&&et(n,t))return a[t]=4,n[t];am&&(a[t]=0)}}const p=Oa[t];let m,g;if(p)return t==="$attrs"&&Bn(e,"get",t),p(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==yt&&et(n,t))return a[t]=4,n[t];if(g=f.config.globalProperties,et(g,t))return g[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;return kv(o,t)?(o[t]=n,!0):i!==yt&&et(i,t)?(i[t]=n,!0):et(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==yt&&et(e,a)||kv(t,a)||(l=s[0])&&et(l,a)||et(i,a)||et(Oa,a)||et(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:et(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let am=!0;function Sx(e){const t=_g(e),n=e.proxy,i=e.ctx;am=!1,t.beforeCreate&&Q_(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:l,provide:f,inject:d,created:p,beforeMount:m,mounted:g,beforeUpdate:b,updated:I,activated:A,deactivated:P,beforeDestroy:C,beforeUnmount:j,destroyed:F,unmounted:J,render:x,renderTracked:O,renderTriggered:M,errorCaptured:k,serverPrefetch:$,expose:T,inheritAttrs:Ee,components:Ne,directives:Ke,filters:Le}=t;if(d&&Ax(d,i,null,e.appContext.config.unwrapInjectedRef),a)for(const fe in a){const me=a[fe];Ue(me)&&(i[fe]=me.bind(n))}if(o){const fe=o.call(n,n);Et(fe)&&(e.data=hr(fe))}if(am=!0,s)for(const fe in s){const me=s[fe],We=Ue(me)?me.bind(n,n):Ue(me.get)?me.get.bind(n,n):Sr,tt=!Ue(me)&&Ue(me.set)?me.set.bind(n):Sr,it=ke({get:We,set:tt});Object.defineProperty(i,fe,{enumerable:!0,configurable:!0,get:()=>it.value,set:Ze=>it.value=Ze})}if(l)for(const fe in l)rT(l[fe],i,n,fe);if(f){const fe=Ue(f)?f.call(n):f;Reflect.ownKeys(fe).forEach(me=>{Gi(me,fe[me])})}p&&Q_(p,e,"c");function he(fe,me){Ve(me)?me.forEach(We=>fe(We.bind(n))):me&&fe(me.bind(n))}if(he(gx,m),he(Nu,g),he(yx,b),he(wx,I),he(px,A),he(vx,P),he(Ex,k),he(Ix,O),he(_x,M),he(Cu,j),he(Z1,J),he(bx,$),Ve(T))if(T.length){const fe=e.exposed||(e.exposed={});T.forEach(me=>{Object.defineProperty(fe,me,{get:()=>n[me],set:We=>n[me]=We})})}else e.exposed||(e.exposed={});x&&e.render===Sr&&(e.render=x),Ee!=null&&(e.inheritAttrs=Ee),Ne&&(e.components=Ne),Ke&&(e.directives=Ke)}function Ax(e,t,n=Sr,i=!1){Ve(e)&&(e=cm(e));for(const o in e){const s=e[o];let a;Et(s)?"default"in s?a=jn(s.from||o,s.default,!0):a=jn(s.from||o):a=jn(s),at(a)&&i?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function Q_(e,t,n){lr(Ve(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function rT(e,t,n,i){const o=i.includes(".")?Q1(n,i):()=>n[i];if(Vt(e)){const s=t[e];Ue(s)&&ct(o,s)}else if(Ue(e))ct(o,e.bind(n));else if(Et(e))if(Ve(e))e.forEach(s=>rT(s,t,n,i));else{const s=Ue(e.handler)?e.handler.bind(n):t[e.handler];Ue(s)&&ct(o,s,e)}}function _g(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!i?f=t:(f={},o.length&&o.forEach(d=>_f(f,d,a,!0)),_f(f,t,a)),Et(t)&&s.set(t,f),f}function _f(e,t,n,i=!1){const{mixins:o,extends:s}=t;s&&_f(e,s,n,!0),o&&o.forEach(a=>_f(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const l=Nx[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const Nx={data:Y_,props:Ro,emits:Ro,methods:Ro,computed:Ro,beforeCreate:Nn,created:Nn,beforeMount:Nn,mounted:Nn,beforeUpdate:Nn,updated:Nn,beforeDestroy:Nn,beforeUnmount:Nn,destroyed:Nn,unmounted:Nn,activated:Nn,deactivated:Nn,errorCaptured:Nn,serverPrefetch:Nn,components:Ro,directives:Ro,watch:kx,provide:Y_,inject:Cx};function Y_(e,t){return t?e?function(){return In(Ue(e)?e.call(this,this):e,Ue(t)?t.call(this,this):t)}:t:e}function Cx(e,t){return Ro(cm(e),cm(t))}function cm(e){if(Ve(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Nn(e,t){return e?[...new Set([].concat(e,t))]:t}function Ro(e,t){return e?In(In(Object.create(null),e),t):t}function kx(e,t){if(!e)return t;if(!t)return e;const n=In(Object.create(null),e);for(const i in t)n[i]=Nn(e[i],t[i]);return n}function Ox(e,t,n,i=!1){const o={},s={};gf(s,lh,1),e.propsDefaults=Object.create(null),iT(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=i?o:KR(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function Dx(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,l=Je(o),[f]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let m=0;m<p.length;m++){let g=p[m];if(oh(e.emitsOptions,g))continue;const b=t[g];if(f)if(et(s,g))b!==s[g]&&(s[g]=b,d=!0);else{const I=Gr(g);o[I]=lm(f,l,I,b,e,!1)}else b!==s[g]&&(s[g]=b,d=!0)}}}else{iT(e,t,o,s)&&(d=!0);let p;for(const m in l)(!t||!et(t,m)&&((p=Tu(m))===m||!et(t,p)))&&(f?n&&(n[m]!==void 0||n[p]!==void 0)&&(o[m]=lm(f,l,m,void 0,e,!0)):delete o[m]);if(s!==l)for(const m in s)(!t||!et(t,m))&&(delete s[m],d=!0)}d&&hi(e,"set","$attrs")}function iT(e,t,n,i){const[o,s]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(sf(f))continue;const d=t[f];let p;o&&et(o,p=Gr(f))?!s||!s.includes(p)?n[p]=d:(l||(l={}))[p]=d:oh(e.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(s){const f=Je(n),d=l||yt;for(let p=0;p<s.length;p++){const m=s[p];n[m]=lm(o,f,m,d[m],e,!et(d,m))}}return a}function lm(e,t,n,i,o,s){const a=e[n];if(a!=null){const l=et(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&Ue(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(eu(o),i=d[n]=f.call(null,t),Ko())}else i=f}a[0]&&(s&&!l?i=!1:a[1]&&(i===""||i===Tu(n))&&(i=!0))}return i}function oT(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const s=e.props,a={},l=[];let f=!1;if(!Ue(e)){const p=m=>{f=!0;const[g,b]=oT(m,t,!0);In(a,g),b&&l.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!s&&!f)return Et(e)&&i.set(e,Gs),Gs;if(Ve(s))for(let p=0;p<s.length;p++){const m=Gr(s[p]);X_(m)&&(a[m]=yt)}else if(s)for(const p in s){const m=Gr(p);if(X_(m)){const g=s[p],b=a[m]=Ve(g)||Ue(g)?{type:g}:Object.assign({},g);if(b){const I=eI(Boolean,b.type),A=eI(String,b.type);b[0]=I>-1,b[1]=A<0||I<A,(I>-1||et(b,"default"))&&l.push(m)}}}const d=[a,l];return Et(e)&&i.set(e,d),d}function X_(e){return e[0]!=="$"}function J_(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Z_(e,t){return J_(e)===J_(t)}function eI(e,t){return Ve(t)?t.findIndex(n=>Z_(n,e)):Ue(t)&&Z_(t,e)?0:-1}const sT=e=>e[0]==="_"||e==="$stable",Ig=e=>Ve(e)?e.map(qr):[qr(e)],Rx=(e,t,n)=>{if(t._n)return t;const i=st((...o)=>Ig(t(...o)),n);return i._c=!1,i},uT=(e,t,n)=>{const i=e._ctx;for(const o in e){if(sT(o))continue;const s=e[o];if(Ue(s))t[o]=Rx(o,s,i);else if(s!=null){const a=Ig(s);t[o]=()=>a}}},aT=(e,t)=>{const n=Ig(t);e.slots.default=()=>n},xx=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Je(t),gf(t,"_",n)):uT(t,e.slots={})}else e.slots={},t&&aT(e,t);gf(e.slots,lh,1)},Px=(e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,a=yt;if(i.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(In(o,t),!n&&l===1&&delete o._):(s=!t.$stable,uT(t,o)),a=t}else t&&(aT(e,t),a={default:1});if(s)for(const l in o)!sT(l)&&!(l in a)&&delete o[l]};function cT(){return{app:null,config:{isNativeTag:aR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Lx=0;function Mx(e,t){return function(i,o=null){Ue(i)||(i=Object.assign({},i)),o!=null&&!Et(o)&&(o=null);const s=cT(),a=new Set;let l=!1;const f=s.app={_uid:Lx++,_component:i,_props:o,_container:null,_context:s,_instance:null,version:iP,get config(){return s.config},set config(d){},use(d,...p){return a.has(d)||(d&&Ue(d.install)?(a.add(d),d.install(f,...p)):Ue(d)&&(a.add(d),d(f,...p))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,p){return p?(s.components[d]=p,f):s.components[d]},directive(d,p){return p?(s.directives[d]=p,f):s.directives[d]},mount(d,p,m){if(!l){const g=Se(i,o);return g.appContext=s,p&&t?t(g,d):e(g,d,m),l=!0,f._container=d,d.__vue_app__=f,fh(g.component)||g.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,p){return s.provides[d]=p,f}};return f}}function fm(e,t,n,i,o=!1){if(Ve(e)){e.forEach((g,b)=>fm(g,t&&(Ve(t)?t[b]:t),n,i,o));return}if(ka(i)&&!o)return;const s=i.shapeFlag&4?fh(i.component)||i.component.proxy:i.el,a=o?null:s,{i:l,r:f}=e,d=t&&t.r,p=l.refs===yt?l.refs={}:l.refs,m=l.setupState;if(d!=null&&d!==f&&(Vt(d)?(p[d]=null,et(m,d)&&(m[d]=null)):at(d)&&(d.value=null)),Ue(f))zi(f,l,12,[a,p]);else{const g=Vt(f),b=at(f);if(g||b){const I=()=>{if(e.f){const A=g?et(m,f)?m[f]:p[f]:f.value;o?Ve(A)&&og(A,s):Ve(A)?A.includes(s)||A.push(s):g?(p[f]=[s],et(m,f)&&(m[f]=p[f])):(f.value=[s],e.k&&(p[e.k]=f.value))}else g?(p[f]=a,et(m,f)&&(m[f]=a)):b&&(f.value=a,e.k&&(p[e.k]=a))};a?(I.id=-1,Vn(I,n)):I()}}}const Vn=cx;function Vx(e){return Fx(e)}function Fx(e,t){const n=pR();n.__VUE__=!0;const{insert:i,remove:o,patchProp:s,createElement:a,createText:l,createComment:f,setText:d,setElementText:p,parentNode:m,nextSibling:g,setScopeId:b=Sr,insertStaticContent:I}=e,A=(E,D,U,G=null,Y=null,se=null,ae=!1,ie=null,le=!!D.dynamicChildren)=>{if(E===D)return;E&&!Lo(E,D)&&(G=R(E),Ze(E,Y,se,!0),E=null),D.patchFlag===-2&&(le=!1,D.dynamicChildren=null);const{type:_,ref:N,shapeFlag:V}=D;switch(_){case ch:P(E,D,U,G);break;case fr:C(E,D,U,G);break;case af:E==null&&j(D,U,G,ae);break;case cn:Ne(E,D,U,G,Y,se,ae,ie,le);break;default:V&1?x(E,D,U,G,Y,se,ae,ie,le):V&6?Ke(E,D,U,G,Y,se,ae,ie,le):(V&64||V&128)&&_.process(E,D,U,G,Y,se,ae,ie,le,pe)}N!=null&&Y&&fm(N,E&&E.ref,se,D||E,!D)},P=(E,D,U,G)=>{if(E==null)i(D.el=l(D.children),U,G);else{const Y=D.el=E.el;D.children!==E.children&&d(Y,D.children)}},C=(E,D,U,G)=>{E==null?i(D.el=f(D.children||""),U,G):D.el=E.el},j=(E,D,U,G)=>{[E.el,E.anchor]=I(E.children,D,U,G,E.el,E.anchor)},F=({el:E,anchor:D},U,G)=>{let Y;for(;E&&E!==D;)Y=g(E),i(E,U,G),E=Y;i(D,U,G)},J=({el:E,anchor:D})=>{let U;for(;E&&E!==D;)U=g(E),o(E),E=U;o(D)},x=(E,D,U,G,Y,se,ae,ie,le)=>{ae=ae||D.type==="svg",E==null?O(D,U,G,Y,se,ae,ie,le):$(E,D,Y,se,ae,ie,le)},O=(E,D,U,G,Y,se,ae,ie)=>{let le,_;const{type:N,props:V,shapeFlag:q,transition:ne,dirs:X}=E;if(le=E.el=a(E.type,se,V&&V.is,V),q&8?p(le,E.children):q&16&&k(E.children,le,null,G,Y,se&&N!=="foreignObject",ae,ie),X&&ko(E,null,G,"created"),M(le,E,E.scopeId,ae,G),V){for(const ve in V)ve!=="value"&&!sf(ve)&&s(le,ve,null,V[ve],se,E.children,G,Y,ce);"value"in V&&s(le,"value",null,V.value),(_=V.onVnodeBeforeMount)&&Br(_,G,E)}X&&ko(E,null,G,"beforeMount");const Q=(!Y||Y&&!Y.pendingBranch)&&ne&&!ne.persisted;Q&&ne.beforeEnter(le),i(le,D,U),((_=V&&V.onVnodeMounted)||Q||X)&&Vn(()=>{_&&Br(_,G,E),Q&&ne.enter(le),X&&ko(E,null,G,"mounted")},Y)},M=(E,D,U,G,Y)=>{if(U&&b(E,U),G)for(let se=0;se<G.length;se++)b(E,G[se]);if(Y){let se=Y.subTree;if(D===se){const ae=Y.vnode;M(E,ae,ae.scopeId,ae.slotScopeIds,Y.parent)}}},k=(E,D,U,G,Y,se,ae,ie,le=0)=>{for(let _=le;_<E.length;_++){const N=E[_]=ie?Vi(E[_]):qr(E[_]);A(null,N,D,U,G,Y,se,ae,ie)}},$=(E,D,U,G,Y,se,ae)=>{const ie=D.el=E.el;let{patchFlag:le,dynamicChildren:_,dirs:N}=D;le|=E.patchFlag&16;const V=E.props||yt,q=D.props||yt;let ne;U&&Oo(U,!1),(ne=q.onVnodeBeforeUpdate)&&Br(ne,U,D,E),N&&ko(D,E,U,"beforeUpdate"),U&&Oo(U,!0);const X=Y&&D.type!=="foreignObject";if(_?T(E.dynamicChildren,_,ie,U,G,X,se):ae||me(E,D,ie,null,U,G,X,se,!1),le>0){if(le&16)Ee(ie,D,V,q,U,G,Y);else if(le&2&&V.class!==q.class&&s(ie,"class",null,q.class,Y),le&4&&s(ie,"style",V.style,q.style,Y),le&8){const Q=D.dynamicProps;for(let ve=0;ve<Q.length;ve++){const Re=Q[ve],Fe=V[Re],Hn=q[Re];(Hn!==Fe||Re==="value")&&s(ie,Re,Fe,Hn,Y,E.children,U,G,ce)}}le&1&&E.children!==D.children&&p(ie,D.children)}else!ae&&_==null&&Ee(ie,D,V,q,U,G,Y);((ne=q.onVnodeUpdated)||N)&&Vn(()=>{ne&&Br(ne,U,D,E),N&&ko(D,E,U,"updated")},G)},T=(E,D,U,G,Y,se,ae)=>{for(let ie=0;ie<D.length;ie++){const le=E[ie],_=D[ie],N=le.el&&(le.type===cn||!Lo(le,_)||le.shapeFlag&70)?m(le.el):U;A(le,_,N,null,G,Y,se,ae,!0)}},Ee=(E,D,U,G,Y,se,ae)=>{if(U!==G){if(U!==yt)for(const ie in U)!sf(ie)&&!(ie in G)&&s(E,ie,U[ie],null,ae,D.children,Y,se,ce);for(const ie in G){if(sf(ie))continue;const le=G[ie],_=U[ie];le!==_&&ie!=="value"&&s(E,ie,_,le,ae,D.children,Y,se,ce)}"value"in G&&s(E,"value",U.value,G.value)}},Ne=(E,D,U,G,Y,se,ae,ie,le)=>{const _=D.el=E?E.el:l(""),N=D.anchor=E?E.anchor:l("");let{patchFlag:V,dynamicChildren:q,slotScopeIds:ne}=D;ne&&(ie=ie?ie.concat(ne):ne),E==null?(i(_,U,G),i(N,U,G),k(D.children,U,N,Y,se,ae,ie,le)):V>0&&V&64&&q&&E.dynamicChildren?(T(E.dynamicChildren,q,U,Y,se,ae,ie),(D.key!=null||Y&&D===Y.subTree)&&Eg(E,D,!0)):me(E,D,U,N,Y,se,ae,ie,le)},Ke=(E,D,U,G,Y,se,ae,ie,le)=>{D.slotScopeIds=ie,E==null?D.shapeFlag&512?Y.ctx.activate(D,U,G,ae,le):Le(D,U,G,Y,se,ae,le):be(E,D,le)},Le=(E,D,U,G,Y,se,ae)=>{const ie=E.component=Qx(E,G,Y);if(uh(E)&&(ie.ctx.renderer=pe),Yx(ie),ie.asyncDep){if(Y&&Y.registerDep(ie,he),!E.el){const le=ie.subTree=Se(fr);C(null,le,D,U)}return}he(ie,E,D,U,Y,se,ae)},be=(E,D,U)=>{const G=D.component=E.component;if(sx(E,D,U))if(G.asyncDep&&!G.asyncResolved){fe(G,D,U);return}else G.next=D,ex(G.update),G.update();else D.el=E.el,G.vnode=D},he=(E,D,U,G,Y,se,ae)=>{const ie=()=>{if(E.isMounted){let{next:N,bu:V,u:q,parent:ne,vnode:X}=E,Q=N,ve;Oo(E,!1),N?(N.el=X.el,fe(E,N,ae)):N=X,V&&uf(V),(ve=N.props&&N.props.onVnodeBeforeUpdate)&&Br(ve,ne,N,X),Oo(E,!0);const Re=Nv(E),Fe=E.subTree;E.subTree=Re,A(Fe,Re,m(Fe.el),R(Fe),E,Y,se),N.el=Re.el,Q===null&&ux(E,Re.el),q&&Vn(q,Y),(ve=N.props&&N.props.onVnodeUpdated)&&Vn(()=>Br(ve,ne,N,X),Y)}else{let N;const{el:V,props:q}=D,{bm:ne,m:X,parent:Q}=E,ve=ka(D);if(Oo(E,!1),ne&&uf(ne),!ve&&(N=q&&q.onVnodeBeforeMount)&&Br(N,Q,D),Oo(E,!0),V&&_e){const Re=()=>{E.subTree=Nv(E),_e(V,E.subTree,E,Y,null)};ve?D.type.__asyncLoader().then(()=>!E.isUnmounted&&Re()):Re()}else{const Re=E.subTree=Nv(E);A(null,Re,U,G,E,Y,se),D.el=Re.el}if(X&&Vn(X,Y),!ve&&(N=q&&q.onVnodeMounted)){const Re=D;Vn(()=>Br(N,Q,Re),Y)}(D.shapeFlag&256||Q&&ka(Q.vnode)&&Q.vnode.shapeFlag&256)&&E.a&&Vn(E.a,Y),E.isMounted=!0,D=U=G=null}},le=E.effect=new cg(ie,()=>mg(_),E.scope),_=E.update=()=>le.run();_.id=E.uid,Oo(E,!0),_()},fe=(E,D,U)=>{D.component=E;const G=E.vnode.props;E.vnode=D,E.next=null,Dx(E,D.props,G,U),Px(E,D.children,U),Su(),H_(),Au()},me=(E,D,U,G,Y,se,ae,ie,le=!1)=>{const _=E&&E.children,N=E?E.shapeFlag:0,V=D.children,{patchFlag:q,shapeFlag:ne}=D;if(q>0){if(q&128){tt(_,V,U,G,Y,se,ae,ie,le);return}else if(q&256){We(_,V,U,G,Y,se,ae,ie,le);return}}ne&8?(N&16&&ce(_,Y,se),V!==_&&p(U,V)):N&16?ne&16?tt(_,V,U,G,Y,se,ae,ie,le):ce(_,Y,se,!0):(N&8&&p(U,""),ne&16&&k(V,U,G,Y,se,ae,ie,le))},We=(E,D,U,G,Y,se,ae,ie,le)=>{E=E||Gs,D=D||Gs;const _=E.length,N=D.length,V=Math.min(_,N);let q;for(q=0;q<V;q++){const ne=D[q]=le?Vi(D[q]):qr(D[q]);A(E[q],ne,U,null,Y,se,ae,ie,le)}_>N?ce(E,Y,se,!0,!1,V):k(D,U,G,Y,se,ae,ie,le,V)},tt=(E,D,U,G,Y,se,ae,ie,le)=>{let _=0;const N=D.length;let V=E.length-1,q=N-1;for(;_<=V&&_<=q;){const ne=E[_],X=D[_]=le?Vi(D[_]):qr(D[_]);if(Lo(ne,X))A(ne,X,U,null,Y,se,ae,ie,le);else break;_++}for(;_<=V&&_<=q;){const ne=E[V],X=D[q]=le?Vi(D[q]):qr(D[q]);if(Lo(ne,X))A(ne,X,U,null,Y,se,ae,ie,le);else break;V--,q--}if(_>V){if(_<=q){const ne=q+1,X=ne<N?D[ne].el:G;for(;_<=q;)A(null,D[_]=le?Vi(D[_]):qr(D[_]),U,X,Y,se,ae,ie,le),_++}}else if(_>q)for(;_<=V;)Ze(E[_],Y,se,!0),_++;else{const ne=_,X=_,Q=new Map;for(_=X;_<=q;_++){const At=D[_]=le?Vi(D[_]):qr(D[_]);At.key!=null&&Q.set(At.key,_)}let ve,Re=0;const Fe=q-X+1;let Hn=!1,Ye=0;const wi=new Array(Fe);for(_=0;_<Fe;_++)wi[_]=0;for(_=ne;_<=V;_++){const At=E[_];if(Re>=Fe){Ze(At,Y,se,!0);continue}let zn;if(At.key!=null)zn=Q.get(At.key);else for(ve=X;ve<=q;ve++)if(wi[ve-X]===0&&Lo(At,D[ve])){zn=ve;break}zn===void 0?Ze(At,Y,se,!0):(wi[zn-X]=_+1,zn>=Ye?Ye=zn:Hn=!0,A(At,D[zn],U,null,Y,se,ae,ie,le),Re++)}const Rr=Hn?jx(wi):Gs;for(ve=Rr.length-1,_=Fe-1;_>=0;_--){const At=X+_,zn=D[At],nn=At+1<N?D[At+1].el:G;wi[_]===0?A(null,zn,U,nn,Y,se,ae,ie,le):Hn&&(ve<0||_!==Rr[ve]?it(zn,U,nn,2):ve--)}}},it=(E,D,U,G,Y=null)=>{const{el:se,type:ae,transition:ie,children:le,shapeFlag:_}=E;if(_&6){it(E.component.subTree,D,U,G);return}if(_&128){E.suspense.move(D,U,G);return}if(_&64){ae.move(E,D,U,pe);return}if(ae===cn){i(se,D,U);for(let V=0;V<le.length;V++)it(le[V],D,U,G);i(E.anchor,D,U);return}if(ae===af){F(E,D,U);return}if(G!==2&&_&1&&ie)if(G===0)ie.beforeEnter(se),i(se,D,U),Vn(()=>ie.enter(se),Y);else{const{leave:V,delayLeave:q,afterLeave:ne}=ie,X=()=>i(se,D,U),Q=()=>{V(se,()=>{X(),ne&&ne()})};q?q(se,X,Q):Q()}else i(se,D,U)},Ze=(E,D,U,G=!1,Y=!1)=>{const{type:se,props:ae,ref:ie,children:le,dynamicChildren:_,shapeFlag:N,patchFlag:V,dirs:q}=E;if(ie!=null&&fm(ie,null,U,E,!0),N&256){D.ctx.deactivate(E);return}const ne=N&1&&q,X=!ka(E);let Q;if(X&&(Q=ae&&ae.onVnodeBeforeUnmount)&&Br(Q,D,E),N&6)W(E.component,U,G);else{if(N&128){E.suspense.unmount(U,G);return}ne&&ko(E,null,D,"beforeUnmount"),N&64?E.type.remove(E,D,U,Y,pe,G):_&&(se!==cn||V>0&&V&64)?ce(_,D,U,!1,!0):(se===cn&&V&384||!Y&&N&16)&&ce(le,D,U),G&&Ot(E)}(X&&(Q=ae&&ae.onVnodeUnmounted)||ne)&&Vn(()=>{Q&&Br(Q,D,E),ne&&ko(E,null,D,"unmounted")},U)},Ot=E=>{const{type:D,el:U,anchor:G,transition:Y}=E;if(D===cn){tn(U,G);return}if(D===af){J(E);return}const se=()=>{o(U),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(E.shapeFlag&1&&Y&&!Y.persisted){const{leave:ae,delayLeave:ie}=Y,le=()=>ae(U,se);ie?ie(E.el,se,le):le()}else se()},tn=(E,D)=>{let U;for(;E!==D;)U=g(E),o(E),E=U;o(D)},W=(E,D,U)=>{const{bum:G,scope:Y,update:se,subTree:ae,um:ie}=E;G&&uf(G),Y.stop(),se&&(se.active=!1,Ze(ae,E,D,U)),ie&&Vn(ie,D),Vn(()=>{E.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},ce=(E,D,U,G=!1,Y=!1,se=0)=>{for(let ae=se;ae<E.length;ae++)Ze(E[ae],D,U,G,Y)},R=E=>E.shapeFlag&6?R(E.component.subTree):E.shapeFlag&128?E.suspense.next():g(E.anchor||E.el),H=(E,D,U)=>{E==null?D._vnode&&Ze(D._vnode,null,null,!0):A(D._vnode||null,E,D,null,null,null,U),H_(),H1(),D._vnode=E},pe={p:A,um:Ze,m:it,r:Ot,mt:Le,mc:k,pc:me,pbc:T,n:R,o:e};let Qe,_e;return t&&([Qe,_e]=t(pe)),{render:H,hydrate:Qe,createApp:Mx(H,Qe)}}function Oo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Eg(e,t,n=!1){const i=e.children,o=t.children;if(Ve(i)&&Ve(o))for(let s=0;s<i.length;s++){const a=i[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Vi(o[s]),l.el=a.el),n||Eg(a,l)),l.type===ch&&(l.el=a.el)}}function jx(e){const t=e.slice(),n=[0];let i,o,s,a,l;const f=e.length;for(i=0;i<f;i++){const d=e[i];if(d!==0){if(o=n[n.length-1],e[o]<d){t[i]=o,n.push(i);continue}for(s=0,a=n.length-1;s<a;)l=s+a>>1,e[n[l]]<d?s=l+1:a=l;d<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const Ux=e=>e.__isTeleport,Da=e=>e&&(e.disabled||e.disabled===""),tI=e=>typeof SVGElement<"u"&&e instanceof SVGElement,hm=(e,t)=>{const n=e&&e.to;return Vt(n)?t?t(n):null:n},Bx={__isTeleport:!0,process(e,t,n,i,o,s,a,l,f,d){const{mc:p,pc:m,pbc:g,o:{insert:b,querySelector:I,createText:A,createComment:P}}=d,C=Da(t.props);let{shapeFlag:j,children:F,dynamicChildren:J}=t;if(e==null){const x=t.el=A(""),O=t.anchor=A("");b(x,n,i),b(O,n,i);const M=t.target=hm(t.props,I),k=t.targetAnchor=A("");M&&(b(k,M),a=a||tI(M));const $=(T,Ee)=>{j&16&&p(F,T,Ee,o,s,a,l,f)};C?$(n,O):M&&$(M,k)}else{t.el=e.el;const x=t.anchor=e.anchor,O=t.target=e.target,M=t.targetAnchor=e.targetAnchor,k=Da(e.props),$=k?n:O,T=k?x:M;if(a=a||tI(O),J?(g(e.dynamicChildren,J,$,o,s,a,l),Eg(e,t,!0)):f||m(e,t,$,T,o,s,a,l,!1),C)k||zl(t,n,x,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Ee=t.target=hm(t.props,I);Ee&&zl(t,Ee,null,d,0)}else k&&zl(t,O,M,d,1)}lT(t)},remove(e,t,n,i,{um:o,o:{remove:s}},a){const{shapeFlag:l,children:f,anchor:d,targetAnchor:p,target:m,props:g}=e;if(m&&s(p),(a||!Da(g))&&(s(d),l&16))for(let b=0;b<f.length;b++){const I=f[b];o(I,t,n,!0,!!I.dynamicChildren)}},move:zl,hydrate:$x};function zl(e,t,n,{o:{insert:i},m:o},s=2){s===0&&i(e.targetAnchor,t,n);const{el:a,anchor:l,shapeFlag:f,children:d,props:p}=e,m=s===2;if(m&&i(a,t,n),(!m||Da(p))&&f&16)for(let g=0;g<d.length;g++)o(d[g],t,n,2);m&&i(l,t,n)}function $x(e,t,n,i,o,s,{o:{nextSibling:a,parentNode:l,querySelector:f}},d){const p=t.target=hm(t.props,f);if(p){const m=p._lpa||p.firstChild;if(t.shapeFlag&16)if(Da(t.props))t.anchor=d(a(e),t,l(e),n,i,o,s),t.targetAnchor=m;else{t.anchor=a(e);let g=m;for(;g;)if(g=a(g),g&&g.nodeType===8&&g.data==="teleport anchor"){t.targetAnchor=g,p._lpa=t.targetAnchor&&a(t.targetAnchor);break}d(m,t,p,n,i,o,s)}lT(t)}return t.anchor&&a(t.anchor)}const qx=Bx;function lT(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const cn=Symbol(void 0),ch=Symbol(void 0),fr=Symbol(void 0),af=Symbol(void 0),Ra=[];let Tr=null;function Oe(e=!1){Ra.push(Tr=e?null:[])}function Kx(){Ra.pop(),Tr=Ra[Ra.length-1]||null}let Ya=1;function nI(e){Ya+=e}function fT(e){return e.dynamicChildren=Ya>0?Tr||Gs:null,Kx(),Ya>0&&Tr&&Tr.push(e),e}function ot(e,t,n,i,o,s){return fT(L(e,t,n,i,o,s,!0))}function un(e,t,n,i,o){return fT(Se(e,t,n,i,o,!0))}function If(e){return e?e.__v_isVNode===!0:!1}function Lo(e,t){return e.type===t.type&&e.key===t.key}const lh="__vInternal",hT=({key:e})=>e??null,cf=({ref:e,ref_key:t,ref_for:n})=>e!=null?Vt(e)||at(e)||Ue(e)?{i:ln,r:e,k:t,f:!!n}:e:null;function L(e,t=null,n=null,i=0,o=null,s=e===cn?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&hT(t),ref:t&&cf(t),scopeId:sh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ln};return l?(Sg(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Vt(n)?8:16),Ya>0&&!a&&Tr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Tr.push(f),f}const Se=Hx;function Hx(e,t=null,n=null,i=0,o=null,s=!1){if((!e||e===eT)&&(e=fr),If(e)){const l=eo(e,t,!0);return n&&Sg(l,n),Ya>0&&!s&&Tr&&(l.shapeFlag&6?Tr[Tr.indexOf(e)]=l:Tr.push(l)),l.patchFlag|=-2,l}if(tP(e)&&(e=e.__vccOpts),t){t=zx(t);let{class:l,style:f}=t;l&&!Vt(l)&&(t.class=kr(l)),Et(f)&&(V1(f)&&!Ve(f)&&(f=In({},f)),t.style=rg(f))}const a=Vt(e)?1:ax(e)?128:Ux(e)?64:Et(e)?4:Ue(e)?2:0;return L(e,t,n,i,o,a,s,!0)}function zx(e){return e?V1(e)||lh in e?In({},e):e:null}function eo(e,t,n=!1){const{props:i,ref:o,patchFlag:s,children:a}=e,l=t?dT(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&hT(l),ref:t&&t.ref?n&&o?Ve(o)?o.concat(cf(t)):[o,cf(t)]:cf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==cn?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&eo(e.ssContent),ssFallback:e.ssFallback&&eo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function mn(e=" ",t=0){return Se(ch,null,e,t)}function Tg(e,t){const n=Se(af,null,e);return n.staticCount=t,n}function Jt(e="",t=!1){return t?(Oe(),un(fr,null,e)):Se(fr,null,e)}function qr(e){return e==null||typeof e=="boolean"?Se(fr):Ve(e)?Se(cn,null,e.slice()):typeof e=="object"?Vi(e):Se(ch,null,String(e))}function Vi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:eo(e)}function Sg(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ve(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),Sg(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(lh in t)?t._ctx=ln:o===3&&ln&&(ln.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ue(t)?(t={default:t,_ctx:ln},n=32):(t=String(t),i&64?(n=16,t=[mn(t)]):n=8);e.children=t,e.shapeFlag|=n}function dT(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=kr([t.class,i.class]));else if(o==="style")t.style=rg([t.style,i.style]);else if(Zf(o)){const s=t[o],a=i[o];a&&s!==a&&!(Ve(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=i[o])}return t}function Br(e,t,n,i=null){lr(e,t,7,[n,i])}const Gx=cT();let Wx=0;function Qx(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||Gx,s={uid:Wx++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new E1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:oT(i,o),emitsOptions:G1(i,o),emit:null,emitted:null,propsDefaults:yt,inheritAttrs:i.inheritAttrs,ctx:yt,data:yt,props:yt,attrs:yt,slots:yt,refs:yt,setupState:yt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=rx.bind(null,s),e.ce&&e.ce(s),s}let Mt=null;const ro=()=>Mt||ln,eu=e=>{Mt=e,e.scope.on()},Ko=()=>{Mt&&Mt.scope.off(),Mt=null};function pT(e){return e.vnode.shapeFlag&4}let Xa=!1;function Yx(e,t=!1){Xa=t;const{props:n,children:i}=e.vnode,o=pT(e);Ox(e,n,o,t),xx(e,i);const s=o?Xx(e,t):void 0;return Xa=!1,s}function Xx(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Zi(new Proxy(e.ctx,Tx));const{setup:i}=n;if(i){const o=e.setupContext=i.length>1?Zx(e):null;eu(e),Su();const s=zi(i,e,0,[e.props,o]);if(Au(),Ko(),b1(s)){if(s.then(Ko,Ko),t)return s.then(a=>{rI(e,a,t)}).catch(a=>{ih(a,e,0)});e.asyncDep=s}else rI(e,s,t)}else vT(e,t)}function rI(e,t,n){Ue(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Et(t)&&(e.setupState=B1(t)),vT(e,n)}let iI;function vT(e,t,n){const i=e.type;if(!e.render){if(!t&&iI&&!i.render){const o=i.template||_g(e).template;if(o){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=i,d=In(In({isCustomElement:s,delimiters:l},a),f);i.render=iI(o,d)}}e.render=i.render||Sr}eu(e),Su(),Sx(e),Au(),Ko()}function Jx(e){return new Proxy(e.attrs,{get(t,n){return Bn(e,"get","$attrs"),t[n]}})}function Zx(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=Jx(e))},slots:e.slots,emit:e.emit,expose:t}}function fh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(B1(Zi(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Oa)return Oa[n](e)},has(t,n){return n in t||n in Oa}}))}function eP(e,t=!0){return Ue(e)?e.displayName||e.name:e.name||t&&e.__name}function tP(e){return Ue(e)&&"__vccOpts"in e}const ke=(e,t)=>XR(e,t,Xa);function Wr(e,t,n){const i=arguments.length;return i===2?Et(t)&&!Ve(t)?If(t)?Se(e,null,[t]):Se(e,t):Se(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&If(n)&&(n=[n]),Se(e,t,n))}const nP=Symbol(""),rP=()=>jn(nP),iP="3.2.47",oP="http://www.w3.org/2000/svg",Mo=typeof document<"u"?document:null,oI=Mo&&Mo.createElement("template"),sP={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t?Mo.createElementNS(oP,e):Mo.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>Mo.createTextNode(e),createComment:e=>Mo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Mo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,s){const a=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{oI.innerHTML=i?`<svg>${e}</svg>`:e;const l=oI.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function uP(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function aP(e,t,n){const i=e.style,o=Vt(n);if(n&&!o){if(t&&!Vt(t))for(const s in t)n[s]==null&&dm(i,s,"");for(const s in n)dm(i,s,n[s])}else{const s=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=s)}}const sI=/\s*!important$/;function dm(e,t,n){if(Ve(n))n.forEach(i=>dm(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=cP(e,t);sI.test(n)?e.setProperty(Tu(i),n.replace(sI,""),"important"):e[i]=n}}const uI=["Webkit","Moz","ms"],Ov={};function cP(e,t){const n=Ov[t];if(n)return n;let i=Gr(t);if(i!=="filter"&&i in e)return Ov[t]=i;i=nh(i);for(let o=0;o<uI.length;o++){const s=uI[o]+i;if(s in e)return Ov[t]=s}return t}const aI="http://www.w3.org/1999/xlink";function lP(e,t,n,i,o){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(aI,t.slice(6,t.length)):e.setAttributeNS(aI,t,n);else{const s=uR(t);n==null||s&&!g1(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function fP(e,t,n,i,o,s,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,o,s),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const f=n??"";(e.value!==f||e.tagName==="OPTION")&&(e.value=f),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=g1(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Us(e,t,n,i){e.addEventListener(t,n,i)}function hP(e,t,n,i){e.removeEventListener(t,n,i)}function dP(e,t,n,i,o=null){const s=e._vei||(e._vei={}),a=s[t];if(i&&a)a.value=i;else{const[l,f]=pP(t);if(i){const d=s[t]=gP(i,o);Us(e,l,d,f)}else a&&(hP(e,l,a,f),s[t]=void 0)}}const cI=/(?:Once|Passive|Capture)$/;function pP(e){let t;if(cI.test(e)){t={};let i;for(;i=e.match(cI);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Tu(e.slice(2)),t]}let Dv=0;const vP=Promise.resolve(),mP=()=>Dv||(vP.then(()=>Dv=0),Dv=Date.now());function gP(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;lr(yP(i,n.value),t,5,[i])};return n.value=e,n.attached=mP(),n}function yP(e,t){if(Ve(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const lI=/^on[a-z]/,wP=(e,t,n,i,o=!1,s,a,l,f)=>{t==="class"?uP(e,i,o):t==="style"?aP(e,n,i):Zf(t)?ig(t)||dP(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):bP(e,t,i,o))?fP(e,t,i,s,a,l,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),lP(e,t,i,o))};function bP(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&lI.test(t)&&Ue(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||lI.test(t)&&Vt(n)?!1:t in e}const _P={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};dx.props;const fI=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ve(t)?n=>uf(t,n):t};function IP(e){e.target.composing=!0}function hI(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const hh={created(e,{modifiers:{lazy:t,trim:n,number:i}},o){e._assign=fI(o);const s=i||o.props&&o.props.type==="number";Us(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n&&(l=l.trim()),s&&(l=em(l)),e._assign(l)}),n&&Us(e,"change",()=>{e.value=e.value.trim()}),t||(Us(e,"compositionstart",IP),Us(e,"compositionend",hI),Us(e,"change",hI))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:o}},s){if(e._assign=fI(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===t||(o||e.type==="number")&&em(e.value)===t))return;const a=t??"";e.value!==a&&(e.value=a)}},EP=["ctrl","shift","alt","meta"],TP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>EP.some(n=>e[`${n}Key`]&&!t.includes(n))},Be=(e,t)=>(n,...i)=>{for(let o=0;o<t.length;o++){const s=TP[t[o]];if(s&&s(n,t))return}return e(n,...i)},dI={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ia(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Ia(e,!0),i.enter(e)):i.leave(e,()=>{Ia(e,!1)}):Ia(e,t))},beforeUnmount(e,{value:t}){Ia(e,t)}};function Ia(e,t){e.style.display=t?e._vod:"none"}const SP=In({patchProp:wP},sP);let pI;function AP(){return pI||(pI=Vx(SP))}const NP=(...e)=>{const t=AP().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=CP(i);if(!o)return;const s=t._component;!Ue(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function CP(e){return Vt(e)?document.querySelector(e):e}var kP=!1;/*!
  * pinia v2.0.35
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let mT;const dh=e=>mT=e,gT=Symbol();function pm(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var xa;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(xa||(xa={}));function OP(){const e=T1(!0),t=e.run(()=>wt({}));let n=[],i=[];const o=Zi({install(s){dh(o),o._a=s,s.provide(gT,o),s.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(s){return!this._a&&!kP?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const yT=()=>{};function vI(e,t,n,i=yT){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&S1()&&mR(o),o}function Ls(e,...t){e.slice().forEach(n=>{n(...t)})}function vm(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];pm(o)&&pm(i)&&e.hasOwnProperty(n)&&!at(i)&&!Hi(i)?e[n]=vm(o,i):e[n]=i}return e}const DP=Symbol();function RP(e){return!pm(e)||!e.hasOwnProperty(DP)}const{assign:Pi}=Object;function xP(e){return!!(at(e)&&e.effect)}function PP(e,t,n,i){const{state:o,actions:s,getters:a}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const p=WR(n.state.value[e]);return Pi(p,s,Object.keys(a||{}).reduce((m,g)=>(m[g]=Zi(ke(()=>{dh(n);const b=n._s.get(e);return a[g].call(b,b)})),m),{}))}return f=wT(e,d,t,n,i,!0),f}function wT(e,t,n={},i,o,s){let a;const l=Pi({actions:{}},n),f={deep:!0};let d,p,m=Zi([]),g=Zi([]),b;const I=i.state.value[e];!s&&!I&&(i.state.value[e]={}),wt({});let A;function P(M){let k;d=p=!1,typeof M=="function"?(M(i.state.value[e]),k={type:xa.patchFunction,storeId:e,events:b}):(vm(i.state.value[e],M),k={type:xa.patchObject,payload:M,storeId:e,events:b});const $=A=Symbol();er().then(()=>{A===$&&(d=!0)}),p=!0,Ls(m,k,i.state.value[e])}const C=s?function(){const{state:k}=n,$=k?k():{};this.$patch(T=>{Pi(T,$)})}:yT;function j(){a.stop(),m=[],g=[],i._s.delete(e)}function F(M,k){return function(){dh(i);const $=Array.from(arguments),T=[],Ee=[];function Ne(be){T.push(be)}function Ke(be){Ee.push(be)}Ls(g,{args:$,name:M,store:x,after:Ne,onError:Ke});let Le;try{Le=k.apply(this&&this.$id===e?this:x,$)}catch(be){throw Ls(Ee,be),be}return Le instanceof Promise?Le.then(be=>(Ls(T,be),be)).catch(be=>(Ls(Ee,be),Promise.reject(be))):(Ls(T,Le),Le)}}const J={_p:i,$id:e,$onAction:vI.bind(null,g),$patch:P,$reset:C,$subscribe(M,k={}){const $=vI(m,M,k.detached,()=>T()),T=a.run(()=>ct(()=>i.state.value[e],Ee=>{(k.flush==="sync"?p:d)&&M({storeId:e,type:xa.direct,events:b},Ee)},Pi({},f,k)));return $},$dispose:j},x=hr(J);i._s.set(e,x);const O=i._e.run(()=>(a=T1(),a.run(()=>t())));for(const M in O){const k=O[M];if(at(k)&&!xP(k)||Hi(k))s||(I&&RP(k)&&(at(k)?k.value=I[M]:vm(k,I[M])),i.state.value[e][M]=k);else if(typeof k=="function"){const $=F(M,k);O[M]=$,l.actions[M]=k}}return Pi(x,O),Pi(Je(x),O),Object.defineProperty(x,"$state",{get:()=>i.state.value[e],set:M=>{P(k=>{Pi(k,M)})}}),i._p.forEach(M=>{Pi(x,a.run(()=>M({store:x,app:i._a,pinia:i,options:l})))}),I&&s&&n.hydrate&&n.hydrate(x.$state,I),d=!0,p=!0,x}function bT(e,t,n){let i,o;const s=typeof t=="function";typeof e=="string"?(i=e,o=s?n:t):(o=e,i=e.id);function a(l,f){const d=ro();return l=l||d&&jn(gT,null),l&&dh(l),l=mT,l._s.has(i)||(s?wT(i,t,o,l):PP(i,o,l)),l._s.get(i)}return a.$id=i,a}function _T(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(){return e(this.$pinia)[i]},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(){const o=e(this.$pinia),s=t[i];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function gi(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[i](...o)},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[t[i]](...o)},n),{})}const Kt=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},LP={};function MP(e,t,n,i,o,s){const a=$e("router-view");return Oe(),un(a)}const VP=Kt(LP,[["render",MP]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Bs=typeof window<"u";function FP(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ht=Object.assign;function Rv(e,t){const n={};for(const i in t){const o=t[i];n[i]=Or(o)?o.map(e):e(o)}return n}const Pa=()=>{},Or=Array.isArray,jP=/\/$/,UP=e=>e.replace(jP,"");function xv(e,t,n="/"){let i,o={},s="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=KP(i??t,n),{fullPath:i+(s&&"?")+s+a,path:i,query:o,hash:a}}function BP(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function mI(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function $P(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&tu(t.matched[i],n.matched[o])&&IT(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function tu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function IT(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!qP(e[n],t[n]))return!1;return!0}function qP(e,t){return Or(e)?gI(e,t):Or(t)?gI(t,e):e===t}function gI(e,t){return Or(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function KP(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let o=n.length-1,s,a;for(s=0;s<i.length;s++)if(a=i[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(s-(s===i.length?1:0)).join("/")}var Ja;(function(e){e.pop="pop",e.push="push"})(Ja||(Ja={}));var La;(function(e){e.back="back",e.forward="forward",e.unknown=""})(La||(La={}));function HP(e){if(!e)if(Bs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),UP(e)}const zP=/^[^#]+#/;function GP(e,t){return e.replace(zP,"#")+t}function WP(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const ph=()=>({left:window.pageXOffset,top:window.pageYOffset});function QP(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=WP(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function yI(e,t){return(history.state?history.state.position-t:-1)+e}const mm=new Map;function YP(e,t){mm.set(e,t)}function XP(e){const t=mm.get(e);return mm.delete(e),t}let JP=()=>location.protocol+"//"+location.host;function ET(e,t){const{pathname:n,search:i,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),mI(f,"")}return mI(n,e)+i+o}function ZP(e,t,n,i){let o=[],s=[],a=null;const l=({state:g})=>{const b=ET(e,location),I=n.value,A=t.value;let P=0;if(g){if(n.value=b,t.value=g,a&&a===I){a=null;return}P=A?g.position-A.position:0}else i(b);o.forEach(C=>{C(n.value,I,{delta:P,type:Ja.pop,direction:P?P>0?La.forward:La.back:La.unknown})})};function f(){a=n.value}function d(g){o.push(g);const b=()=>{const I=o.indexOf(g);I>-1&&o.splice(I,1)};return s.push(b),b}function p(){const{history:g}=window;g.state&&g.replaceState(ht({},g.state,{scroll:ph()}),"")}function m(){for(const g of s)g();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p),{pauseListeners:f,listen:d,destroy:m}}function wI(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?ph():null}}function eL(e){const{history:t,location:n}=window,i={value:ET(e,n)},o={value:t.state};o.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,d,p){const m=e.indexOf("#"),g=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+f:JP()+e+f;try{t[p?"replaceState":"pushState"](d,"",g),o.value=d}catch(b){console.error(b),n[p?"replace":"assign"](g)}}function a(f,d){const p=ht({},t.state,wI(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});s(f,p,!0),i.value=f}function l(f,d){const p=ht({},o.value,t.state,{forward:f,scroll:ph()});s(p.current,p,!0);const m=ht({},wI(i.value,f,null),{position:p.position+1},d);s(f,m,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function tL(e){e=HP(e);const t=eL(e),n=ZP(e,t.state,t.location,t.replace);function i(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=ht({location:"",base:e,go:i,createHref:GP.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function nL(e){return typeof e=="string"||e&&typeof e=="object"}function TT(e){return typeof e=="string"||typeof e=="symbol"}const ki={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ST=Symbol("");var bI;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(bI||(bI={}));function nu(e,t){return ht(new Error,{type:e,[ST]:!0},t)}function ii(e,t){return e instanceof Error&&ST in e&&(t==null||!!(e.type&t))}const _I="[^/]+?",rL={sensitive:!1,strict:!1,start:!0,end:!0},iL=/[.+*?^${}()[\]/\\]/g;function oL(e,t){const n=ht({},rL,t),i=[];let o=n.start?"^":"";const s=[];for(const d of e){const p=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let m=0;m<d.length;m++){const g=d[m];let b=40+(n.sensitive?.25:0);if(g.type===0)m||(o+="/"),o+=g.value.replace(iL,"\\$&"),b+=40;else if(g.type===1){const{value:I,repeatable:A,optional:P,regexp:C}=g;s.push({name:I,repeatable:A,optional:P});const j=C||_I;if(j!==_I){b+=10;try{new RegExp(`(${j})`)}catch(J){throw new Error(`Invalid custom RegExp for param "${I}" (${j}): `+J.message)}}let F=A?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;m||(F=P&&d.length<2?`(?:/${F})`:"/"+F),P&&(F+="?"),o+=F,b+=20,P&&(b+=-8),A&&(b+=-20),j===".*"&&(b+=-50)}p.push(b)}i.push(p)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const p=d.match(a),m={};if(!p)return null;for(let g=1;g<p.length;g++){const b=p[g]||"",I=s[g-1];m[I.name]=b&&I.repeatable?b.split("/"):b}return m}function f(d){let p="",m=!1;for(const g of e){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const b of g)if(b.type===0)p+=b.value;else if(b.type===1){const{value:I,repeatable:A,optional:P}=b,C=I in d?d[I]:"";if(Or(C)&&!A)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const j=Or(C)?C.join("/"):C;if(!j)if(P)g.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${I}"`);p+=j}}return p||"/"}return{re:a,score:i,keys:s,parse:l,stringify:f}}function sL(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function uL(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const s=sL(i[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-i.length)===1){if(II(i))return 1;if(II(o))return-1}return o.length-i.length}function II(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const aL={type:0,value:""},cL=/[a-zA-Z0-9_]/;function lL(e){if(!e)return[[]];if(e==="/")return[[aL]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let l=0,f,d="",p="";function m(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:p,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function g(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&m(),a()):f===":"?(m(),n=1):g();break;case 4:g(),n=i;break;case 1:f==="("?n=2:cL.test(f)?g():(m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+f:n=3:p+=f;break;case 3:m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),m(),a(),o}function fL(e,t,n){const i=oL(lL(e.path),n),o=ht(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function hL(e,t){const n=[],i=new Map;t=SI({strict:!1,end:!0,sensitive:!1},t);function o(p){return i.get(p)}function s(p,m,g){const b=!g,I=dL(p);I.aliasOf=g&&g.record;const A=SI(t,p),P=[I];if("alias"in p){const F=typeof p.alias=="string"?[p.alias]:p.alias;for(const J of F)P.push(ht({},I,{components:g?g.record.components:I.components,path:J,aliasOf:g?g.record:I}))}let C,j;for(const F of P){const{path:J}=F;if(m&&J[0]!=="/"){const x=m.record.path,O=x[x.length-1]==="/"?"":"/";F.path=m.record.path+(J&&O+J)}if(C=fL(F,m,A),g?g.alias.push(C):(j=j||C,j!==C&&j.alias.push(C),b&&p.name&&!TI(C)&&a(p.name)),I.children){const x=I.children;for(let O=0;O<x.length;O++)s(x[O],C,g&&g.children[O])}g=g||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&f(C)}return j?()=>{a(j)}:Pa}function a(p){if(TT(p)){const m=i.get(p);m&&(i.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&i.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function f(p){let m=0;for(;m<n.length&&uL(p,n[m])>=0&&(p.record.path!==n[m].record.path||!AT(p,n[m]));)m++;n.splice(m,0,p),p.record.name&&!TI(p)&&i.set(p.record.name,p)}function d(p,m){let g,b={},I,A;if("name"in p&&p.name){if(g=i.get(p.name),!g)throw nu(1,{location:p});A=g.record.name,b=ht(EI(m.params,g.keys.filter(j=>!j.optional).map(j=>j.name)),p.params&&EI(p.params,g.keys.map(j=>j.name))),I=g.stringify(b)}else if("path"in p)I=p.path,g=n.find(j=>j.re.test(I)),g&&(b=g.parse(I),A=g.record.name);else{if(g=m.name?i.get(m.name):n.find(j=>j.re.test(m.path)),!g)throw nu(1,{location:p,currentLocation:m});A=g.record.name,b=ht({},m.params,p.params),I=g.stringify(b)}const P=[];let C=g;for(;C;)P.unshift(C.record),C=C.parent;return{name:A,path:I,params:b,matched:P,meta:vL(P)}}return e.forEach(p=>s(p)),{addRoute:s,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function EI(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function dL(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:pL(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function pL(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function TI(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function vL(e){return e.reduce((t,n)=>ht(t,n.meta),{})}function SI(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function AT(e,t){return t.children.some(n=>n===e||AT(e,n))}const NT=/#/g,mL=/&/g,gL=/\//g,yL=/=/g,wL=/\?/g,CT=/\+/g,bL=/%5B/g,_L=/%5D/g,kT=/%5E/g,IL=/%60/g,OT=/%7B/g,EL=/%7C/g,DT=/%7D/g,TL=/%20/g;function Ag(e){return encodeURI(""+e).replace(EL,"|").replace(bL,"[").replace(_L,"]")}function SL(e){return Ag(e).replace(OT,"{").replace(DT,"}").replace(kT,"^")}function gm(e){return Ag(e).replace(CT,"%2B").replace(TL,"+").replace(NT,"%23").replace(mL,"%26").replace(IL,"`").replace(OT,"{").replace(DT,"}").replace(kT,"^")}function AL(e){return gm(e).replace(yL,"%3D")}function NL(e){return Ag(e).replace(NT,"%23").replace(wL,"%3F")}function CL(e){return e==null?"":NL(e).replace(gL,"%2F")}function Ef(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function kL(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const s=i[o].replace(CT," "),a=s.indexOf("="),l=Ef(a<0?s:s.slice(0,a)),f=a<0?null:Ef(s.slice(a+1));if(l in t){let d=t[l];Or(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function AI(e){let t="";for(let n in e){const i=e[n];if(n=AL(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Or(i)?i.map(s=>s&&gm(s)):[i&&gm(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function OL(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Or(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const DL=Symbol(""),NI=Symbol(""),Ng=Symbol(""),RT=Symbol(""),ym=Symbol("");function Ea(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Fi(e,t,n,i,o){const s=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=m=>{m===!1?l(nu(4,{from:n,to:t})):m instanceof Error?l(m):nL(m)?l(nu(2,{from:t,to:m})):(s&&i.enterCallbacks[o]===s&&typeof m=="function"&&s.push(m),a())},d=e.call(i&&i.instances[o],t,n,f);let p=Promise.resolve(d);e.length<3&&(p=p.then(f)),p.catch(m=>l(m))})}function Pv(e,t,n,i){const o=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(RL(l)){const d=(l.__vccOpts||l)[t];d&&o.push(Fi(d,n,i,s,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const p=FP(d)?d.default:d;s.components[a]=p;const g=(p.__vccOpts||p)[t];return g&&Fi(g,n,i,s,a)()}))}}return o}function RL(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function CI(e){const t=jn(Ng),n=jn(RT),i=ke(()=>t.resolve(K(e.to))),o=ke(()=>{const{matched:f}=i.value,{length:d}=f,p=f[d-1],m=n.matched;if(!p||!m.length)return-1;const g=m.findIndex(tu.bind(null,p));if(g>-1)return g;const b=kI(f[d-2]);return d>1&&kI(p)===b&&m[m.length-1].path!==b?m.findIndex(tu.bind(null,f[d-2])):g}),s=ke(()=>o.value>-1&&ML(n.params,i.value.params)),a=ke(()=>o.value>-1&&o.value===n.matched.length-1&&IT(n.params,i.value.params));function l(f={}){return LL(f)?t[K(e.replace)?"replace":"push"](K(e.to)).catch(Pa):Promise.resolve()}return{route:i,href:ke(()=>i.value.href),isActive:s,isExactActive:a,navigate:l}}const xL=Jr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:CI,setup(e,{slots:t}){const n=hr(CI(e)),{options:i}=jn(Ng),o=ke(()=>({[OI(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[OI(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Wr("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),PL=xL;function LL(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ML(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Or(o)||o.length!==i.length||i.some((s,a)=>s!==o[a]))return!1}return!0}function kI(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const OI=(e,t,n)=>e??t??n,VL=Jr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=jn(ym),o=ke(()=>e.route||i.value),s=jn(NI,0),a=ke(()=>{let d=K(s);const{matched:p}=o.value;let m;for(;(m=p[d])&&!m.components;)d++;return d}),l=ke(()=>o.value.matched[a.value]);Gi(NI,ke(()=>a.value+1)),Gi(DL,l),Gi(ym,o);const f=wt();return ct(()=>[f.value,l.value,e.name],([d,p,m],[g,b,I])=>{p&&(p.instances[m]=d,b&&b!==p&&d&&d===g&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),d&&p&&(!b||!tu(p,b)||!g)&&(p.enterCallbacks[m]||[]).forEach(A=>A(d))},{flush:"post"}),()=>{const d=o.value,p=e.name,m=l.value,g=m&&m.components[p];if(!g)return DI(n.default,{Component:g,route:d});const b=m.props[p],I=b?b===!0?d.params:typeof b=="function"?b(d):b:null,P=Wr(g,ht({},I,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(m.instances[p]=null)},ref:f}));return DI(n.default,{Component:P,route:d})||P}}});function DI(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const FL=VL;function jL(e){const t=hL(e.routes,e),n=e.parseQuery||kL,i=e.stringifyQuery||AI,o=e.history,s=Ea(),a=Ea(),l=Ea(),f=HR(ki);let d=ki;Bs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Rv.bind(null,W=>""+W),m=Rv.bind(null,CL),g=Rv.bind(null,Ef);function b(W,ce){let R,H;return TT(W)?(R=t.getRecordMatcher(W),H=ce):H=W,t.addRoute(H,R)}function I(W){const ce=t.getRecordMatcher(W);ce&&t.removeRoute(ce)}function A(){return t.getRoutes().map(W=>W.record)}function P(W){return!!t.getRecordMatcher(W)}function C(W,ce){if(ce=ht({},ce||f.value),typeof W=="string"){const E=xv(n,W,ce.path),D=t.resolve({path:E.path},ce),U=o.createHref(E.fullPath);return ht(E,D,{params:g(D.params),hash:Ef(E.hash),redirectedFrom:void 0,href:U})}let R;if("path"in W)R=ht({},W,{path:xv(n,W.path,ce.path).path});else{const E=ht({},W.params);for(const D in E)E[D]==null&&delete E[D];R=ht({},W,{params:m(W.params)}),ce.params=m(ce.params)}const H=t.resolve(R,ce),pe=W.hash||"";H.params=p(g(H.params));const Qe=BP(i,ht({},W,{hash:SL(pe),path:H.path})),_e=o.createHref(Qe);return ht({fullPath:Qe,hash:pe,query:i===AI?OL(W.query):W.query||{}},H,{redirectedFrom:void 0,href:_e})}function j(W){return typeof W=="string"?xv(n,W,f.value.path):ht({},W)}function F(W,ce){if(d!==W)return nu(8,{from:ce,to:W})}function J(W){return M(W)}function x(W){return J(ht(j(W),{replace:!0}))}function O(W){const ce=W.matched[W.matched.length-1];if(ce&&ce.redirect){const{redirect:R}=ce;let H=typeof R=="function"?R(W):R;return typeof H=="string"&&(H=H.includes("?")||H.includes("#")?H=j(H):{path:H},H.params={}),ht({query:W.query,hash:W.hash,params:"path"in H?{}:W.params},H)}}function M(W,ce){const R=d=C(W),H=f.value,pe=W.state,Qe=W.force,_e=W.replace===!0,E=O(R);if(E)return M(ht(j(E),{state:typeof E=="object"?ht({},pe,E.state):pe,force:Qe,replace:_e}),ce||R);const D=R;D.redirectedFrom=ce;let U;return!Qe&&$P(i,H,R)&&(U=nu(16,{to:D,from:H}),tt(H,H,!0,!1)),(U?Promise.resolve(U):$(D,H)).catch(G=>ii(G)?ii(G,2)?G:We(G):fe(G,D,H)).then(G=>{if(G){if(ii(G,2))return M(ht({replace:_e},j(G.to),{state:typeof G.to=="object"?ht({},pe,G.to.state):pe,force:Qe}),ce||D)}else G=Ee(D,H,!0,_e,pe);return T(D,H,G),G})}function k(W,ce){const R=F(W,ce);return R?Promise.reject(R):Promise.resolve()}function $(W,ce){let R;const[H,pe,Qe]=UL(W,ce);R=Pv(H.reverse(),"beforeRouteLeave",W,ce);for(const E of H)E.leaveGuards.forEach(D=>{R.push(Fi(D,W,ce))});const _e=k.bind(null,W,ce);return R.push(_e),Ms(R).then(()=>{R=[];for(const E of s.list())R.push(Fi(E,W,ce));return R.push(_e),Ms(R)}).then(()=>{R=Pv(pe,"beforeRouteUpdate",W,ce);for(const E of pe)E.updateGuards.forEach(D=>{R.push(Fi(D,W,ce))});return R.push(_e),Ms(R)}).then(()=>{R=[];for(const E of W.matched)if(E.beforeEnter&&!ce.matched.includes(E))if(Or(E.beforeEnter))for(const D of E.beforeEnter)R.push(Fi(D,W,ce));else R.push(Fi(E.beforeEnter,W,ce));return R.push(_e),Ms(R)}).then(()=>(W.matched.forEach(E=>E.enterCallbacks={}),R=Pv(Qe,"beforeRouteEnter",W,ce),R.push(_e),Ms(R))).then(()=>{R=[];for(const E of a.list())R.push(Fi(E,W,ce));return R.push(_e),Ms(R)}).catch(E=>ii(E,8)?E:Promise.reject(E))}function T(W,ce,R){for(const H of l.list())H(W,ce,R)}function Ee(W,ce,R,H,pe){const Qe=F(W,ce);if(Qe)return Qe;const _e=ce===ki,E=Bs?history.state:{};R&&(H||_e?o.replace(W.fullPath,ht({scroll:_e&&E&&E.scroll},pe)):o.push(W.fullPath,pe)),f.value=W,tt(W,ce,R,_e),We()}let Ne;function Ke(){Ne||(Ne=o.listen((W,ce,R)=>{if(!tn.listening)return;const H=C(W),pe=O(H);if(pe){M(ht(pe,{replace:!0}),H).catch(Pa);return}d=H;const Qe=f.value;Bs&&YP(yI(Qe.fullPath,R.delta),ph()),$(H,Qe).catch(_e=>ii(_e,12)?_e:ii(_e,2)?(M(_e.to,H).then(E=>{ii(E,20)&&!R.delta&&R.type===Ja.pop&&o.go(-1,!1)}).catch(Pa),Promise.reject()):(R.delta&&o.go(-R.delta,!1),fe(_e,H,Qe))).then(_e=>{_e=_e||Ee(H,Qe,!1),_e&&(R.delta&&!ii(_e,8)?o.go(-R.delta,!1):R.type===Ja.pop&&ii(_e,20)&&o.go(-1,!1)),T(H,Qe,_e)}).catch(Pa)}))}let Le=Ea(),be=Ea(),he;function fe(W,ce,R){We(W);const H=be.list();return H.length?H.forEach(pe=>pe(W,ce,R)):console.error(W),Promise.reject(W)}function me(){return he&&f.value!==ki?Promise.resolve():new Promise((W,ce)=>{Le.add([W,ce])})}function We(W){return he||(he=!W,Ke(),Le.list().forEach(([ce,R])=>W?R(W):ce()),Le.reset()),W}function tt(W,ce,R,H){const{scrollBehavior:pe}=e;if(!Bs||!pe)return Promise.resolve();const Qe=!R&&XP(yI(W.fullPath,0))||(H||!R)&&history.state&&history.state.scroll||null;return er().then(()=>pe(W,ce,Qe)).then(_e=>_e&&QP(_e)).catch(_e=>fe(_e,W,ce))}const it=W=>o.go(W);let Ze;const Ot=new Set,tn={currentRoute:f,listening:!0,addRoute:b,removeRoute:I,hasRoute:P,getRoutes:A,resolve:C,options:e,push:J,replace:x,go:it,back:()=>it(-1),forward:()=>it(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:be.add,isReady:me,install(W){const ce=this;W.component("RouterLink",PL),W.component("RouterView",FL),W.config.globalProperties.$router=ce,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>K(f)}),Bs&&!Ze&&f.value===ki&&(Ze=!0,J(o.location).catch(pe=>{}));const R={};for(const pe in ki)R[pe]=ke(()=>f.value[pe]);W.provide(Ng,ce),W.provide(RT,hr(R)),W.provide(ym,f);const H=W.unmount;Ot.add(W),W.unmount=function(){Ot.delete(W),Ot.size<1&&(d=ki,Ne&&Ne(),Ne=null,f.value=ki,Ze=!1,he=!1),H()}}};return tn}function Ms(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function UL(e,t){const n=[],i=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const l=t.matched[a];l&&(e.matched.find(d=>tu(d,l))?i.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(d=>tu(d,f))||o.push(f))}return[n,i,o]}const vh="/assets/logo-74abbc15.png",BL="/assets/Devices-f1f838fd.webp",$L="/assets/NoteSample-fdf6c928.webp",qL="/assets/feather-eaa516cb.webp";const KL={data(){return{year:"",mobile:null,mobileNav:null,windowWidth:null}},created(){window.addEventListener("resize",this.checkScreen),this.checkScreen()},computed:{getCurrentYear(){return this.year=new Date().getFullYear()}},methods:{checkScreen(){if(this.windowWidth=window.innerWidth,this.windowWidth<=750){this.mobile=!0;return}this.mobile=!1,this.mobileNav=!1},toggleMobileNav(){this.mobileNav=!this.mobileNav}}},Ou=e=>(dr("data-v-916d5924"),e=e(),pr(),e),HL={class:"header__container"},zL={class:"nav__container"},GL=Ou(()=>L("img",{src:vh,alt:"Logo",class:"header-img"},null,-1)),WL={class:"nav-links"},QL={class:"hero-section__container"},YL={class:"hero-sec__content-wrapper"},XL=Ou(()=>L("h2",null,"Simplify Your Note-Taking",-1)),JL=Ou(()=>L("p",null,"Stay Focused and Keep Your Thoughts in Order with TakeNote",-1)),ZL=Ou(()=>L("div",{class:"hero-sec__image-wrapper"},[L("img",{src:BL,alt:"Devices Photo"})],-1)),eM=Tg('<section class="contentA-section__container" data-v-916d5924><div class="contentA-sec__wrapper" data-v-916d5924><div class="contentA-sec__image-wrapper" data-v-916d5924><img src="'+$L+'" alt="Note Sample Photo" data-v-916d5924></div><div class="contentA-sec__text-wrapper" data-v-916d5924><p data-v-916d5924> TakeNote is the perfect tool for anyone looking to organize their thoughts, ideas, and to-do lists. </p><p data-v-916d5924> Whether you&#39;re a student, professional, or just someone who wants to stay organized. TakeNote is designed to be easy to use, you&#39;ll be able to take notes anywhere, anytime, on any device. </p></div></div></section><section class="contentB-section__container" data-v-916d5924><div class="contentB-sec__wrapper" data-v-916d5924><div class="contentB-sec__image-wrapper" data-v-916d5924><img src="'+qL+'" alt="Feather Photo" data-v-916d5924></div><div class="contentB-sec__text-wrapper" data-v-916d5924><h3 data-v-916d5924>Notes, wherever you go.</h3><p data-v-916d5924> Whether you&#39;re at work, school, or on the go, taking notes is an essential part of staying organized and productive. It&#39;s now easier than ever to access your notes from anywhere, at any time. </p></div></div></section>',2),tM={class:"cta-section__container"},nM=Ou(()=>L("h3",null,"Looking for a note-taking tool?",-1)),rM={class:"footer__container"},iM=Ou(()=>L("p",null,"Designed & Built by Mark Ian Reyes",-1));function oM(e,t,n,i,o,s){const a=$e("router-link");return Oe(),ot(cn,null,[L("header",HL,[L("nav",zL,[L("div",null,[Se(a,{to:{name:"Home"}},{default:st(()=>[GL]),_:1})]),L("div",WL,[Zs(L("ul",null,[Se(a,{to:{name:"Login"},class:"nav-link login"},{default:st(()=>[mn("Log In")]),_:1}),Se(a,{to:{name:"Register"},class:"nav-link signup"},{default:st(()=>[mn("Sign Up")]),_:1})],512),[[dI,!o.mobile]])]),Zs(L("span",{class:"material-symbols-outlined menu-icon",onClick:t[0]||(t[0]=(...l)=>s.toggleMobileNav&&s.toggleMobileNav(...l))}," menu ",512),[[dI,o.mobile]]),o.mobile?(Oe(),ot("div",{key:0,class:kr(["blanket",{active:o.mobileNav,"":!o.mobileNav}])},null,2)):Jt("",!0),o.mobile?(Oe(),ot("div",{key:1,class:kr(["mobileNav",{active:o.mobileNav,"":!o.mobileNav}])},[L("span",{class:"material-symbols-outlined close-icon",onClick:t[1]||(t[1]=(...l)=>s.toggleMobileNav&&s.toggleMobileNav(...l))}," close "),L("ul",null,[Se(a,{to:{name:"Login"}},{default:st(()=>[mn("Log In")]),_:1}),Se(a,{to:{name:"Register"}},{default:st(()=>[mn("Sign Up")]),_:1})])],2)):Jt("",!0)])]),L("main",null,[L("section",QL,[L("div",YL,[XL,JL,Se(a,{to:{name:"Register"},class:"cta hero-sec__cta"},{default:st(()=>[mn("Sign up now")]),_:1})]),ZL]),eM,L("section",tM,[L("div",null,[nM,Se(a,{to:{name:"Register"},class:"cta"},{default:st(()=>[mn("Try it for yourself")]),_:1})])])]),L("footer",rM,[L("p",null,"Copyright:  "+Ir(s.getCurrentYear),1),iM])],64)}const sM=Kt(KL,[["render",oM],["__scopeId","data-v-916d5924"]]);var wm=function(e,t){return wm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},wm(e,t)};function Ce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Za=function(){return Za=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Za.apply(this,arguments)};function te(e,t,n,i){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{d(i.next(p))}catch(m){a(m)}}function f(p){try{d(i.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):o(p.value).then(l,f)}d((i=i.apply(e,t||[])).next())})}function Z(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(p){return f([d,p])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],o=0}finally{i=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Lv(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function kt(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,s;i<o;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xT=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},uM=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[i++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},aM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var s=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,p=s>>2,m=(s&3)<<4|l>>4,g=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(g=64)),i.push(n[p],n[m],n[g],n[b])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xT(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):uM(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var s=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var p=o<e.length,m=p?n[e.charAt(o)]:64;if(++o,s==null||l==null||d==null||m==null)throw Error();var g=s<<2|l>>4;if(i.push(g),d!==64){var b=l<<4&240|d>>2;if(i.push(b),m!==64){var I=d<<6&192|m;i.push(I)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},cM=function(e){var t=xT(e);return aM.encodeByteArray(t,!0)},RI=function(e){return cM(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(e){return ec(void 0,e)}function ec(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!fM(i)||(e[i]=ec(e[i],t[i]));return e}function fM(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hM=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Za({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[RI(JSON.stringify(n)),RI(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wo())}function PT(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vM(){return typeof self=="object"&&self.self===self}function mM(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function gM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yM(){return Wo().indexOf("Electron/")>=0}function wM(){var e=Wo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function bM(){return Wo().indexOf("MSAppHost/")>=0}function _M(){return!PT()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IM="FirebaseError",EM=function(e){Ce(t,e);function t(n,i,o){var s=e.call(this,i)||this;return s.code=n,s.customData=o,s.name=IM,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Cg.prototype.create),s}return t}(Error),Cg=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?TM(a,o):"Error",f=this.serviceName+": "+l+" ("+s+").",d=new EM(s,f,o);return d},e}();function TM(e,t){return e.replace(SM,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var SM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function AM(e,t){var n=new NM(e,t);return n.subscribe.bind(n)}var NM=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");CM(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Mv),s.error===void 0&&(s.error=Mv),s.complete===void 0&&(s.complete=Mv);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function CM(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Mv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(e){return e&&e._delegate?e._delegate:e}var mh=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kM=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new hM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(DM(t))try{this.getOrInitializeService({instanceIdentifier:xo})}catch{}try{for(var o=Lv(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var a=Gl(s.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:d});f.resolve(p)}catch{}}}catch(m){n={error:m}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=xo),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return te(this,void 0,void 0,function(){var t;return Z(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(kt(kt([],Gl(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),Gl(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=xo),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=xo),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var f=Lv(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var p=Gl(d.value,2),m=p[0],g=p[1],b=this.normalizeInstanceIdentifier(m);a===b&&g.resolve(l)}}catch(I){n={error:I}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(o,s);var a=this.instances.get(o);return a&&t(a,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,s=this.onInitCallbacks.get(n);if(s)try{for(var a=Lv(s),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OM(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=xo),this.component?this.component.multipleInstances?t:xo:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function OM(e){return e===xo?void 0:e}function DM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RM=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new kM(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function _r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)i[o]=s[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Do,kg=[],rt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(rt||(rt={}));var LT={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},xM=rt.INFO,PM=(Do={},Do[rt.DEBUG]="log",Do[rt.VERBOSE]="log",Do[rt.INFO]="info",Do[rt.WARN]="warn",Do[rt.ERROR]="error",Do),LM=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=PM[t];if(s)console[s].apply(console,_r(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},MT=function(){function e(t){this.name=t,this._logLevel=xM,this._logHandler=LM,this._userLogHandler=null,kg.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in rt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?LT[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,rt.DEBUG],t)),this._logHandler.apply(this,_r([this,rt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,rt.VERBOSE],t)),this._logHandler.apply(this,_r([this,rt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,rt.INFO],t)),this._logHandler.apply(this,_r([this,rt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,rt.WARN],t)),this._logHandler.apply(this,_r([this,rt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,_r([this,rt.ERROR],t)),this._logHandler.apply(this,_r([this,rt.ERROR],t))},e}();function MM(e){kg.forEach(function(t){t.setLogLevel(e)})}function VM(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=LT[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var p=[],m=2;m<arguments.length;m++)p[m-2]=arguments[m];var g=p.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&e({level:rt[d].toLowerCase(),message:g,args:p,type:f.name})}},i=0,o=kg;i<o.length;i++){var s=o[i];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oi,FM=(Oi={},Oi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Oi["bad-app-name"]="Illegal App name: '{$appName}",Oi["duplicate-app"]="Firebase App named '{$appName}' already exists",Oi["app-deleted"]="Firebase App named '{$appName}' already deleted",Oi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Oi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Oi),$s=new Cg("app","Firebase",FM),VT="@firebase/app",jM="0.6.30",UM="@firebase/analytics",BM="@firebase/app-check",$M="@firebase/auth",qM="@firebase/database",KM="@firebase/functions",HM="@firebase/installations",zM="@firebase/messaging",GM="@firebase/performance",WM="@firebase/remote-config",QM="@firebase/storage",YM="@firebase/firestore",XM="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn,Tf="[DEFAULT]",JM=(vn={},vn[VT]="fire-core",vn[UM]="fire-analytics",vn[BM]="fire-app-check",vn[$M]="fire-auth",vn[qM]="fire-rtdb",vn[KM]="fire-fn",vn[HM]="fire-iid",vn[zM]="fire-fcm",vn[GM]="fire-perf",vn[WM]="fire-rc",vn[QM]="fire-gcs",vn[YM]="fire-fst",vn["fire-js"]="fire-js",vn[XM]="fire-js-all",vn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ru=new MT("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lf=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=lM(t),this.container=new RM(n.name),this._addComponent(new mh("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=Tf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Tf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){ru.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw $s.create("app-deleted",{appName:this.name_})},e}();lf.prototype.name&&lf.prototype.options||lf.prototype.delete||console.log("dc");var ZM="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(e){var t={},n=new Map,i={__esModule:!0,initializeApp:a,app:s,registerVersion:d,setLogLevel:MM,onLog:p,apps:null,SDK_VERSION:ZM,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:m}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(g){delete t[g]}function s(g){if(g=g||Tf,!xI(t,g))throw $s.create("no-app",{appName:g});return t[g]}s.App=e;function a(g,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var I=b;b={name:I}}var A=b;A.name===void 0&&(A.name=Tf);var P=A.name;if(typeof P!="string"||!P)throw $s.create("bad-app-name",{appName:String(P)});if(xI(t,P))throw $s.create("duplicate-app",{appName:P});var C=new e(g,A,i);return t[P]=C,C}function l(){return Object.keys(t).map(function(g){return t[g]})}function f(g){var b=g.name;if(n.has(b))return ru.debug("There were multiple attempts to register component "+b+"."),g.type==="PUBLIC"?i[b]:null;if(n.set(b,g),g.type==="PUBLIC"){var I=function(j){if(j===void 0&&(j=s()),typeof j[b]!="function")throw $s.create("invalid-app-argument",{appName:b});return j[b]()};g.serviceProps!==void 0&&ec(I,g.serviceProps),i[b]=I,e.prototype[b]=function(){for(var j=[],F=0;F<arguments.length;F++)j[F]=arguments[F];var J=this._getService.bind(this,b);return J.apply(this,g.multipleInstances?j:[])}}for(var A=0,P=Object.keys(t);A<P.length;A++){var C=P[A];t[C]._addComponent(g)}return g.type==="PUBLIC"?i[b]:null}function d(g,b,I){var A,P=(A=JM[g])!==null&&A!==void 0?A:g;I&&(P+="-"+I);var C=P.match(/\s|\//),j=b.match(/\s|\//);if(C||j){var F=['Unable to register library "'+P+'" with version "'+b+'":'];C&&F.push('library name "'+P+'" contains illegal characters (whitespace or "/")'),C&&j&&F.push("and"),j&&F.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),ru.warn(F.join(" "));return}f(new mh(P+"-version",function(){return{library:P,version:b}},"VERSION"))}function p(g,b){if(g!==null&&typeof g!="function")throw $s.create("invalid-log-argument");VM(g,b)}function m(g,b){if(b==="serverAuth")return null;var I=b;return I}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){var e=eV(lf);e.INTERNAL=Za(Za({},e.INTERNAL),{createFirebaseNamespace:FT,extendNamespace:t,createSubscribe:AM,ErrorFactory:Cg,deepExtend:ec});function t(n){ec(e,n)}return e}var Og=FT();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tV=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(nV(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function nV(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(e,t){e.INTERNAL.registerComponent(new mh("platform-logger",function(n){return new tV(n)},"PRIVATE")),e.registerVersion(VT,jM,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(vM()&&self.firebase!==void 0){ru.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var PI=self.firebase.SDK_VERSION;PI&&PI.indexOf("LITE")>=0&&ru.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var iV=Og.initializeApp;Og.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return PT()&&ru.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),iV.apply(void 0,e)};var xe=Og;rV(xe);var oV="firebase",jT="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xe.registerVersion(oV,jT,"app");xe.SDK_VERSION=jT;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,u,c){r!=Array.prototype&&r!=Object.prototype&&(r[u]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var u=0;u<r.length;++u){var c=r[u];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,u){if(u){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var v=r[h];v in c||(c[v]={}),c=c[v]}r=r[r.length-1],h=c[r],u=u(h),u!=h&&u!=null&&t(c,r,{configurable:!0,writable:!0,value:u})}}function s(r){var u=0;return function(){return u<r.length?{done:!1,value:r[u++]}:{done:!0}}}function a(r){var u=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return u?u.call(r):{next:s(r)}}o("Promise",function(r){function u(w){this.b=0,this.c=void 0,this.a=[];var S=this.f();try{w(S.resolve,S.reject)}catch(z){S.reject(z)}}function c(){this.a=null}function h(w){return w instanceof u?w:new u(function(S){S(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var S=this;this.c(function(){S.g()})}this.a.push(w)};var v=i.setTimeout;c.prototype.c=function(w){v(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var S=0;S<w.length;++S){var z=w[S];w[S]=null;try{z()}catch(ee){this.f(ee)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},u.prototype.f=function(){function w(ee){return function(Pe){z||(z=!0,ee.call(S,Pe))}}var S=this,z=!1;return{resolve:w(this.m),reject:w(this.g)}},u.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof u)this.s(w);else{e:switch(typeof w){case"object":var S=w!=null;break e;case"function":S=!0;break e;default:S=!1}S?this.v(w):this.h(w)}},u.prototype.v=function(w){var S=void 0;try{S=w.then}catch(z){this.g(z);return}typeof S=="function"?this.u(S,w):this.h(w)},u.prototype.g=function(w){this.i(2,w)},u.prototype.h=function(w){this.i(1,w)},u.prototype.i=function(w,S){if(this.b!=0)throw Error("Cannot settle("+w+", "+S+"): Promise already settled in state"+this.b);this.b=w,this.c=S,this.l()},u.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)y.b(this.a[w]);this.a=null}};var y=new c;return u.prototype.s=function(w){var S=this.f();w.Ra(S.resolve,S.reject)},u.prototype.u=function(w,S){var z=this.f();try{w.call(S,z.resolve,z.reject)}catch(ee){z.reject(ee)}},u.prototype.then=function(w,S){function z(nt,Xt){return typeof nt=="function"?function(ri){try{ee(nt(ri))}catch(Sv){Pe(Sv)}}:Xt}var ee,Pe,ft=new u(function(nt,Xt){ee=nt,Pe=Xt});return this.Ra(z(w,ee),z(S,Pe)),ft},u.prototype.catch=function(w){return this.then(void 0,w)},u.prototype.Ra=function(w,S){function z(){switch(ee.b){case 1:w(ee.c);break;case 2:S(ee.c);break;default:throw Error("Unexpected state: "+ee.b)}}var ee=this;this.a==null?y.b(z):this.a.push(z)},u.resolve=h,u.reject=function(w){return new u(function(S,z){z(w)})},u.race=function(w){return new u(function(S,z){for(var ee=a(w),Pe=ee.next();!Pe.done;Pe=ee.next())h(Pe.value).Ra(S,z)})},u.all=function(w){var S=a(w),z=S.next();return z.done?h([]):new u(function(ee,Pe){function ft(ri){return function(Sv){nt[ri]=Sv,Xt--,Xt==0&&ee(nt)}}var nt=[],Xt=0;do nt.push(void 0),Xt++,h(z.value).Ra(ft(nt.length-1),Pe),z=S.next();while(!z.done)})},u});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,p=null;function m(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function g(){}function b(r){var u=typeof r;return u!="object"?u:r?Array.isArray(r)?"array":u:"null"}function I(r){var u=b(r);return u=="array"||u=="object"&&typeof r.length=="number"}function A(r){return b(r)=="function"}function P(r){var u=typeof r;return u=="object"&&r!=null||u=="function"}function C(r){return Object.prototype.hasOwnProperty.call(r,j)&&r[j]||(r[j]=++F)}var j="closure_uid_"+(1e9*Math.random()>>>0),F=0;function J(r,u,c){return r.call.apply(r.bind,arguments)}function x(r,u,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,h),r.apply(u,v)}}return function(){return r.apply(u,arguments)}}function O(r,u,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=J:O=x,O.apply(null,arguments)}function M(r,u){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function k(r,u){function c(){}c.prototype=u.prototype,r.bb=u.prototype,r.prototype=new c,r.prototype.constructor=r}function $(r){return r}function T(r,u,c){this.code=Ne+r,this.message=u||Ke[r]||"",this.a=c||null}k(T,Error),T.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},T.prototype.toJSON=function(){return this.w()};function Ee(r){var u=r&&r.code;return u?new T(u.substring(Ne.length),r.message,r.serverResponse):null}var Ne="auth/",Ke={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Le={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function be(r){for(var u in Le)if(Le[u].id===r)return r=Le[u],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var he;he=be("__EID__")?"__EID__":void 0;function fe(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function me(r){if(Error.captureStackTrace)Error.captureStackTrace(this,me);else{var u=Error().stack;u&&(this.stack=u)}r&&(this.message=String(r))}k(me,Error),me.prototype.name="CustomError";function We(r,u){r=r.split("%s");for(var c="",h=r.length-1,v=0;v<h;v++)c+=r[v]+(v<u.length?u[v]:"%s");me.call(this,c+r[h])}k(We,me),We.prototype.name="AssertionError";function tt(r,u){throw new We("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function it(r,u){this.c=r,this.f=u,this.b=0,this.a=null}it.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Ze(r,u){r.f(u),100>r.b&&(r.b++,u.next=r.a,r.a=u)}function Ot(){this.b=this.a=null}var tn=new it(function(){return new ce},function(r){r.reset()});Ot.prototype.add=function(r,u){var c=tn.get();c.set(r,u),this.b?this.b.next=c:this.a=c,this.b=c};function W(){var r=Iw,u=null;return r.a&&(u=r.a,r.a=r.a.next,r.a||(r.b=null),u.next=null),u}function ce(){this.next=this.b=this.a=null}ce.prototype.set=function(r,u){this.a=r,this.b=u,this.next=null},ce.prototype.reset=function(){this.next=this.b=this.a=null};var R=Array.prototype.indexOf?function(r,u){return Array.prototype.indexOf.call(r,u,void 0)}:function(r,u){if(typeof r=="string")return typeof u!="string"||u.length!=1?-1:r.indexOf(u,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===u)return c;return-1},H=Array.prototype.forEach?function(r,u,c){Array.prototype.forEach.call(r,u,c)}:function(r,u,c){for(var h=r.length,v=typeof r=="string"?r.split(""):r,y=0;y<h;y++)y in v&&u.call(c,v[y],y,r)};function pe(r,u){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&u.call(void 0,c[h],h,r)}var Qe=Array.prototype.filter?function(r,u){return Array.prototype.filter.call(r,u,void 0)}:function(r,u){for(var c=r.length,h=[],v=0,y=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in y){var S=y[w];u.call(void 0,S,w,r)&&(h[v++]=S)}return h},_e=Array.prototype.map?function(r,u){return Array.prototype.map.call(r,u,void 0)}:function(r,u){for(var c=r.length,h=Array(c),v=typeof r=="string"?r.split(""):r,y=0;y<c;y++)y in v&&(h[y]=u.call(void 0,v[y],y,r));return h},E=Array.prototype.some?function(r,u){return Array.prototype.some.call(r,u,void 0)}:function(r,u){for(var c=r.length,h=typeof r=="string"?r.split(""):r,v=0;v<c;v++)if(v in h&&u.call(void 0,h[v],v,r))return!0;return!1};function D(r){e:{for(var u=Lk,c=r.length,h=typeof r=="string"?r.split(""):r,v=0;v<c;v++)if(v in h&&u.call(void 0,h[v],v,r)){u=v;break e}u=-1}return 0>u?null:typeof r=="string"?r.charAt(u):r[u]}function U(r,u){return 0<=R(r,u)}function G(r,u){u=R(r,u);var c;return(c=0<=u)&&Array.prototype.splice.call(r,u,1),c}function Y(r,u){var c=0;pe(r,function(h,v){u.call(void 0,h,v,r)&&Array.prototype.splice.call(r,v,1).length==1&&c++})}function se(r){return Array.prototype.concat.apply([],arguments)}function ae(r){var u=r.length;if(0<u){for(var c=Array(u),h=0;h<u;h++)c[h]=r[h];return c}return[]}var ie=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},le=/&/g,_=/</g,N=/>/g,V=/"/g,q=/'/g,ne=/\x00/g,X=/[\x00&<>"']/;function Q(r,u){return r.indexOf(u)!=-1}function ve(r,u){return r<u?-1:r>u?1:0}var Re;e:{var Fe=f.navigator;if(Fe){var Hn=Fe.userAgent;if(Hn){Re=Hn;break e}}Re=""}function Ye(r){return Q(Re,r)}function wi(r,u){for(var c in r)u.call(void 0,r[c],c,r)}function Rr(r){for(var u in r)return!1;return!0}function At(r){var u={},c;for(c in r)u[c]=r[c];return u}var zn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nn(r,u){for(var c,h,v=1;v<arguments.length;v++){h=arguments[v];for(c in h)r[c]=h[c];for(var y=0;y<zn.length;y++)c=zn[y],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function nw(r,u){e:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var v=h;break e}}catch{}v=null}if(v&&typeof v[u]<"u"&&(!r||!(r instanceof v[u])&&(r instanceof v.Location||r instanceof v.Element))){if(P(r))try{var y=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{y="<object could not be stringified>"}else y=r===void 0?"undefined":r===null?"null":typeof r;tt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,y)}}function xr(r,u){this.a=r===jc&&u||"",this.b=rw}xr.prototype.ta=!0,xr.prototype.sa=function(){return this.a},xr.prototype.toString=function(){return"Const{"+this.a+"}"};function Jh(r){return r instanceof xr&&r.constructor===xr&&r.b===rw?r.a:(tt("expected object of type Const, got '"+r+"'"),"type_error:Const")}var rw={},jc={},Uc;function iw(){if(Uc===void 0){var r=null,u=f.trustedTypes;if(u&&u.createPolicy){try{r=u.createPolicy("goog#html",{createHTML:$,createScript:$,createScriptURL:$})}catch(c){f.console&&f.console.error(c.message)}Uc=r}else Uc=r}return Uc}function hs(r,u){this.a=u===sw?r:""}hs.prototype.ta=!0,hs.prototype.sa=function(){return this.a.toString()},hs.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function ow(r){return r instanceof hs&&r.constructor===hs?r.a:(tt("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function Zh(r,u){var c=Jh(r);if(!fC.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(lC,function(h,v){if(!Object.prototype.hasOwnProperty.call(u,v))throw Error('Found marker, "'+v+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(u));return h=u[v],h instanceof xr?Jh(h):encodeURIComponent(String(h))}),hC(r)}var lC=/%{(\w+)}/g,fC=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,sw={};function hC(r){var u=iw();return r=u?u.createScriptURL(r):r,new hs(r,sw)}function xn(r,u){this.a=u===Uu?r:""}xn.prototype.ta=!0,xn.prototype.sa=function(){return this.a.toString()},xn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Bc(r){return r instanceof xn&&r.constructor===xn?r.a:(tt("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var dC=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,pC=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,uw=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function aw(r){if(r instanceof xn)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),uw.test(r))r=new xn(r,Uu);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var u=r.match(pC);r=u&&dC.test(u[1])?new xn(r,Uu):null}return r}function cw(r){return r instanceof xn?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),uw.test(r)||(r="about:invalid#zClosurez"),new xn(r,Uu))}var Uu={},lw=new xn("about:invalid#zClosurez",Uu);function ds(r,u,c){this.a=c===fw?r:""}ds.prototype.ta=!0,ds.prototype.sa=function(){return this.a.toString()},ds.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function vC(r){return r instanceof ds&&r.constructor===ds?r.a:(tt("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var fw={};function mC(r,u){nw(r,"HTMLScriptElement"),r.src=ow(u),(u=r.ownerDocument&&r.ownerDocument.defaultView)&&u!=f?u=m(u.document):(p===null&&(p=m(f.document)),u=p),u&&r.setAttribute("nonce",u)}function hw(r,u,c,h){return r=r instanceof xn?r:cw(r),u=u||f,c=c instanceof xr?Jh(c):c||"",u.open(Bc(r),c,h,void 0)}function dw(r,u){for(var c=r.split("%s"),h="",v=Array.prototype.slice.call(arguments,1);v.length&&1<c.length;)h+=c.shift()+v.shift();return h+c.join("%s")}function ed(r){return X.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(le,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(_,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(N,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(V,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(q,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(ne,"&#0;"))),r}function td(r){return td[" "](r),r}td[" "]=g;function gC(r,u){var c=_C;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=u(r)}var yC=Ye("Opera"),vr=Ye("Trident")||Ye("MSIE"),pw=Ye("Edge"),wC=pw||vr,vw=Ye("Gecko")&&!(Q(Re.toLowerCase(),"webkit")&&!Ye("Edge"))&&!(Ye("Trident")||Ye("MSIE"))&&!Ye("Edge"),bC=Q(Re.toLowerCase(),"webkit")&&!Ye("Edge");function mw(){var r=f.document;return r?r.documentMode:void 0}var $c;e:{var nd="",rd=function(){var r=Re;if(vw)return/rv:([^\);]+)(\)|;)/.exec(r);if(pw)return/Edge\/([\d\.]+)/.exec(r);if(vr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(bC)return/WebKit\/(\S+)/.exec(r);if(yC)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(rd&&(nd=rd?rd[1]:""),vr){var id=mw();if(id!=null&&id>parseFloat(nd)){$c=String(id);break e}}$c=nd}var _C={};function gw(r){return gC(r,function(){for(var u=0,c=ie(String($c)).split("."),h=ie(String(r)).split("."),v=Math.max(c.length,h.length),y=0;u==0&&y<v;y++){var w=c[y]||"",S=h[y]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],w[0].length==0&&S[0].length==0)break;u=ve(w[1].length==0?0:parseInt(w[1],10),S[1].length==0?0:parseInt(S[1],10))||ve(w[2].length==0,S[2].length==0)||ve(w[2],S[2]),w=w[3],S=S[3]}while(u==0)}return 0<=u})}var od;if(f.document&&vr){var yw=mw();od=yw||parseInt($c,10)||void 0}else od=void 0;var bi=od;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var IC=!vr||9<=Number(bi);function Bu(r){var u=document;return typeof r=="string"?u.getElementById(r):r}function ww(r,u){wi(u,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:bw.hasOwnProperty(h)?r.setAttribute(bw[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var bw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function EC(r,u,c){var h=arguments,v=document,y=String(h[0]),w=h[1];if(!IC&&w&&(w.name||w.type)){if(y=["<",y],w.name&&y.push(' name="',ed(w.name),'"'),w.type){y.push(' type="',ed(w.type),'"');var S={};nn(S,w),delete S.type,w=S}y.push(">"),y=y.join("")}return y=qc(v,y),w&&(typeof w=="string"?y.className=w:Array.isArray(w)?y.className=w.join(" "):ww(y,w)),2<h.length&&TC(v,y,h),y}function TC(r,u,c){function h(S){S&&u.appendChild(typeof S=="string"?r.createTextNode(S):S)}for(var v=2;v<c.length;v++){var y=c[v];if(!I(y)||P(y)&&0<y.nodeType)h(y);else{e:{if(y&&typeof y.length=="number"){if(P(y)){var w=typeof y.item=="function"||typeof y.item=="string";break e}if(A(y)){w=typeof y.item=="function";break e}}w=!1}H(w?ae(y):y,h)}}}function qc(r,u){return u=String(u),r.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),r.createElement(u)}function _w(r){f.setTimeout(function(){throw r},0)}var sd;function SC(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Ye("Presto")&&(r=function(){var v=qc(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var y=v.contentWindow;v=y.document,v.open(),v.close();var w="callImmediate"+Math.random(),S=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;v=O(function(z){(S=="*"||z.origin==S)&&z.data==w&&this.port1.onmessage()},this),y.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(w,S)}}}),typeof r<"u"&&!Ye("Trident")&&!Ye("MSIE")){var u=new r,c={},h=c;return u.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var v=c.Hb;c.Hb=null,v()}},function(v){h.next={Hb:v},h=h.next,u.port2.postMessage(0)}}return function(v){f.setTimeout(v,0)}}function Kc(r,u){Hc||AC(),ud||(Hc(),ud=!0),Iw.add(r,u)}var Hc;function AC(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);Hc=function(){r.then(Ew)}}else Hc=function(){var u=Ew;!A(f.setImmediate)||f.Window&&f.Window.prototype&&!Ye("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(sd||(sd=SC()),sd(u)):f.setImmediate(u)}}var ud=!1,Iw=new Ot;function Ew(){for(var r;r=W();){try{r.a.call(r.b)}catch(u){_w(u)}Ze(tn,r)}ud=!1}function He(r,u){if(this.a=co,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=g)try{var c=this;r.call(u,function(h){lo(c,$u,h)},function(h){if(!(h instanceof ps))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}lo(c,Zr,h)})}catch(h){lo(this,Zr,h)}}var co=0,$u=2,Zr=3;function Tw(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Tw.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Sw=new it(function(){return new Tw},function(r){r.reset()});function ad(r,u,c){var h=Sw.get();return h.g=r,h.b=u,h.f=c,h}function Ae(r){if(r instanceof He)return r;var u=new He(g);return lo(u,$u,r),u}function bt(r){return new He(function(u,c){c(r)})}function Aw(r,u,c){Ow(r,u,c,null)||Kc(M(u,r))}function NC(r){return new He(function(u,c){var h=r.length,v=[];if(h)for(var y=function(ee,Pe){h--,v[ee]=Pe,h==0&&u(v)},w=function(ee){c(ee)},S=0,z;S<r.length;S++)z=r[S],Aw(z,M(y,S),w);else u(v)})}function Nw(r){return new He(function(u){var c=r.length,h=[];if(c)for(var v=function(S,z,ee){c--,h[S]=z?{Qb:!0,value:ee}:{Qb:!1,reason:ee},c==0&&u(h)},y=0,w;y<r.length;y++)w=r[y],Aw(w,M(v,y,!0),M(v,y,!1));else u(h)})}He.prototype.then=function(r,u,c){return kw(this,A(r)?r:null,A(u)?u:null,c)},He.prototype.$goog_Thenable=!0,e=He.prototype,e.oa=function(r,u){return r=ad(r,r,u),r.c=!0,cd(this,r),this},e.o=function(r,u){return kw(this,null,r,u)},e.cancel=function(r){if(this.a==co){var u=new ps(r);Kc(function(){Cw(this,u)},this)}};function Cw(r,u){if(r.a==co)if(r.c){var c=r.c;if(c.b){for(var h=0,v=null,y=null,w=c.b;w&&(w.c||(h++,w.a==r&&(v=w),!(v&&1<h)));w=w.next)v||(y=w);v&&(c.a==co&&h==1?Cw(c,u):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):Rw(c),xw(c,v,Zr,u)))}r.c=null}else lo(r,Zr,u)}function cd(r,u){r.b||r.a!=$u&&r.a!=Zr||Dw(r),r.f?r.f.next=u:r.b=u,r.f=u}function kw(r,u,c,h){var v=ad(null,null,null);return v.a=new He(function(y,w){v.g=u?function(S){try{var z=u.call(h,S);y(z)}catch(ee){w(ee)}}:y,v.b=c?function(S){try{var z=c.call(h,S);z===void 0&&S instanceof ps?w(S):y(z)}catch(ee){w(ee)}}:w}),v.a.c=r,cd(r,v),v.a}e.$c=function(r){this.a=co,lo(this,$u,r)},e.ad=function(r){this.a=co,lo(this,Zr,r)};function lo(r,u,c){r.a==co&&(r===c&&(u=Zr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,Ow(c,r.$c,r.ad,r)||(r.i=c,r.a=u,r.c=null,Dw(r),u!=Zr||c instanceof ps||kC(r,c)))}function Ow(r,u,c,h){if(r instanceof He)return cd(r,ad(u||g,c||null,h)),!0;if(fe(r))return r.then(u,c,h),!0;if(P(r))try{var v=r.then;if(A(v))return CC(r,v,u,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function CC(r,u,c,h,v){function y(z){S||(S=!0,h.call(v,z))}function w(z){S||(S=!0,c.call(v,z))}var S=!1;try{u.call(r,w,y)}catch(z){y(z)}}function Dw(r){r.h||(r.h=!0,Kc(r.gc,r))}function Rw(r){var u=null;return r.b&&(u=r.b,r.b=u.next,u.next=null),r.b||(r.f=null),u}e.gc=function(){for(var r;r=Rw(this);)xw(this,r,this.a,this.i);this.h=!1};function xw(r,u,c,h){if(c==Zr&&u.b&&!u.c)for(;r&&r.g;r=r.c)r.g=!1;if(u.a)u.a.c=null,Pw(u,c,h);else try{u.c?u.g.call(u.f):Pw(u,c,h)}catch(v){Lw.call(null,v)}Ze(Sw,u)}function Pw(r,u,c){u==$u?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function kC(r,u){r.g=!0,Kc(function(){r.g&&Lw.call(null,u)})}var Lw=_w;function ps(r){me.call(this,r)}k(ps,me),ps.prototype.name="cancel";function zc(){this.ya=this.ya,this.pa=this.pa}var OC=0;zc.prototype.ya=!1;function Mw(r){!r.ya&&(r.ya=!0,r.Da(),OC!=0)&&C(r)}zc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var DC=Object.freeze||function(r){return r},Vw=!vr||9<=Number(bi),RC=vr&&!gw("9"),xC=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,u=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",g,u),f.removeEventListener("test",g,u)}catch{}return r}();function Pn(r,u){this.type=r,this.b=this.target=u,this.defaultPrevented=!1}Pn.prototype.preventDefault=function(){this.defaultPrevented=!0};function fo(r,u){if(Pn.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=u,u=r.relatedTarget){if(vw){e:{try{td(u.nodeName);var v=!0;break e}catch{}v=!1}v||(u=null)}}else c=="mouseover"?u=r.fromElement:c=="mouseout"&&(u=r.toElement);this.relatedTarget=u,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:PC[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}k(fo,Pn);var PC=DC({2:"touch",3:"pen",4:"mouse"});fo.prototype.preventDefault=function(){fo.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,RC)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},fo.prototype.g=function(){return this.a};var qu="closure_listenable_"+(1e6*Math.random()|0),LC=0;function MC(r,u,c,h,v){this.listener=r,this.proxy=null,this.src=u,this.type=c,this.capture=!!h,this.Wa=v,this.key=++LC,this.wa=this.Qa=!1}function Gc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function Wc(r){this.src=r,this.a={},this.b=0}Wc.prototype.add=function(r,u,c,h,v){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.b++);var w=fd(r,u,h,v);return-1<w?(u=r[w],c||(u.Qa=!1)):(u=new MC(u,this.src,y,!!h,v),u.Qa=c,r.push(u)),u};function ld(r,u){var c=u.type;c in r.a&&G(r.a[c],u)&&(Gc(u),r.a[c].length==0&&(delete r.a[c],r.b--))}function fd(r,u,c,h){for(var v=0;v<r.length;++v){var y=r[v];if(!y.wa&&y.listener==u&&y.capture==!!c&&y.Wa==h)return v}return-1}var hd="closure_lm_"+(1e6*Math.random()|0),dd={};function or(r,u,c,h,v){if(h&&h.once)pd(r,u,c,h,v);else if(Array.isArray(u))for(var y=0;y<u.length;y++)or(r,u[y],c,h,v);else c=md(c),r&&r[qu]?qw(r,u,c,P(h)?!!h.capture:!!h,v):Fw(r,u,c,!1,h,v)}function Fw(r,u,c,h,v,y){if(!u)throw Error("Invalid event type");var w=P(v)?!!v.capture:!!v,S=Qc(r);if(S||(r[hd]=S=new Wc(r)),c=S.add(u,c,h,w,y),!c.proxy)if(h=VC(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)xC||(v=w),v===void 0&&(v=!1),r.addEventListener(u.toString(),h,v);else if(r.attachEvent)r.attachEvent(Uw(u.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function VC(){var r=FC,u=Vw?function(c){return r.call(u.src,u.listener,c)}:function(c){if(c=r.call(u.src,u.listener,c),!c)return c};return u}function pd(r,u,c,h,v){if(Array.isArray(u))for(var y=0;y<u.length;y++)pd(r,u[y],c,h,v);else c=md(c),r&&r[qu]?gd(r,u,c,P(h)?!!h.capture:!!h,v):Fw(r,u,c,!0,h,v)}function Gn(r,u,c,h,v){if(Array.isArray(u))for(var y=0;y<u.length;y++)Gn(r,u[y],c,h,v);else h=P(h)?!!h.capture:!!h,c=md(c),r&&r[qu]?(r=r.v,u=String(u).toString(),u in r.a&&(y=r.a[u],c=fd(y,c,h,v),-1<c&&(Gc(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete r.a[u],r.b--)))):r&&(r=Qc(r))&&(u=r.a[u.toString()],r=-1,u&&(r=fd(u,c,h,v)),(c=-1<r?u[r]:null)&&jw(c))}function jw(r){if(typeof r!="number"&&r&&!r.wa){var u=r.src;if(u&&u[qu])ld(u.v,r);else{var c=r.type,h=r.proxy;u.removeEventListener?u.removeEventListener(c,h,r.capture):u.detachEvent?u.detachEvent(Uw(c),h):u.addListener&&u.removeListener&&u.removeListener(h),(c=Qc(u))?(ld(c,r),c.b==0&&(c.src=null,u[hd]=null)):Gc(r)}}}function Uw(r){return r in dd?dd[r]:dd[r]="on"+r}function Bw(r,u,c,h){var v=!0;if((r=Qc(r))&&(u=r.a[u.toString()]))for(u=u.concat(),r=0;r<u.length;r++){var y=u[r];y&&y.capture==c&&!y.wa&&(y=$w(y,h),v=v&&y!==!1)}return v}function $w(r,u){var c=r.listener,h=r.Wa||r.src;return r.Qa&&jw(r),c.call(h,u)}function FC(r,u){if(r.wa)return!0;if(!Vw){if(!u)e:{u=["window","event"];for(var c=f,h=0;h<u.length;h++)if(c=c[u[h]],c==null){u=null;break e}u=c}if(h=u,u=new fo(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var v=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{v=!0}(v||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],v=u.b;v;v=v.parentNode)h.push(v);for(r=r.type,v=h.length-1;0<=v;v--){u.b=h[v];var y=Bw(h[v],r,!0,u);c=c&&y}for(v=0;v<h.length;v++)u.b=h[v],y=Bw(h[v],r,!1,u),c=c&&y}return c}return $w(r,new fo(u,this))}function Qc(r){return r=r[hd],r instanceof Wc?r:null}var vd="__closure_events_fn_"+(1e9*Math.random()>>>0);function md(r){return A(r)?r:(r[vd]||(r[vd]=function(u){return r.handleEvent(u)}),r[vd])}function Sn(){zc.call(this),this.v=new Wc(this),this.bc=this,this.hb=null}k(Sn,zc),Sn.prototype[qu]=!0,Sn.prototype.addEventListener=function(r,u,c,h){or(this,r,u,c,h)},Sn.prototype.removeEventListener=function(r,u,c,h){Gn(this,r,u,c,h)},Sn.prototype.dispatchEvent=function(r){var u,c=this.hb;if(c)for(u=[];c;c=c.hb)u.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new Pn(r,c);else if(r instanceof Pn)r.target=r.target||c;else{var v=r;r=new Pn(h,c),nn(r,v)}if(v=!0,u)for(var y=u.length-1;0<=y;y--){var w=r.b=u[y];v=Yc(w,h,!0,r)&&v}if(w=r.b=c,v=Yc(w,h,!0,r)&&v,v=Yc(w,h,!1,r)&&v,u)for(y=0;y<u.length;y++)w=r.b=u[y],v=Yc(w,h,!1,r)&&v;return v},Sn.prototype.Da=function(){if(Sn.bb.Da.call(this),this.v){var r=this.v,u;for(u in r.a){for(var c=r.a[u],h=0;h<c.length;h++)Gc(c[h]);delete r.a[u],r.b--}}this.hb=null};function qw(r,u,c,h,v){r.v.add(String(u),c,!1,h,v)}function gd(r,u,c,h,v){r.v.add(String(u),c,!0,h,v)}function Yc(r,u,c,h){if(u=r.v.a[String(u)],!u)return!0;u=u.concat();for(var v=!0,y=0;y<u.length;++y){var w=u[y];if(w&&!w.wa&&w.capture==c){var S=w.listener,z=w.Wa||w.src;w.Qa&&ld(r.v,w),v=S.call(z,h)!==!1&&v}}return v&&!h.defaultPrevented}function yd(r,u,c){if(A(r))c&&(r=O(r,c));else if(r&&typeof r.handleEvent=="function")r=O(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:f.setTimeout(r,u||0)}function vs(r){var u=null;return new He(function(c,h){u=yd(function(){c(void 0)},r),u==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(u),c})}function Kw(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(I(r)){for(var u=[],c=r.length,h=0;h<c;h++)u.push(r[h]);return u}u=[],c=0;for(h in r)u[c++]=r[h];return u}function Hw(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(I(r)||typeof r=="string"){var u=[];r=r.length;for(var c=0;c<r;c++)u.push(c);return u}u=[],c=0;for(var h in r)u[c++]=h;return u}}function jC(r,u){if(r.forEach&&typeof r.forEach=="function")r.forEach(u,void 0);else if(I(r)||typeof r=="string")H(r,u,void 0);else for(var c=Hw(r),h=Kw(r),v=h.length,y=0;y<v;y++)u.call(void 0,h[y],c&&c[y],r)}function ms(r,u){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof ms)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}e=ms.prototype,e.X=function(){wd(this);for(var r=[],u=0;u<this.a.length;u++)r.push(this.b[this.a[u]]);return r},e.Y=function(){return wd(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function wd(r){if(r.c!=r.a.length){for(var u=0,c=0;u<r.a.length;){var h=r.a[u];ho(r.b,h)&&(r.a[c++]=h),u++}r.a.length=c}if(r.c!=r.a.length){var v={};for(c=u=0;u<r.a.length;)h=r.a[u],ho(v,h)||(r.a[c++]=h,v[h]=1),u++;r.a.length=c}}e.get=function(r,u){return ho(this.b,r)?this.b[r]:u},e.set=function(r,u){ho(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=u},e.forEach=function(r,u){for(var c=this.Y(),h=0;h<c.length;h++){var v=c[h],y=this.get(v);r.call(u,y,v,this)}};function ho(r,u){return Object.prototype.hasOwnProperty.call(r,u)}var zw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function UC(r,u){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),v=null;if(0<=h){var y=r[c].substring(0,h);v=r[c].substring(h+1)}else y=r[c];u(y,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function _i(r,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof _i?(this.i=u!==void 0?u:r.i,Ku(this,r.c),this.l=r.l,this.a=r.a,Hu(this,r.g),this.f=r.f,bd(this,Yw(r.b)),this.h=r.h):r&&(c=String(r).match(zw))?(this.i=!!u,Ku(this,c[1]||"",!0),this.l=zu(c[2]||""),this.a=zu(c[3]||"",!0),Hu(this,c[4]),this.f=zu(c[5]||"",!0),bd(this,c[6]||"",!0),this.h=zu(c[7]||"")):(this.i=!!u,this.b=new po(null,this.i))}_i.prototype.toString=function(){var r=[],u=this.c;u&&r.push(Gu(u,Gw,!0),":");var c=this.a;return(c||u=="file")&&(r.push("//"),(u=this.l)&&r.push(Gu(u,Gw,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(Gu(c,c.charAt(0)=="/"?qC:$C,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",Gu(c,HC)),r.join("")},_i.prototype.resolve=function(r){var u=new _i(this),c=!!r.c;c?Ku(u,r.c):c=!!r.l,c?u.l=r.l:c=!!r.a,c?u.a=r.a:c=r.g!=null;var h=r.f;if(c)Hu(u,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var v=u.f.lastIndexOf("/");v!=-1&&(h=u.f.substr(0,v+1)+h)}if(v=h,v==".."||v==".")h="";else if(Q(v,"./")||Q(v,"/.")){h=v.lastIndexOf("/",0)==0,v=v.split("/");for(var y=[],w=0;w<v.length;){var S=v[w++];S=="."?h&&w==v.length&&y.push(""):S==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&w==v.length&&y.push("")):(y.push(S),h=!0)}h=y.join("/")}else h=v}return c?u.f=h:c=r.b.toString()!=="",c?bd(u,Yw(r.b)):c=!!r.h,c&&(u.h=r.h),u};function Ku(r,u,c){r.c=c?zu(u,!0):u,r.c&&(r.c=r.c.replace(/:$/,""))}function Hu(r,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);r.g=u}else r.g=null}function bd(r,u,c){u instanceof po?(r.b=u,zC(r.b,r.i)):(c||(u=Gu(u,KC)),r.b=new po(u,r.i))}function Dt(r,u,c){r.b.set(u,c)}function sr(r,u){return r.b.get(u)}function Ln(r){return r instanceof _i?new _i(r):new _i(r,void 0)}function Xc(r,u,c,h){var v=new _i(null,void 0);return r&&Ku(v,r),u&&(v.a=u),c&&Hu(v,c),h&&(v.f=h),v}function zu(r,u){return r?u?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Gu(r,u,c){return typeof r=="string"?(r=encodeURI(r).replace(u,BC),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function BC(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Gw=/[#\/\?@]/g,$C=/[#\?:]/g,qC=/[#\?]/g,KC=/[#\?@]/g,HC=/#/g;function po(r,u){this.b=this.a=null,this.c=r||null,this.f=!!u}function Ii(r){r.a||(r.a=new ms,r.b=0,r.c&&UC(r.c,function(u,c){r.add(decodeURIComponent(u.replace(/\+/g," ")),c)}))}function Ww(r){var u=Hw(r);if(typeof u>"u")throw Error("Keys are undefined");var c=new po(null,void 0);r=Kw(r);for(var h=0;h<u.length;h++){var v=u[h],y=r[h];Array.isArray(y)?Qw(c,v,y):c.add(v,y)}return c}e=po.prototype,e.add=function(r,u){Ii(this),this.c=null,r=gs(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(u),this.b+=1,this};function Pr(r,u){Ii(r),u=gs(r,u),ho(r.a.b,u)&&(r.c=null,r.b-=r.a.get(u).length,r=r.a,ho(r.b,u)&&(delete r.b[u],r.c--,r.a.length>2*r.c&&wd(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function _d(r,u){return Ii(r),u=gs(r,u),ho(r.a.b,u)}e.forEach=function(r,u){Ii(this),this.a.forEach(function(c,h){H(c,function(v){r.call(u,v,h,this)},this)},this)},e.Y=function(){Ii(this);for(var r=this.a.X(),u=this.a.Y(),c=[],h=0;h<u.length;h++)for(var v=r[h],y=0;y<v.length;y++)c.push(u[h]);return c},e.X=function(r){Ii(this);var u=[];if(typeof r=="string")_d(this,r)&&(u=se(u,this.a.get(gs(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)u=se(u,r[c])}return u},e.set=function(r,u){return Ii(this),this.c=null,r=gs(this,r),_d(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[u]),this.b+=1,this},e.get=function(r,u){return r?(r=this.X(r),0<r.length?String(r[0]):u):u};function Qw(r,u,c){Pr(r,u),0<c.length&&(r.c=null,r.a.set(gs(r,u),ae(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],u=this.a.Y(),c=0;c<u.length;c++){var h=u[c],v=encodeURIComponent(String(h));h=this.X(h);for(var y=0;y<h.length;y++){var w=v;h[y]!==""&&(w+="="+encodeURIComponent(String(h[y]))),r.push(w)}}return this.c=r.join("&")};function Yw(r){var u=new po;return u.c=r.c,r.a&&(u.a=new ms(r.a),u.b=r.b),u}function gs(r,u){return u=String(u),r.f&&(u=u.toLowerCase()),u}function zC(r,u){u&&!r.f&&(Ii(r),r.c=null,r.a.forEach(function(c,h){var v=h.toLowerCase();h!=v&&(Pr(this,h),Qw(this,v,c))},r)),r.f=u}function Xw(r){var u=[];return Id(new GC,r,u),u.join("")}function GC(){}function Id(r,u,c){if(u==null)c.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var h=u;u=h.length,c.push("[");for(var v="",y=0;y<u;y++)c.push(v),Id(r,h[y],c),v=",";c.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{c.push("{"),v="";for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&(y=u[h],typeof y!="function"&&(c.push(v),Zw(h,c),c.push(":"),Id(r,y,c),v=","));c.push("}");return}}switch(typeof u){case"string":Zw(u,c);break;case"number":c.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":c.push(String(u));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var Jw={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},WC=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Zw(r,u){u.push('"',r.replace(WC,function(c){var h=Jw[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),Jw[c]=h),h}),'"')}function Ed(){var r=rn();return vr&&!!bi&&bi==11||/Edge\/\d+/.test(r)}function Wu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function e0(r,u){u=u||f.window;var c="about:blank";r&&(c=Bc(aw(r)||lw)),u.location.href=c}function t0(r,u){var c=[],h;for(h in r)h in u?typeof r[h]!=typeof u[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&u[h]!=null?0<t0(r[h],u[h]).length&&c.push(h):r[h]!==u[h]&&c.push(h):c.push(h);for(h in u)h in r||c.push(h);return c}function QC(){var r=rn();return r=ys(r)!=o0?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!vr||!bi||9<bi}function n0(r){return r=(r||rn()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function vo(r){r=r||f.window;try{r.close()}catch{}}function r0(r,u,c){var h=Math.floor(1e9*Math.random()).toString();u=u||500,c=c||600;var v=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-u)/2;u={width:u,height:c,top:0<v?v:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=rn().toLowerCase(),h&&(u.target=h,Q(c,"crios/")&&(u.target="_blank")),ys(rn())==Ad&&(r=r||"http://localhost",u.scrollbars=!0),c=r||"",(r=u)||(r={}),h=window,u=c instanceof xn?c:aw(typeof c.href<"u"?c.href:String(c))||lw,c=r.target||c.target,v=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":v.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(w+"="+(r[w]?1:0))}var w=v.join(",");if((Ye("iPhone")&&!Ye("iPod")&&!Ye("iPad")||Ye("iPad")||Ye("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=qc(document,"A"),nw(w,"HTMLAnchorElement"),u=u instanceof xn?u:cw(u),w.href=Bc(u),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=hw("",h,c,w),r=Bc(u),w&&(wC&&Q(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ed(r)+'">',r=(h=iw())?h.createHTML(r):r,r=new ds(r,null,fw),h=w.document)&&(h.write(vC(r)),h.close())):(w=hw(u,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function YC(r){return new He(function(u){function c(){vs(2e3).then(function(){if(!r||r.closed)u();else return c()})}return c()})}var XC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JC=/^[^@]+@[^@]+$/;function Jc(){var r=null;return new He(function(u){f.document.readyState=="complete"?u():(r=function(){u()},pd(window,"load",r))}).o(function(u){throw Gn(window,"load",r),u})}function ZC(){return Td(void 0)?Jc().then(function(){return new He(function(r,u){var c=f.document,h=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):bt(Error("Cordova must run in an Android or iOS file scheme."))}function Td(r){return r=r||rn(),!(bs()!=="file:"&&bs()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sd(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function mr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Lr(){return xe.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":xe.INTERNAL.hasOwnProperty("node")?"Node":mr()?"Worker":"Browser"}function i0(){var r=Lr();return r==="ReactNative"||r==="Node"}function ek(){for(var r=50,u=[];0<r;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return u.join("")}var Ad="Firefox",o0="Chrome";function ys(r){var u=r.toLowerCase();if(Q(u,"opera/")||Q(u,"opr/")||Q(u,"opios/"))return"Opera";if(Q(u,"iemobile"))return"IEMobile";if(Q(u,"msie")||Q(u,"trident/"))return"IE";if(Q(u,"edge/"))return"Edge";if(Q(u,"firefox/"))return Ad;if(Q(u,"silk/"))return"Silk";if(Q(u,"blackberry"))return"Blackberry";if(Q(u,"webos"))return"Webos";if(!Q(u,"safari/")||Q(u,"chrome/")||Q(u,"crios/")||Q(u,"android"))if(!Q(u,"chrome/")&&!Q(u,"crios/")||Q(u,"edge/")){if(Q(u,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return o0;else return"Safari";return"Other"}var s0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function ws(r,u){u=u||[];var c=[],h={},v;for(v in s0)h[s0[v]]=!0;for(v=0;v<u.length;v++)typeof h[u[v]]<"u"&&(delete h[u[v]],c.push(u[v]));return c.sort(),u=c,u.length||(u=["FirebaseCore-web"]),c=Lr(),c==="Browser"?(h=rn(),c=ys(h)):c==="Worker"&&(h=rn(),c=ys(h)+"-"+c),c+"/JsCore/"+r+"/"+u.join(",")}function rn(){return f.navigator&&f.navigator.userAgent||""}function _t(r,u){r=r.split("."),u=u||f;for(var c=0;c<r.length&&typeof u=="object"&&u!=null;c++)u=u[r[c]];return c!=r.length&&(u=void 0),u}function Nd(){try{var r=f.localStorage,u=go();if(r)return r.setItem(u,"1"),r.removeItem(u),Ed()?!!f.indexedDB:!0}catch{return mr()&&!!f.indexedDB}return!1}function mo(){return(Zc()||bs()==="chrome-extension:"||Td())&&!i0()&&Nd()&&!mr()}function Zc(){return bs()==="http:"||bs()==="https:"}function bs(){return f.location&&f.location.protocol||null}function Qu(r){return r=r||rn(),!(n0(r)||ys(r)==Ad)}function Yu(r){return typeof r>"u"?null:Xw(r)}function u0(r){var u={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(u[c]=r[c]);return u}function _s(r){if(r!==null)return JSON.parse(r)}function go(r){return r||Math.floor(1e9*Math.random()).toString()}function a0(r){return r=r||rn(),!(ys(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function c0(){var r=f.___jsl;if(r&&r.H){for(var u in r.H)if(r.H[u].r=r.H[u].r||[],r.H[u].L=r.H[u].L||[],r.H[u].r=r.H[u].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function Ei(r,u){if(r>u)throw Error("Short delay should be less than long delay!");this.a=r,this.c=u,r=rn(),u=Lr(),this.b=n0(r)||u==="ReactNative"}Ei.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Zc()||bs()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Cd(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function tk(){var r=f.document,u=null;return Cd()||!r?Ae():new He(function(c){u=function(){Cd()&&(r.removeEventListener("visibilitychange",u,!1),c())},r.addEventListener("visibilitychange",u,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",u,!1),c})}function Xu(r){try{var u=new Date(parseInt(r,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(r))return u.toUTCString()}catch{}return null}function l0(){return!(!_t("fireauth.oauthhelper",f)&&!_t("fireauth.iframe",f))}function nk(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function rk(){var r=f.navigator;return r&&r.serviceWorker?Ae().then(function(){return r.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):Ae(null)}var f0={};function kd(r){f0[r]||(f0[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Od;try{var Dd={};Object.defineProperty(Dd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Dd,"abcd",{configurable:!0,enumerable:!0,value:2}),Od=Dd.abcd==2}catch{Od=!1}function we(r,u,c){Od?Object.defineProperty(r,u,{configurable:!0,enumerable:!0,value:c}):r[u]=c}function An(r,u){if(u)for(var c in u)u.hasOwnProperty(c)&&we(r,c,u[c])}function Mr(r){var u={};return An(u,r),u}function ik(r){var u={},c;for(c in r)r.hasOwnProperty(c)&&(u[c]=r[c]);return u}function ok(r,u){if(!u||!u.length)return!0;if(!r)return!1;for(var c=0;c<u.length;c++){var h=r[u[c]];if(h==null||h==="")return!1}return!0}function Rd(r){var u=r;if(typeof r=="object"&&r!=null){u="length"in r?[]:{};for(var c in r)we(u,c,Rd(r[c]))}return u}function xd(r){var u=r&&(r[Vd]?"phone":null);if(u&&r&&r[Md]){we(this,"uid",r[Md]),we(this,"displayName",r[h0]||null);var c=null;r[Ld]&&(c=new Date(r[Ld]).toUTCString()),we(this,"enrollmentTime",c),we(this,"factorId",u)}else throw new T("internal-error","Internal assert: invalid MultiFactorInfo object")}xd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Pd(r){try{var u=new Ju(r)}catch{u=null}return u}var h0="displayName",Ld="enrolledAt",Md="mfaEnrollmentId",Vd="phoneInfo";function Ju(r){xd.call(this,r),we(this,"phoneNumber",r[Vd])}k(Ju,xd),Ju.prototype.w=function(){var r=Ju.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function sk(r){var u={},c=r[uk],h=r[ck],v=r[lk];if(r=Pd(r[ak]),!v||v!=el&&v!=Zu&&!c||v==Zu&&!h||v==Fd&&!r)throw Error("Invalid checkActionCode response!");v==Zu?(u[p0]=c||null,u[v0]=c||null,u[d0]=h):(u[p0]=h||null,u[v0]=h||null,u[d0]=c||null),u[fk]=r||null,we(this,dk,v),we(this,hk,Rd(u))}var Fd="REVERT_SECOND_FACTOR_ADDITION",el="EMAIL_SIGNIN",Zu="VERIFY_AND_CHANGE_EMAIL",uk="email",ak="mfaInfo",ck="newEmail",lk="requestType",d0="email",p0="fromEmail",fk="multiFactorInfo",v0="previousEmail",hk="data",dk="operation";function jd(r){r=Ln(r);var u=sr(r,m0)||null,c=sr(r,g0)||null,h=sr(r,y0)||null;if(h=h&&gk[h]||null,!u||!c||!h)throw new T("argument-error",m0+", "+g0+"and "+y0+" are required in a valid action code URL.");An(this,{apiKey:u,operation:h,code:c,continueUrl:sr(r,pk)||null,languageCode:sr(r,vk)||null,tenantId:sr(r,mk)||null})}var m0="apiKey",g0="oobCode",pk="continueUrl",vk="languageCode",y0="mode",mk="tenantId",gk={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Fd,signIn:el,verifyAndChangeEmail:Zu,verifyEmail:"VERIFY_EMAIL"};function w0(r){try{return new jd(r)}catch{return null}}function tl(r){var u=r[yk];if(typeof u>"u")throw new T("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new T("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var c=r[b0];if(c&&typeof c=="object"){u=c[S0];var h=c[E0];if(c=c[T0],typeof u=="string"&&u.length){if(this.a=u,typeof h<"u"&&typeof h!="boolean")throw new T("argument-error",E0+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new T("argument-error",T0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof u<"u")throw new T("argument-error",S0+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new T("missing-android-pkg-name")}}else if(typeof c<"u")throw new T("argument-error",b0+" property must be a non null object when specified.");if(this.f=null,(u=r[I0])&&typeof u=="object"){if(u=u[A0],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new T("argument-error",A0+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new T("argument-error",I0+" property must be a non null object when specified.");if(u=r[Ud],typeof u<"u"&&typeof u!="boolean")throw new T("argument-error",Ud+" property must be a boolean when specified.");if(this.c=!!u,r=r[_0],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new T("argument-error",_0+" property must be a non empty string when specified.");this.i=r||null}var b0="android",_0="dynamicLinkDomain",Ud="handleCodeInApp",I0="iOS",yk="url",E0="installApp",T0="minimumVersion",S0="packageName",A0="bundleId";function nl(r){var u={};u.continueUrl=r.h,u.canHandleCodeInApp=r.c,(u.androidPackageName=r.a)&&(u.androidMinimumVersion=r.b,u.androidInstallApp=r.g),u.iOSBundleId=r.f,u.dynamicLinkDomain=r.i;for(var c in u)u[c]===null&&delete u[c];return u}function wk(r){return _e(r,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var ea=null;function bk(r){var u=[];return _k(r,function(c){u.push(c)}),u}function _k(r,u){function c(z){for(;h<r.length;){var ee=r.charAt(h++),Pe=ea[ee];if(Pe!=null)return Pe;if(!/^[\s\xa0]*$/.test(ee))throw Error("Unknown base64 encoding at char: "+ee)}return z}Ik();for(var h=0;;){var v=c(-1),y=c(0),w=c(64),S=c(64);if(S===64&&v===-1)break;u(v<<2|y>>4),w!=64&&(u(y<<4&240|w>>2),S!=64&&u(w<<6&192|S))}}function Ik(){if(!ea){ea={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(u[c].split("")),v=0;v<h.length;v++){var y=h[v];ea[y]===void 0&&(ea[y]=v)}}}function rl(r){var u=N0(r);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=r,this.a=u.exp,this.i=u.sub,r=Date.now()/1e3,this.g=u.iat||(r>this.a?this.a:r),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}rl.prototype.T=function(){return this.f},rl.prototype.l=function(){return this.c},rl.prototype.toString=function(){return this.h};function il(r){try{return new rl(r)}catch{return null}}function N0(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var u=(4-r.length%4)%4,c=0;c<u;c++)r+=".";try{var h=bk(r);for(r=[],c=u=0;u<h.length;){var v=h[u++];if(128>v)r[c++]=String.fromCharCode(v);else if(191<v&&224>v){var y=h[u++];r[c++]=String.fromCharCode((v&31)<<6|y&63)}else if(239<v&&365>v){y=h[u++];var w=h[u++],S=h[u++],z=((v&7)<<18|(y&63)<<12|(w&63)<<6|S&63)-65536;r[c++]=String.fromCharCode(55296+(z>>10)),r[c++]=String.fromCharCode(56320+(z&1023))}else y=h[u++],w=h[u++],r[c++]=String.fromCharCode((v&15)<<12|(y&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var C0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ol=["client_id","response_type","scope","redirect_uri","state"],Bd={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:ol},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:ol},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:ol},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:C0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function $d(r){for(var u in Bd)if(Bd[u].fa==r)return Bd[u];return null}function k0(r){var u={};u["facebook.com"]=D0,u["google.com"]=x0,u["github.com"]=R0,u["twitter.com"]=P0;var c=r&&r[O0];try{if(c)return u[c]?new u[c](r):new Vr(r);if(typeof r[qd]<"u")return new Kd(r)}catch{}return null}var qd="idToken",O0="providerId";function Kd(r){var u=r[O0];if(!u&&r[qd]){var c=il(r[qd]);c&&c.b&&(u=c.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),we(this,"providerId",u),we(this,"isNewUser",c)}function Vr(r){Kd.call(this,r),r=_s(r.rawUserInfo||"{}"),we(this,"profile",Rd(r||{}))}k(Vr,Kd);function D0(r){if(Vr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}k(D0,Vr);function R0(r){if(Vr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");we(this,"username",this.profile&&this.profile.login||null)}k(R0,Vr);function x0(r){if(Vr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}k(x0,Vr);function P0(r){if(Vr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");we(this,"username",r.screenName||null)}k(P0,Vr);function L0(r){var u=Ln(r),c=sr(u,"link"),h=sr(Ln(c),"link");return u=sr(u,"deep_link_id"),sr(Ln(u),"link")||u||h||c||r}function sl(r,u){if(!r&&!u)throw new T("internal-error","Internal assert: no raw session string available");if(r&&u)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=u||null,this.type=this.a?ta:ul}var ta="enroll",ul="signin";sl.prototype.Ha=function(){return this.a?Ae(this.a):Ae(this.b)},sl.prototype.w=function(){return this.type==ta?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Is(){}Is.prototype.ka=function(){},Is.prototype.b=function(){},Is.prototype.c=function(){},Is.prototype.w=function(){};function Es(r,u){return r.then(function(c){if(c[wr]){var h=il(c[wr]);if(!h||u!=h.i)throw new T("user-mismatch");return c}throw new T("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==Ne+"user-not-found"?new T("user-mismatch"):c})}function yo(r,u){if(u)this.a=u;else throw new T("internal-error","failed to construct a credential");we(this,"providerId",r),we(this,"signInMethod",r)}yo.prototype.ka=function(r){return pp(r,Hd(this))},yo.prototype.b=function(r,u){var c=Hd(this);return c.idToken=u,vp(r,c)},yo.prototype.c=function(r,u){return Es(mp(r,Hd(this)),u)};function Hd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}yo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function Ek(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new yo(r.providerId,r.pendingToken)}catch{}return null}function ei(r,u,c){if(this.a=null,u.idToken||u.accessToken)u.idToken&&we(this,"idToken",u.idToken),u.accessToken&&we(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&we(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)we(this,"accessToken",u.oauthToken),we(this,"secret",u.oauthTokenSecret);else throw new T("internal-error","failed to construct a credential");we(this,"providerId",r),we(this,"signInMethod",c)}ei.prototype.ka=function(r){return pp(r,zd(this))},ei.prototype.b=function(r,u){var c=zd(this);return c.idToken=u,vp(r,c)},ei.prototype.c=function(r,u){var c=zd(this);return Es(mp(r,c),u)};function zd(r){var u={};return r.idToken&&(u.id_token=r.idToken),r.accessToken&&(u.access_token=r.accessToken),r.secret&&(u.oauth_token_secret=r.secret),u.providerId=r.providerId,r.nonce&&!r.a&&(u.nonce=r.nonce),u={postBody:Ww(u).toString(),requestUri:"http://localhost"},r.a&&(delete u.postBody,u.pendingToken=r.a),u}ei.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function Tk(r){if(r&&r.providerId&&r.signInMethod){var u={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new ei(r.providerId,u,r.signInMethod)}catch{}}return null}function wo(r,u){this.Qc=u||[],An(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=($d(r)||{}).Ja||null,this.pb=null}wo.prototype.Ka=function(r){return this.Jb=At(r),this};function M0(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');wo.call(this,r,[])}k(M0,wo);function Wn(r){wo.call(this,r,ol),this.a=[]}k(Wn,wo),Wn.prototype.Ca=function(r){return U(this.a,r)||this.a.push(r),this},Wn.prototype.Rb=function(){return ae(this.a)},Wn.prototype.credential=function(r,u){var c;if(P(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:u||null},!c.idToken&&!c.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new ei(this.providerId,c,this.providerId)};function bo(){Wn.call(this,"facebook.com")}k(bo,Wn),we(bo,"PROVIDER_ID","facebook.com"),we(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function V0(r){if(!r)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=r;return P(r)&&(u=r.accessToken),new bo().credential({accessToken:u})}function _o(){Wn.call(this,"github.com")}k(_o,Wn),we(_o,"PROVIDER_ID","github.com"),we(_o,"GITHUB_SIGN_IN_METHOD","github.com");function F0(r){if(!r)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=r;return P(r)&&(u=r.accessToken),new _o().credential({accessToken:u})}function Io(){Wn.call(this,"google.com"),this.Ca("profile")}k(Io,Wn),we(Io,"PROVIDER_ID","google.com"),we(Io,"GOOGLE_SIGN_IN_METHOD","google.com");function j0(r,u){var c=r;return P(r)&&(c=r.idToken,u=r.accessToken),new Io().credential({idToken:c,accessToken:u})}function Ts(){wo.call(this,"twitter.com",C0)}k(Ts,wo),we(Ts,"PROVIDER_ID","twitter.com"),we(Ts,"TWITTER_SIGN_IN_METHOD","twitter.com");function U0(r,u){var c=r;if(P(c)||(c={oauthToken:r,oauthTokenSecret:u}),!c.oauthToken||!c.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ei("twitter.com",c,"twitter.com")}function Ti(r,u,c){this.a=r,this.f=u,we(this,"providerId","password"),we(this,"signInMethod",c===ur.EMAIL_LINK_SIGN_IN_METHOD?ur.EMAIL_LINK_SIGN_IN_METHOD:ur.EMAIL_PASSWORD_SIGN_IN_METHOD)}Ti.prototype.ka=function(r){return this.signInMethod==ur.EMAIL_LINK_SIGN_IN_METHOD?ze(r,aO,{email:this.a,oobCode:this.f}):ze(r,pb,{email:this.a,password:this.f})},Ti.prototype.b=function(r,u){return this.signInMethod==ur.EMAIL_LINK_SIGN_IN_METHOD?ze(r,cO,{idToken:u,email:this.a,oobCode:this.f}):ze(r,db,{idToken:u,email:this.a,password:this.f})},Ti.prototype.c=function(r,u){return Es(this.ka(r),u)},Ti.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function Sk(r){return r&&r.email&&r.password?new Ti(r.email,r.password,r.signInMethod):null}function ur(){An(this,{providerId:"password",isOAuthProvider:!1})}function B0(r,u){if(u=Gd(u),!u)throw new T("argument-error","Invalid email link!");return new Ti(r,u.code,ur.EMAIL_LINK_SIGN_IN_METHOD)}function Gd(r){return r=L0(r),(r=w0(r))&&r.operation===el?r:null}An(ur,{PROVIDER_ID:"password"}),An(ur,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),An(ur,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Si(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new T("internal-error");this.a=r,we(this,"providerId","phone"),this.fa="phone",we(this,"signInMethod","phone")}Si.prototype.ka=function(r){return r.gb(na(this))},Si.prototype.b=function(r,u){var c=na(this);return c.idToken=u,ze(r,kO,c)},Si.prototype.c=function(r,u){var c=na(this);return c.operation="REAUTH",r=ze(r,OO,c),Es(r,u)},Si.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function Ak(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var u={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(u[c]=r[c])}),new Si(u)}return null}function na(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function ti(r){try{this.a=r||xe.auth()}catch{throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}An(this,{providerId:"phone",isOAuthProvider:!1})}ti.prototype.gb=function(r,u){var c=this.a.a;return Ae(u.verify()).then(function(h){if(typeof h!="string")throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var v=P(r)?r.session:null,y=P(r)?r.phoneNumber:r,w;return v&&v.type==ta?w=v.Ha().then(function(S){return Zk(c,{idToken:S,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):v&&v.type==ul?w=v.Ha().then(function(S){return eO(c,{mfaPendingCredential:S,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=Jk(c,{phoneNumber:y,recaptchaToken:h}),w.then(function(S){return typeof u.reset=="function"&&u.reset(),S},function(S){throw typeof u.reset=="function"&&u.reset(),S});default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function $0(r,u){if(!r)throw new T("missing-verification-id");if(!u)throw new T("missing-verification-code");return new Si({fb:r,eb:u})}An(ti,{PROVIDER_ID:"phone"}),An(ti,{PHONE_SIGN_IN_METHOD:"phone"});function Wd(r){if(r.temporaryProof&&r.phoneNumber)return new Si({La:r.temporaryProof,ea:r.phoneNumber});var u=r&&r.providerId;if(!u||u==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,v=r&&r.nonce,y=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(u){case"google.com":return j0(y,c);case"facebook.com":return V0(c);case"github.com":return F0(c);case"twitter.com":return U0(c,h);default:return c||h||y||w?w?u.indexOf("saml.")==0?new yo(u,w):new ei(u,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},u):new Wn(u).credential({idToken:y,accessToken:c,rawNonce:v}):null}}catch{return null}}function Qd(r){if(!r.isOAuthProvider)throw new T("invalid-oauth-provider")}function gr(r,u,c,h,v,y,w){if(this.c=r,this.b=u||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=w||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}else throw new T("invalid-auth-event")}gr.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},gr.prototype.T=function(){return this.h},gr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function q0(r){return r=r||{},r.type?new gr(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Ee(r.error),r.postBody,r.tenantId):null}function Nk(){this.b=null,this.a=[]}var Yd=null;function Ck(r){var u=Yd;u.a.push(r),u.b||(u.b=function(c){for(var h=0;h<u.a.length;h++)u.a[h](c)},r=_t("universalLinks.subscribe",f),typeof r=="function"&&r(null,u.b))}function Xd(r){var u="unauthorized-domain",c=void 0,h=Ln(r);r=h.a,h=h.c,h=="chrome-extension"?c=dw("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=dw("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):u="operation-not-supported-in-this-environment",T.call(this,u,c)}k(Xd,T);function ra(r,u,c){T.call(this,r,c),r=u||{},r.Kb&&we(this,"email",r.Kb),r.ea&&we(this,"phoneNumber",r.ea),r.credential&&we(this,"credential",r.credential),r.$b&&we(this,"tenantId",r.$b)}k(ra,T),ra.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&nn(r,u),r},ra.prototype.toJSON=function(){return this.w()};function al(r){if(r.code){var u=r.code||"";u.indexOf(Ne)==0&&(u=u.substring(Ne.length));var c={credential:Wd(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new T(u,r.message||void 0);return new ra(u,c,r.message)}return null}function ia(){}ia.prototype.c=null;function K0(r){return r.c||(r.c=r.b())}var Jd;function cl(){}k(cl,ia),cl.prototype.a=function(){var r=H0(this);return r?new ActiveXObject(r):new XMLHttpRequest},cl.prototype.b=function(){var r={};return H0(this)&&(r[0]=!0,r[1]=!0),r};function H0(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<u.length;c++){var h=u[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}Jd=new cl;function ll(){}k(ll,ia),ll.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new z0;throw Error("Unsupported browser")},ll.prototype.b=function(){return{}};function z0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Tb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=z0.prototype,e.open=function(r,u,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,u)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zd(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Zd(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Zd(this,1)};function Zd(r,u){r.readyState=u,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function ep(r,u,c){this.reset(r,u,c,void 0,void 0)}ep.prototype.a=null,ep.prototype.reset=function(r,u,c,h,v){delete this.a};function tp(r){this.f=r,this.b=this.c=this.a=null}function oa(r,u){this.name=r,this.value=u}oa.prototype.toString=function(){return this.name};var G0=new oa("SEVERE",1e3),np=new oa("WARNING",900),kk=new oa("CONFIG",700),Ok=new oa("FINE",500);function W0(r){return r.c?r.c:r.a?W0(r.a):(tt("Root logger has no level set."),null)}tp.prototype.log=function(r,u,c){if(r.value>=W0(this).value)for(A(u)&&(u=u()),r=new ep(r,String(u),this.f),c&&(r.a=c),c=this;c;)c=c.a};var rp={},fl=null;function ip(r){fl||(fl=new tp(""),rp[""]=fl,fl.c=kk);var u;if(!(u=rp[r])){u=new tp(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=ip(r.substr(0,c)),c.b||(c.b={}),c.b[h]=u,u.a=c,rp[r]=u}return u}function ar(r,u){r&&r.log(Ok,u,void 0)}function hl(r){this.f=r}k(hl,ia),hl.prototype.a=function(){return new dl(this.f)},hl.prototype.b=function(r){return function(){return r}}({});function dl(r){Sn.call(this),this.u=r,this.h=void 0,this.readyState=op,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ip("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}k(dl,Sn);var op=0;e=dl.prototype,e.open=function(r,u){if(this.readyState!=op)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=u,this.readyState=1,ua(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(u.body=r),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,sa(this)),this.readyState=op},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,ua(this)),this.a&&(this.readyState=3,ua(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,Q0(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Q0(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var u=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});u&&(this.response=this.responseText+=u),r.done?sa(this):ua(this),this.readyState==3&&Q0(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,sa(this))},e.sc=function(r){this.a&&(this.response=r,sa(this))},e.Va=function(r){var u=this.i;u&&u.log(np,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&sa(this)};function sa(r){r.readyState=4,r.g=null,r.c=null,r.m=null,ua(r)}e.setRequestHeader=function(r,u){this.l.append(r,u)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(np,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(np,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var u=this.b.entries(),c=u.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=u.next();return r.join(`\r
`)};function ua(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(dl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function aa(r){Sn.call(this),this.headers=new ms,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Y0,this.u=this.S=!1}k(aa,Sn);var Y0="";aa.prototype.b=ip("goog.net.XhrIo");var Dk=/^https?$/i,Rk=["POST","PUT"];function xk(r,u,c,h,v){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+u);c=c?c.toUpperCase():"GET",r.l=u,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():Jd.a(),r.C=r.D?K0(r.D):K0(Jd),r.a.onreadystatechange=O(r.Wb,r);try{ar(r.b,ni(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(u),!0),r.N=!1}catch(w){ar(r.b,ni(r,"Error opening Xhr: "+w.message)),X0(r,w);return}u=h||"";var y=new ms(r.headers);v&&jC(v,function(w,S){y.set(S,w)}),v=D(y.Y()),h=f.FormData&&u instanceof f.FormData,!U(Rk,c)||v||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(w,S){this.a.setRequestHeader(S,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{eb(r),0<r.g&&(r.u=Pk(r.a),ar(r.b,ni(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=O(r.Ma,r)):r.s=yd(r.Ma,r.g,r)),ar(r.b,ni(r,"Sending request")),r.i=!0,r.a.send(u),r.i=!1}catch(w){ar(r.b,ni(r,"Send error: "+w.message)),X0(r,w)}}function Pk(r){return vr&&gw(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function Lk(r){return r.toLowerCase()=="content-type"}e=aa.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ar(this.b,ni(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function X0(r,u){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=u,J0(r),pl(r)}function J0(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(ar(this.b,ni(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),pl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),pl(this,!0)),aa.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Z0(this):this.Jc())},e.Jc=function(){Z0(this)};function Z0(r){if(r.c&&typeof l<"u"){if(r.C[1]&&ca(r)==4&&vl(r)==2)ar(r.b,ni(r,"Local request error detected and ignored"));else if(r.i&&ca(r)==4)yd(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),ca(r)==4){ar(r.b,ni(r,"Request complete")),r.c=!1;try{var u=vl(r);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var h;if(!(h=c)){var v;if(v=u===0){var y=String(r.l).match(zw)[1]||null;if(!y&&f.self&&f.self.location){var w=f.self.location.protocol;y=w.substr(0,w.length-1)}v=!Dk.test(y?y.toLowerCase():"")}h=v}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var S=2<ca(r)?r.a.statusText:""}catch(z){ar(r.b,"Can not get status: "+z.message),S=""}r.h=S+" ["+vl(r)+"]",J0(r)}}finally{pl(r)}}}}function pl(r,u){if(r.a){eb(r);var c=r.a,h=r.C[0]?g:null;r.a=null,r.C=null,u||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(v){(r=r.b)&&r.log(G0,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function eb(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function ca(r){return r.a?r.a.readyState:0}function vl(r){try{return 2<ca(r)?r.a.status:-1}catch{return-1}}function Mk(r){try{return r.a?r.a.responseText:""}catch(u){return ar(r.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Y0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(G0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return ar(this.b,"Can not get response: "+u.message),null}};function ni(r,u){return u+" ["+r.P+" "+r.l+" "+vl(r)+"]"}function Eo(r){var u=jk;this.g=[],this.u=u,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Eo.prototype.cancel=function(r){if(this.a)this.c instanceof Eo&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,r?u.cancel(r):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new fa,ml(this),la(this,!1,r))}},Eo.prototype.m=function(r,u){this.i=!1,la(this,r,u)};function la(r,u,c){r.a=!0,r.c=c,r.f=!u,nb(r)}function ml(r){if(r.a){if(!r.v)throw new gl;r.v=!1}}function Vk(r,u){sp(r,null,u,void 0)}function sp(r,u,c,h){r.g.push([u,c,h]),r.a&&nb(r)}Eo.prototype.then=function(r,u,c){var h,v,y=new He(function(w,S){h=w,v=S});return sp(this,h,function(w){w instanceof fa?y.cancel():v(w)}),y.then(r,u,c)},Eo.prototype.$goog_Thenable=!0;function tb(r){return E(r.g,function(u){return A(u[1])})}function nb(r){if(r.h&&r.a&&tb(r)){var u=r.h,c=yl[u];c&&(f.clearTimeout(c.a),delete yl[u]),r.h=0}r.b&&(r.b.l--,delete r.b),u=r.c;for(var h=c=!1;r.g.length&&!r.i;){var v=r.g.shift(),y=v[0],w=v[1];if(v=v[2],y=r.f?w:y)try{var S=y.call(v||r.s,u);S!==void 0&&(r.f=r.f&&(S==u||S instanceof Error),r.c=u=S),(fe(u)||typeof f.Promise=="function"&&u instanceof f.Promise)&&(h=!0,r.i=!0)}catch(z){u=z,r.f=!0,tb(r)||(c=!0)}}r.c=u,h&&(S=O(r.m,r,!0),h=O(r.m,r,!1),u instanceof Eo?(sp(u,S,h),u.C=!0):u.then(S,h)),c&&(u=new rb(u),yl[u.a]=u,r.h=u.a)}function gl(){me.call(this)}k(gl,me),gl.prototype.message="Deferred has already fired",gl.prototype.name="AlreadyCalledError";function fa(){me.call(this)}k(fa,me),fa.prototype.message="Deferred was canceled",fa.prototype.name="CanceledError";function rb(r){this.a=f.setTimeout(O(this.c,this),0),this.b=r}rb.prototype.c=function(){throw delete yl[this.a],this.b};var yl={};function up(r){var u={},c=u.document||document,h=ow(r).toString(),v=qc(document,"SCRIPT"),y={Xb:v,Ma:void 0},w=new Eo(y),S=null,z=u.timeout!=null?u.timeout:5e3;return 0<z&&(S=window.setTimeout(function(){wl(v,!0);var ee=new ap(Bk,"Timeout reached for loading script "+h);ml(w),la(w,!1,ee)},z),y.Ma=S),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(wl(v,u.xd||!1,S),ml(w),la(w,!0,null))},v.onerror=function(){wl(v,!0,S);var ee=new ap(Uk,"Error while loading script "+h);ml(w),la(w,!1,ee)},y=u.attributes||{},nn(y,{type:"text/javascript",charset:"UTF-8"}),ww(v,y),mC(v,r),Fk(c).appendChild(v),w}function Fk(r){var u;return(u=(r||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:r.documentElement}function jk(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&wl(r,!0,this.Ma)}}function wl(r,u,c){c!=null&&f.clearTimeout(c),r.onload=g,r.onerror=g,r.onreadystatechange=g,u&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var Uk=0,Bk=1;function ap(r,u){var c="Jsloader error (code #"+r+")";u&&(c+=": "+u),me.call(this,c),this.code=r}k(ap,me);function bl(r){this.f=r}k(bl,ia),bl.prototype.a=function(){return new this.f},bl.prototype.b=function(){return{}};function yr(r,u,c){if(this.c=r,r=u||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||$k,this.g=At(r.secureTokenHeaders||qk),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||Kk,this.a=At(r.firebaseHeaders||Hk),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Lr()=="Node",c=f.XMLHttpRequest||c&&xe.INTERNAL.node&&xe.INTERNAL.node.XMLHttpRequest,!c&&!mr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,mr()?this.f=new hl(self):i0()?this.f=new bl(c):this.f=new ll,this.b=null}var cp,wr="idToken",$k=new Ei(3e4,6e4),qk={"Content-Type":"application/x-www-form-urlencoded"},Kk=new Ei(3e4,6e4),Hk={"Content-Type":"application/json"};function ib(r,u){u?r.a["X-Firebase-Locale"]=u:delete r.a["X-Firebase-Locale"]}function _l(r,u){u&&(r.l=lp("https://securetoken.googleapis.com/v1/token",u),r.h=lp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),r.i=lp("https://identitytoolkit.googleapis.com/v2/",u))}function lp(r,u){return r=Ln(r),u=Ln(u.url),r.f=r.a+r.f,Ku(r,u.c),r.a=u.a,Hu(r,u.g),r.toString()}function ob(r,u){u?(r.a["X-Client-Version"]=u,r.g["X-Client-Version"]=u):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}yr.prototype.T=function(){return this.b};function sb(r,u,c,h,v,y,w){QC()||mr()?r=O(r.u,r):(cp||(cp=new He(function(S,z){Gk(S,z)})),r=O(r.s,r)),r(u,c,h,v,y,w)}yr.prototype.u=function(r,u,c,h,v,y){if(mr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new aa(this.f);if(y){w.g=Math.max(0,y);var S=setTimeout(function(){w.dispatchEvent("timeout")},y)}qw(w,"complete",function(){S&&clearTimeout(S);var z=null;try{z=JSON.parse(Mk(this))||null}catch{z=null}u&&u(z)}),gd(w,"ready",function(){S&&clearTimeout(S),Mw(this)}),gd(w,"timeout",function(){S&&clearTimeout(S),Mw(this),u&&u(null)}),xk(w,r,c,h,v)};var zk=new xr(jc,"https://apis.google.com/js/client.js?onload=%{onload}"),ub="__fcb"+Math.floor(1e6*Math.random()).toString();function Gk(r,u){if(((window.gapi||{}).client||{}).request)r();else{f[ub]=function(){((window.gapi||{}).client||{}).request?r():u(Error("CORS_UNSUPPORTED"))};var c=Zh(zk,{onload:ub});Vk(up(c),function(){u(Error("CORS_UNSUPPORTED"))})}}yr.prototype.s=function(r,u,c,h,v){var y=this;cp.then(function(){window.gapi.client.setApiKey(y.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:v,authType:"none",callback:function(S){window.gapi.auth.setToken(w),u&&u(S)}})}).o(function(w){u&&u({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function Wk(r,u){return new He(function(c,h){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?sb(r,r.l+"?key="+encodeURIComponent(r.c),function(v){v?v.error?h(yp(v)):v.access_token&&v.refresh_token?c(v):h(new T("internal-error")):h(new T("network-request-failed"))},"POST",Ww(u).toString(),r.g,r.m.get()):h(new T("internal-error"))})}function ab(r,u,c,h,v,y,w){var S=Ln(u+c);Dt(S,"key",r.c),w&&Dt(S,"cb",Date.now().toString());var z=h=="GET";if(z)for(var ee in v)v.hasOwnProperty(ee)&&Dt(S,ee,v[ee]);return new He(function(Pe,ft){sb(r,S.toString(),function(nt){nt?nt.error?ft(yp(nt,y||{})):Pe(nt):ft(new T("network-request-failed"))},h,z?void 0:Xw(u0(v)),r.a,r.v.get())})}function To(r){if(r=r.email,typeof r!="string"||!JC.test(r))throw new T("invalid-email")}function cb(r){"email"in r&&To(r)}function Qk(r,u){return ze(r,oO,{identifier:u,continueUri:Zc()?Wu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function Yk(r){return ze(r,gO,{}).then(function(u){return u.authorizedDomains||[]})}function Mn(r){if(!r[wr])throw r.mfaPendingCredential?new T("multi-factor-auth-required",null,At(r)):new T("internal-error")}function fp(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new T("internal-error")}else{if(!r.sessionInfo)throw new T("missing-verification-id");if(!r.code)throw new T("missing-verification-code")}}yr.prototype.Ab=function(){return ze(this,_O,{})},yr.prototype.Cb=function(r,u){return ze(this,hb,{idToken:r,email:u})},yr.prototype.Db=function(r,u){return ze(this,db,{idToken:r,password:u})};var Xk={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=yr.prototype,e.Eb=function(r,u){var c={idToken:r},h=[];return wi(Xk,function(v,y){var w=u[y];w===null?h.push(v):y in u&&(c[y]=w)}),h.length&&(c.deleteAttribute=h),ze(this,hb,c)},e.wb=function(r,u){return r={requestType:"PASSWORD_RESET",email:r},nn(r,u),ze(this,mO,r)},e.xb=function(r,u){return r={requestType:"EMAIL_SIGNIN",email:r},nn(r,u),ze(this,dO,r)},e.vb=function(r,u){return r={requestType:"VERIFY_EMAIL",idToken:r},nn(r,u),ze(this,pO,r)},e.Fb=function(r,u,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:u},nn(r,c),ze(this,vO,r)};function Jk(r,u){return ze(r,bO,u)}e.gb=function(r){return ze(this,CO,r)};function Zk(r,u){return ze(r,IO,u).then(function(c){return c.phoneSessionInfo.sessionInfo})}function lb(r){if(!r.phoneVerificationInfo)throw new T("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new T("missing-verification-code")}function eO(r,u){return ze(r,EO,u).then(function(c){return c.phoneResponseInfo.sessionInfo})}function tO(r,u,c){return ze(r,uO,{idToken:u,deleteProvider:c})}function hp(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new T("internal-error")}function dp(r,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(r.sessionId?u.nonce=r.sessionId:r.postBody&&(r=new po(r.postBody),_d(r,"nonce")&&(u.nonce=r.get("nonce")))),u}function fb(r){var u=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",u=al(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",u=al(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",u=al(r)):r.errorMessage&&(u=vb(r.errorMessage)),u)throw u;Mn(r)}function pp(r,u){return u.returnIdpCredential=!0,ze(r,TO,u)}function vp(r,u){return u.returnIdpCredential=!0,ze(r,AO,u)}function mp(r,u){return u.returnIdpCredential=!0,u.autoCreate=!1,ze(r,SO,u)}function gp(r){if(!r.oobCode)throw new T("invalid-action-code")}e.ob=function(r,u){return ze(this,wO,{oobCode:r,newPassword:u})},e.Sa=function(r){return ze(this,rO,{oobCode:r})},e.kb=function(r){return ze(this,nO,{oobCode:r})};var nO={endpoint:"setAccountInfo",A:gp,Z:"email",B:!0},rO={endpoint:"resetPassword",A:gp,G:function(r){var u=r.requestType;if(!u||!r.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new T("internal-error")},B:!0},iO={endpoint:"signupNewUser",A:function(r){if(To(r),!r.password)throw new T("weak-password")},G:Mn,V:!0,B:!0},oO={endpoint:"createAuthUri",B:!0},sO={endpoint:"deleteAccount",O:["idToken"]},uO={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new T("internal-error")}},aO={endpoint:"emailLinkSignin",O:["email","oobCode"],A:To,G:Mn,V:!0,B:!0},cO={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:To,G:Mn,V:!0},lO={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:lb,G:Mn,B:!0,Na:!0},fO={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:lb,G:Mn,B:!0,Na:!0},hO={endpoint:"getAccountInfo"},dO={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new T("internal-error");To(r)},Z:"email",B:!0},pO={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new T("internal-error")},Z:"email",B:!0},vO={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new T("internal-error")},Z:"email",B:!0},mO={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new T("internal-error");To(r)},Z:"email",B:!0},gO={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},yO={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new T("internal-error")}},wO={endpoint:"resetPassword",A:gp,Z:"email",B:!0},bO={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},hb={endpoint:"setAccountInfo",O:["idToken"],A:cb,V:!0},db={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(cb(r),!r.password)throw new T("weak-password")},G:Mn,V:!0},_O={endpoint:"signupNewUser",G:Mn,V:!0,B:!0},IO={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new T("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},EO={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},TO={endpoint:"verifyAssertion",A:hp,Za:dp,G:fb,V:!0,B:!0},SO={endpoint:"verifyAssertion",A:hp,Za:dp,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new T("user-not-found");if(r.errorMessage)throw vb(r.errorMessage);Mn(r)},V:!0,B:!0},AO={endpoint:"verifyAssertion",A:function(r){if(hp(r),!r.idToken)throw new T("internal-error")},Za:dp,G:fb,V:!0},NO={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new T("invalid-custom-token")},G:Mn,V:!0,B:!0},pb={endpoint:"verifyPassword",A:function(r){if(To(r),!r.password)throw new T("wrong-password")},G:Mn,V:!0,B:!0},CO={endpoint:"verifyPhoneNumber",A:fp,G:Mn,B:!0},kO={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new T("internal-error");fp(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",al(r);Mn(r)}},OO={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:fp,G:Mn,B:!0},DO={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[wr]^!!r.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function ze(r,u,c){if(!ok(c,u.O))return bt(new T("internal-error"));var h=!!u.Na,v=u.Vb||"POST",y;return Ae(c).then(u.A).then(function(){return u.V&&(c.returnSecureToken=!0),u.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?ab(r,r.i,u.endpoint,v,c,u.Ib,u.mb||!1):ab(r,r.h,u.endpoint,v,c,u.Ib,u.mb||!1)}).then(function(w){return y=w,u.Za?u.Za(c,y):y}).then(u.G).then(function(){if(!u.Z)return y;if(!(u.Z in y))throw new T("internal-error");return y[u.Z]})}function vb(r){return yp({error:{errors:[{message:r}],code:400,message:r}})}function yp(r,u){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new T(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},nn(h,u||{}),u=(u=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var v in h)if(c.indexOf(v)===0)return new T(h[v],u);return!u&&r&&(u=Yu(r)),new T("internal-error",u)}function RO(r){this.b=r,this.a=null,this.sb=xO(this)}function xO(r){return jO().then(function(){return new He(function(u,c){_t("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:_t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function v(){clearTimeout(y),u()}r.a=h,r.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},FO.get());h.ping(v).then(v,function(){c(Error("Network Error"))})})})})}function PO(r,u){return r.sb.then(function(){return new He(function(c){r.a.send(u.type,u,c,_t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function LO(r,u){r.sb.then(function(){r.a.register("authEvent",u,_t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var MO=new xr(jc,"https://apis.google.com/js/api.js?onload=%{onload}"),VO=new Ei(3e4,6e4),FO=new Ei(5e3,15e3),Il=null;function jO(){return Il||(Il=new He(function(r,u){function c(){c0(),_t("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){c0(),u(Error("Network Error"))},timeout:VO.get()})}if(_t("gapi.iframes.Iframe"))r();else if(_t("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){_t("gapi.load")?c():u(Error("Network Error"))},h=Zh(MO,{onload:h}),Ae(up(h)).o(function(){u(Error("Network Error"))})}}).o(function(r){throw Il=null,r}))}function mb(r,u,c,h){this.l=r,this.h=u,this.i=c,this.g=h,this.f=null,this.g?(r=Ln(this.g.url),r=Xc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Xc("https",this.l,null,"/__/auth/iframe"),this.a=r,Dt(this.a,"apiKey",this.h),Dt(this.a,"appName",this.i),this.b=null,this.c=[]}mb.prototype.toString=function(){return this.f?Dt(this.a,"v",this.f):Pr(this.a.b,"v"),this.b?Dt(this.a,"eid",this.b):Pr(this.a.b,"eid"),this.c.length?Dt(this.a,"fw",this.c.join(",")):Pr(this.a.b,"fw"),this.a.toString()};function wp(r,u,c,h,v,y){this.u=r,this.s=u,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}wp.prototype.zb=function(r){return this.h=r,this},wp.prototype.toString=function(){if(this.v){var r=Ln(this.v.url);r=Xc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Xc("https",this.u,null,"/__/auth/handler");if(Dt(r,"apiKey",this.s),Dt(r,"appName",this.c),Dt(r,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var c=xe.app(this.c).auth().la()}catch{c=null}u.pb=c,Dt(r,"providerId",this.a.providerId),c=this.a,u=u0(c.Jb);for(var h in u)u[h]=u[h].toString();h=c.Qc,u=At(u);for(var v=0;v<h.length;v++){var y=h[v];y in u&&delete u[y]}c.qb&&c.pb&&!u[c.qb]&&(u[c.qb]=c.pb),Rr(u)||Dt(r,"customParameters",Yu(u))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Dt(r,"scopes",c.join(","))),this.l?Dt(r,"redirectUrl",this.l):Pr(r.b,"redirectUrl"),this.g?Dt(r,"eventId",this.g):Pr(r.b,"eventId"),this.i?Dt(r,"v",this.i):Pr(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!sr(r,w)&&Dt(r,w,this.b[w]);return this.h?Dt(r,"tid",this.h):Pr(r.b,"tid"),this.f?Dt(r,"eid",this.f):Pr(r.b,"eid"),w=bp(this.c),w.length&&Dt(r,"fw",w.join(",")),r.toString()};function bp(r){try{return xe.app(r).auth().Ga()}catch{return[]}}function gb(r,u,c,h,v,y){this.s=r,this.g=u,this.b=c,this.f=y,this.c=h||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function yb(r){var u=Wu();return Yk(r).then(function(c){e:{var h=Ln(u),v=h.c;h=h.a;for(var y=0;y<c.length;y++){var w=c[y],S=h,z=v;if(w.indexOf("chrome-extension://")==0?S=Ln(w).a==S&&z=="chrome-extension":z!="http"&&z!="https"?S=!1:XC.test(w)?S=S==w:(w=w.split(".").join("\\."),S=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(S)),S){c=!0;break e}}c=!1}if(!c)throw new Xd(Wu())})}function wb(r){return r.m||(r.m=Jc().then(function(){if(!r.u){var u=r.c,c=r.i,h=bp(r.b),v=new mb(r.s,r.g,r.b,r.f);v.f=u,v.b=c,v.c=ae(h||[]),r.u=v.toString()}r.v=new RO(r.u),UO(r)})),r.m}e=gb.prototype,e.Pb=function(r,u,c){var h=new T("popup-closed-by-user"),v=new T("web-storage-unsupported"),y=this,w=!1;return this.ma().then(function(){BO(y).then(function(S){S||(r&&vo(r),u(v),w=!0)})}).o(function(){}).then(function(){if(!w)return YC(r)}).then(function(){if(!w)return vs(c).then(function(){u(h)})})},e.Yb=function(){var r=rn();return!Qu(r)&&!a0(r)},e.Ub=function(){return!1},e.Nb=function(r,u,c,h,v,y,w,S){if(!r)return bt(new T("popup-blocked"));if(w&&!Qu())return this.ma().o(function(ee){vo(r),v(ee)}),h(),Ae();this.a||(this.a=yb(bb(this)));var z=this;return this.a.then(function(){var ee=z.ma().o(function(Pe){throw vo(r),v(Pe),Pe});return h(),ee}).then(function(){if(Qd(c),!w){var ee=ha(z.s,z.g,z.b,u,c,null,y,z.c,void 0,z.i,S,z.f);e0(ee,r)}}).o(function(ee){throw ee.code=="auth/network-request-failed"&&(z.a=null),ee})};function bb(r){return r.l||(r.C=r.c?ws(r.c,bp(r.b)):null,r.l=new yr(r.g,be(r.i),r.C),r.f&&_l(r.l,r.f)),r.l}e.Ob=function(r,u,c,h){this.a||(this.a=yb(bb(this)));var v=this;return this.a.then(function(){Qd(u);var y=ha(v.s,v.g,v.b,r,u,Wu(),c,v.c,void 0,v.i,h,v.f);e0(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(v.a=null),y})},e.ma=function(){var r=this;return wb(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new T("network-request-failed")})},e.ac=function(){return!0};function ha(r,u,c,h,v,y,w,S,z,ee,Pe,ft){return r=new wp(r,u,c,h,v,ft),r.l=y,r.g=w,r.i=S,r.b=At(z||null),r.f=ee,r.zb(Pe).toString()}function UO(r){if(!r.v)throw Error("IfcHandler must be initialized!");LO(r.v,function(u){var c={};if(u&&u.authEvent){var h=!1;for(u=q0(u.authEvent),c=0;c<r.h.length;c++)h=r.h[c](u)||h;return c={},c.status=h?"ACK":"ERROR",Ae(c)}return c.status="ERROR",Ae(c)})}function BO(r){var u={type:"webStorageSupport"};return wb(r).then(function(){return PO(r.v,u)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){Y(this.h,function(u){return u==r})};function _b(r){if(this.a=r||xe.INTERNAL.reactNative&&xe.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=_b.prototype,e.get=function(r){return Ae(this.a.getItem(r)).then(function(u){return u&&_s(u)})},e.set=function(r,u){return Ae(this.a.setItem(r,Yu(u)))},e.U=function(r){return Ae(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function Ib(r){this.b=r,this.a={},this.f=O(this.c,this)}var Eb=[];function $O(){var r=mr()?self:null;if(H(Eb,function(c){c.b==r&&(u=c)}),!u){var u=new Ib(r);Eb.push(u)}return u}Ib.prototype.c=function(r){var u=r.data.eventType,c=r.data.eventId,h=this.a[u];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:u,response:null});var v=[];H(h,function(y){v.push(Ae().then(function(){return y(r.origin,r.data.data)}))}),Nw(v).then(function(y){var w=[];H(y,function(S){w.push({fulfilled:S.Qb,value:S.value,reason:S.reason?S.reason.message:void 0})}),H(w,function(S){for(var z in S)typeof S[z]>"u"&&delete S[z]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:u,response:w})})}};function Tb(r,u,c){Rr(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[u]>"u"&&(r.a[u]=[]),r.a[u].push(c)}function Sb(r){this.a=r}Sb.prototype.postMessage=function(r,u){this.a.postMessage(r,u)};function Ab(r){this.c=r,this.b=!1,this.a=[]}function Nb(r,u,c,h){var v,y=c||{},w,S,z,ee=null;if(r.b)return bt(Error("connection_unavailable"));var Pe=h?800:50,ft=typeof MessageChannel<"u"?new MessageChannel:null;return new He(function(nt,Xt){ft?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),ft.port1.start(),S=setTimeout(function(){Xt(Error("unsupported_event"))},Pe),w=function(ri){ri.data.eventId===v&&(ri.data.status==="ack"?(clearTimeout(S),z=setTimeout(function(){Xt(Error("timeout"))},3e3)):ri.data.status==="done"?(clearTimeout(z),typeof ri.data.response<"u"?nt(ri.data.response):Xt(Error("unknown_error"))):(clearTimeout(S),clearTimeout(z),Xt(Error("invalid_response"))))},ee={messageChannel:ft,onMessage:w},r.a.push(ee),ft.port1.addEventListener("message",w),r.c.postMessage({eventType:u,eventId:v,data:y},[ft.port2])):Xt(Error("connection_unavailable"))}).then(function(nt){return _p(r,ee),nt}).o(function(nt){throw _p(r,ee),nt})}function _p(r,u){if(u){var c=u.messageChannel,h=u.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),Y(r.a,function(v){return v==u})}}Ab.prototype.close=function(){for(;0<this.a.length;)_p(this,this.a[0]);this.b=!0};function Cb(){if(!Tp())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;mr()&&self?(this.v=$O(),Tb(this.v,"keyChanged",function(u,c){return Db(r).then(function(h){return 0<h.length&&H(r.a,function(v){v(h)}),{keyProcessed:U(h,c.key)}})}),Tb(this.v,"ping",function(){return Ae(["keyChanged"])})):rk().then(function(u){(r.h=u)&&(r.g=new Ab(new Sb(u)),Nb(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&U(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var Ip;function qO(r){return new He(function(u,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){u()},h.onerror=function(v){c(Error(v.target.error))}})}function kb(r){return new He(function(u,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(v){try{v.preventDefault()}catch{}c(Error(v.target.error))},h.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?u(v):qO(r).then(function(){return kb(r)}).then(function(y){u(y)}).o(function(y){c(y)})}})}function Ep(r){return r.i||(r.i=kb(r)),r.i}function El(r,u){function c(v,y){Ep(r).then(u).then(v).o(function(w){if(3<++h)y(w);else return Ep(r).then(function(S){return S.close(),r.i=void 0,c(v,y)}).o(function(S){y(S)})})}var h=0;return new He(c)}function Tp(){try{return!!f.indexedDB}catch{return!1}}function da(r){return r.objectStore("firebaseLocalStorage")}function pa(r,u){return r.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function Ss(r){return new He(function(u,c){r.onsuccess=function(h){h&&h.target?u(h.target.result):u()},r.onerror=function(h){c(h.target.error)}})}e=Cb.prototype,e.set=function(r,u){var c=this,h=!1;return El(this,function(v){return v=da(pa(v,!0)),Ss(v.get(r))}).then(function(v){return El(c,function(y){if(y=da(pa(y,!0)),v)return v.value=u,Ss(y.put(v));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=u,Ss(y.add(w))})}).then(function(){return c.c[r]=u,Ob(c,r)}).oa(function(){h&&c.b--})};function Ob(r,u){return r.g&&r.h&&nk()===r.h?Nb(r.g,"keyChanged",{key:u},r.s).then(function(){}).o(function(){}):Ae()}e.get=function(r){return El(this,function(u){return Ss(da(pa(u,!1)).get(r))}).then(function(u){return u&&u.value})},e.U=function(r){var u=this,c=!1;return El(this,function(h){return c=!0,u.b++,Ss(da(pa(h,!0)).delete(r))}).then(function(){return delete u.c[r],Ob(u,r)}).oa(function(){c&&u.b--})};function Db(r){return Ep(r).then(function(u){var c=da(pa(u,!1));return c.getAll?Ss(c.getAll()):new He(function(h,v){var y=[],w=c.openCursor();w.onsuccess=function(S){(S=S.target.result)?(y.push(S.value),S.continue()):h(y)},w.onerror=function(S){v(S.target.error)}})}).then(function(u){var c={},h=[];if(r.b==0){for(h=0;h<u.length;h++)c[u[h].fbase_key]=u[h].value;h=t0(r.c,c),r.c=c}return h})}e.ca=function(r){this.a.length==0&&KO(this),this.a.push(r)},e.ia=function(r){Y(this.a,function(u){return u==r}),this.a.length==0&&Rb(this)};function KO(r){function u(){r.f=setTimeout(function(){r.l=Db(r).then(function(c){0<c.length&&H(r.a,function(h){h(c)})}).then(function(){u()}).o(function(c){c.message!="STOP_EVENT"&&u()})},800)}Rb(r),u()}function Rb(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function xb(r){var u=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Ae().then(function(){if(Tp()){var h=go(),v="__sak"+h;return Ip||(Ip=new Cb),c=Ip,c.set(v,h).then(function(){return c.get(v)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(v)}).then(function(){return c}).o(function(){return u.c})}return u.c}).then(function(h){return u.type=h.type,h.ca(function(v){H(u.a,function(y){y(v)})}),h})}e=xb.prototype,e.get=function(r){return this.b.then(function(u){return u.get(r)})},e.set=function(r,u){return this.b.then(function(c){return c.set(r,u)})},e.U=function(r){return this.b.then(function(u){return u.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){Y(this.a,function(u){return u==r})};function va(){this.a={},this.type="inMemory"}e=va.prototype,e.get=function(r){return Ae(this.a[r])},e.set=function(r,u){return this.a[r]=u,Ae()},e.U=function(r){return delete this.a[r],Ae()},e.ca=function(){},e.ia=function(){};function Tl(){if(!HO())throw Lr()=="Node"?new T("internal-error","The LocalStorage compatibility library was not found."):new T("web-storage-unsupported");this.a=Pb()||xe.INTERNAL.node.localStorage,this.type="localStorage"}function Pb(){try{var r=f.localStorage,u=go();return r&&(r.setItem(u,"1"),r.removeItem(u)),r}catch{return null}}function HO(){var r=Lr()=="Node";if(r=Pb()||r&&xe.INTERNAL.node&&xe.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=Tl.prototype,e.get=function(r){var u=this;return Ae().then(function(){var c=u.a.getItem(r);return _s(c)})},e.set=function(r,u){var c=this;return Ae().then(function(){var h=Yu(u);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var u=this;return Ae().then(function(){u.a.removeItem(r)})},e.ca=function(r){f.window&&or(f.window,"storage",r)},e.ia=function(r){f.window&&Gn(f.window,"storage",r)};function Sp(){this.type="nullStorage"}e=Sp.prototype,e.get=function(){return Ae(null)},e.set=function(){return Ae()},e.U=function(){return Ae()},e.ca=function(){},e.ia=function(){};function Ap(){if(!zO())throw Lr()=="Node"?new T("internal-error","The SessionStorage compatibility library was not found."):new T("web-storage-unsupported");this.a=Lb()||xe.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Lb(){try{var r=f.sessionStorage,u=go();return r&&(r.setItem(u,"1"),r.removeItem(u)),r}catch{return null}}function zO(){var r=Lr()=="Node";if(r=Lb()||r&&xe.INTERNAL.node&&xe.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=Ap.prototype,e.get=function(r){var u=this;return Ae().then(function(){var c=u.a.getItem(r);return _s(c)})},e.set=function(r,u){var c=this;return Ae().then(function(){var h=Yu(u);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var u=this;return Ae().then(function(){u.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function GO(){var r={};r.Browser=WO,r.Node=QO,r.ReactNative=YO,r.Worker=XO,this.a=r[Lr()]}var Np,WO={F:Tl,cb:Ap},QO={F:Tl,cb:Ap},YO={F:_b,cb:Sp},XO={F:Tl,cb:Sp},As={rd:"local",NONE:"none",td:"session"};function JO(r){var u=new T("invalid-persistence-type"),c=new T("unsupported-persistence-type");e:{for(h in As)if(As[h]==r){var h=!0;break e}h=!1}if(!h||typeof r!="string")throw u;switch(Lr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!Tp()&&r!=="none")throw c;break;default:if(!Nd()&&r!=="none")throw c}}function Mb(){var r=!!(!a0(rn())&&Sd()),u=Qu(),c=Nd();this.m=r,this.h=u,this.l=c,this.a={},Np||(Np=new GO),r=Np;try{this.g=!Ed()&&l0()||!f.indexedDB?new r.a.F:new xb(mr()?new va:new r.a.F)}catch{this.g=new va,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new va}this.v=new va,this.f=O(this.Zb,this),this.b={}}var Cp;function ma(){return Cp||(Cp=new Mb),Cp}function So(r,u){switch(u){case"session":return r.i;case"none":return r.v;default:return r.g}}function Ns(r,u){return"firebase:"+r.name+(u?":"+u:"")}function ZO(r,u,c){var h=Ns(u,c),v=So(r,u.F);return r.get(u,c).then(function(y){var w=null;try{w=_s(f.localStorage.getItem(h))}catch{}if(w&&!y)return f.localStorage.removeItem(h),r.set(u,w,c);w&&y&&v.type!="localStorage"&&f.localStorage.removeItem(h)})}e=Mb.prototype,e.get=function(r,u){return So(this,r.F).get(Ns(r,u))};function Cs(r,u,c){return c=Ns(u,c),u.F=="local"&&(r.b[c]=null),So(r,u.F).U(c)}e.set=function(r,u,c){var h=Ns(r,c),v=this,y=So(this,r.F);return y.set(h,u).then(function(){return y.get(h)}).then(function(w){r.F=="local"&&(v.b[h]=w)})},e.addListener=function(r,u,c){r=Ns(r,u),this.l&&(this.b[r]=f.localStorage.getItem(r)),Rr(this.a)&&(So(this,"local").ca(this.f),this.h||(Ed()||!l0())&&f.indexedDB||!this.l||eD(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,u,c){r=Ns(r,u),this.a[r]&&(Y(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),Rr(this.a)&&(So(this,"local").ia(this.f),kp(this))};function eD(r){kp(r),r.c=setInterval(function(){for(var u in r.a){var c=f.localStorage.getItem(u),h=r.b[u];c!=h&&(r.b[u]=c,c=new fo({type:"storage",key:u,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function kp(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var u=r.a.key;if(u==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var v=f.localStorage.getItem(c);v!==h&&(this.b[c]=v,this.nb(c))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof r.a.a<"u"?So(this,"local").ia(this.f):kp(this),this.m){if(c=f.localStorage.getItem(u),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(u,h):f.localStorage.removeItem(u);else if(this.b[u]===h&&typeof r.a.a>"u")return}var y=this;c=function(){(typeof r.a.a<"u"||y.b[u]!==f.localStorage.getItem(u))&&(y.b[u]=f.localStorage.getItem(u),y.nb(u))},vr&&bi&&bi==10&&f.localStorage.getItem(u)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else H(r,O(this.nb,this))},e.nb=function(r){this.a[r]&&H(this.a[r],function(u){u()})};function tD(r){this.a=r,this.b=ma()}var Op={name:"authEvent",F:"local"};function nD(r){return r.b.get(Op,r.a).then(function(u){return q0(u)})}function rD(){this.a=ma()}function iD(){this.b=-1}function Sl(r,u){this.b=Vb,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=u,this.l=f.Int32Array?new Int32Array(64):Array(64),Al===void 0&&(f.Int32Array?Al=new Int32Array(Ub):Al=Ub),this.reset()}var Al;k(Sl,iD);for(var Vb=64,oD=Vb-1,Fb=[],Dp=0;Dp<oD;Dp++)Fb[Dp]=0;var jb=se(128,Fb);Sl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):ae(this.h)};function Rp(r){for(var u=r.f,c=r.l,h=0,v=0;v<u.length;)c[h++]=u[v]<<24|u[v+1]<<16|u[v+2]<<8|u[v+3],v=4*h;for(u=16;64>u;u++){v=c[u-15]|0,h=c[u-2]|0;var y=(c[u-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,w=(c[u-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[u]=y+w|0}h=r.a[0]|0,v=r.a[1]|0;var S=r.a[2]|0,z=r.a[3]|0,ee=r.a[4]|0,Pe=r.a[5]|0,ft=r.a[6]|0;for(y=r.a[7]|0,u=0;64>u;u++){var nt=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&v^h&S^v&S)|0;w=ee&Pe^~ee&ft,y=y+((ee>>>6|ee<<26)^(ee>>>11|ee<<21)^(ee>>>25|ee<<7))|0,w=w+(Al[u]|0)|0,w=y+(w+(c[u]|0)|0)|0,y=ft,ft=Pe,Pe=ee,ee=z+w|0,z=S,S=v,v=h,h=w+nt|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+v|0,r.a[2]=r.a[2]+S|0,r.a[3]=r.a[3]+z|0,r.a[4]=r.a[4]+ee|0,r.a[5]=r.a[5]+Pe|0,r.a[6]=r.a[6]+ft|0,r.a[7]=r.a[7]+y|0}function xp(r,u,c){c===void 0&&(c=u.length);var h=0,v=r.c;if(typeof u=="string")for(;h<c;)r.f[v++]=u.charCodeAt(h++),v==r.b&&(Rp(r),v=0);else if(I(u))for(;h<c;){var y=u[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");r.f[v++]=y,v==r.b&&(Rp(r),v=0)}else throw Error("message must be string or array");r.c=v,r.g+=c}var Ub=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Bb(){Sl.call(this,8,sD)}k(Bb,Sl);var sD=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function $b(r,u,c,h,v,y){this.v=r,this.i=u,this.l=c,this.m=h||null,this.u=v||null,this.s=y,this.h=u+":"+c,this.C=new rD,this.g=new tD(this.h),this.f=null,this.b=[],this.a=this.c=null}function Nl(r){return new T("invalid-cordova-configuration",r)}e=$b.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=ZC().then(function(){if(typeof _t("universalLinks.subscribe",f)!="function")throw Nl("cordova-universal-links-plugin-fix is not installed");if(typeof _t("BuildInfo.packageName",f)>"u")throw Nl("cordova-plugin-buildinfo is not installed");if(typeof _t("cordova.plugins.browsertab.openUrl",f)!="function")throw Nl("cordova-plugin-browsertab is not installed");if(typeof _t("cordova.InAppBrowser.open",f)!="function")throw Nl("cordova-plugin-inappbrowser is not installed")},function(){throw new T("cordova-not-ready")})};function uD(){for(var r=20,u=[];0<r;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return u.join("")}function aD(r){var u=new Bb;xp(u,r),r=[];var c=8*u.g;56>u.c?xp(u,jb,56-u.c):xp(u,jb,u.b-(u.c-56));for(var h=63;56<=h;h--)u.f[h]=c&255,c/=256;for(Rp(u),h=c=0;h<u.i;h++)for(var v=24;0<=v;v-=8)r[c++]=u.a[h]>>v&255;return wk(r)}e.Pb=function(r,u){return u(new T("operation-not-supported-in-this-environment")),Ae()},e.Nb=function(){return bt(new T("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,u,c,h){if(this.c)return bt(new T("redirect-operation-pending"));var v=this,y=f.document,w=null,S=null,z=null,ee=null;return this.c=Ae().then(function(){return Qd(u),Kb(v)}).then(function(){return cD(v,r,u,c,h)}).then(function(){return new He(function(Pe,ft){S=function(){var nt=_t("cordova.plugins.browsertab.close",f);return Pe(),typeof nt=="function"&&nt(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(S),z=function(){w||(w=vs(2e3).then(function(){ft(new T("redirect-cancelled-by-user"))}))},ee=function(){Cd()&&z()},y.addEventListener("resume",z,!1),rn().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",ee,!1)}).o(function(Pe){return Pp(v).then(function(){throw Pe})})}).oa(function(){z&&y.removeEventListener("resume",z,!1),ee&&y.removeEventListener("visibilitychange",ee,!1),w&&w.cancel(),S&&v.Ta(S),v.c=null})};function cD(r,u,c,h,v){var y=uD(),w=new gr(u,h,null,y,new T("no-auth-event"),null,v),S=_t("BuildInfo.packageName",f);if(typeof S!="string")throw new T("invalid-cordova-configuration");var z=_t("BuildInfo.displayName",f),ee={};if(rn().toLowerCase().match(/iphone|ipad|ipod/))ee.ibi=S;else if(rn().toLowerCase().match(/android/))ee.apn=S;else return bt(new T("operation-not-supported-in-this-environment"));z&&(ee.appDisplayName=z),y=aD(y),ee.sessionId=y;var Pe=ha(r.v,r.i,r.l,u,c,null,h,r.m,ee,r.u,v,r.s);return r.ma().then(function(){var ft=r.h;return r.C.a.set(Op,w.w(),ft)}).then(function(){var ft=_t("cordova.plugins.browsertab.isAvailable",f);if(typeof ft!="function")throw new T("invalid-cordova-configuration");var nt=null;ft(function(Xt){if(Xt){if(nt=_t("cordova.plugins.browsertab.openUrl",f),typeof nt!="function")throw new T("invalid-cordova-configuration");nt(Pe)}else{if(nt=_t("cordova.InAppBrowser.open",f),typeof nt!="function")throw new T("invalid-cordova-configuration");Xt=rn(),r.a=nt(Pe,Xt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Xt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function qb(r,u){for(var c=0;c<r.b.length;c++)try{r.b[c](u)}catch{}}function Kb(r){return r.f||(r.f=r.ma().then(function(){return new He(function(u){function c(h){return u(h),r.Ta(c),!1}r.Ea(c),lD(r)})})),r.f}function Pp(r){var u=null;return nD(r.g).then(function(c){return u=c,c=r.g,Cs(c.b,Op,c.a)}).then(function(){return u})}function lD(r){function u(w){h=!0,v&&v.cancel(),Pp(r).then(function(S){var z=c;if(S&&w&&w.url){var ee=null;z=L0(w.url),z.indexOf("/__/auth/callback")!=-1&&(ee=Ln(z),ee=_s(sr(ee,"firebaseError")||null),ee=(ee=typeof ee=="object"?Ee(ee):null)?new gr(S.c,S.b,null,null,ee,null,S.T()):new gr(S.c,S.b,z,S.f,null,null,S.T())),z=ee||c}qb(r,z)})}var c=new gr("unknown",null,null,null,new T("no-auth-event")),h=!1,v=vs(500).then(function(){return Pp(r).then(function(){h||qb(r,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(_t("BuildInfo.packageName",f).toLowerCase()+"://")==0&&u({url:w}),typeof y=="function")try{y(w)}catch(S){console.error(S)}},Yd||(Yd=new Nk),Ck(u)}e.Ea=function(r){this.b.push(r),Kb(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new gr("unknown",null,null,null,new T("no-auth-event")),r(u))})},e.Ta=function(r){Y(this.b,function(u){return u==r})};function fD(r){this.a=r,this.b=ma()}var Lp={name:"pendingRedirect",F:"session"};function hD(r){return r.b.set(Lp,"pending",r.a)}function Mp(r){return Cs(r.b,Lp,r.a)}function dD(r){return r.b.get(Lp,r.a).then(function(u){return u=="pending"})}function Cl(r,u,c,h){this.i={},this.u=0,this.D=r,this.v=u,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new Ol,this.C=new e_,this.g=new fD(Xb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Hb(this.D,this.v,this.m,he,this.J)}function Hb(r,u,c,h,v){var y=xe.SDK_VERSION||null;return Td()?new $b(r,u,c,y,h,v):new gb(r,u,c,y,h,v)}Cl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Hb(this.D,this.v,this.m,null,this.J),this.i={}};function zb(r){r.f||(r.f=!0,r.a.Ea(r.l));var u=r.a;return r.a.ma().o(function(c){throw r.a==u&&r.reset(),c})}function Gb(r){r.a.Yb()&&zb(r).o(function(u){var c=new gr("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Fp(u)&&r.s(c)}),r.a.Ub()||Jb(r.b)}function kl(r,u){U(r.h,u)||r.h.push(u),r.f||dD(r.g).then(function(c){c?Mp(r.g).then(function(){zb(r).o(function(h){var v=new gr("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Fp(h)&&r.s(v)})}):Gb(r)}).o(function(){Gb(r)})}function Vp(r,u){Y(r.h,function(c){return c==u})}Cl.prototype.s=function(r){if(!r)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var u=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(u=this.c[r.c])&&(u.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),u=!0;break}}return Jb(this.b),u};var pD=new Ei(2e3,1e4),vD=new Ei(3e4,6e4);Cl.prototype.ra=function(){return this.b.ra()};function Wb(r,u,c,h,v,y,w){return r.a.Nb(u,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},v,y,w)}function Fp(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Qb(r,u,c,h,v){var y;return hD(r.g).then(function(){return r.a.Ob(u,c,h,v).o(function(w){if(Fp(w))throw new T("operation-not-supported-in-this-environment");return y=w,Mp(r.g).then(function(){throw y})}).then(function(){return r.a.ac()?new He(function(){}):Mp(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Yb(r,u,c,h,v){return r.a.Pb(h,function(y){u.na(c,null,y,v)},pD.get())}var jp={};function Xb(r,u,c){return r=r+":"+u,c&&(r=r+":"+c.url),r}function Up(r,u,c,h){var v=Xb(u,c,h);return jp[v]||(jp[v]=new Cl(r,u,c,h)),jp[v]}function Ol(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Ol.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ol.prototype.h=function(r,u){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,v=r.a&&r.a.code=="auth/web-storage-unsupported",y=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!y),c!="unknown"||v||y?r.a?(Ao(this,!0,null,r.a),Ae()):u.Fa(c,h)?mD(this,r,u):bt(new T("invalid-auth-event")):(Ao(this,!1,null,null),Ae())}else bt(new T("invalid-auth-event"))};function Jb(r){r.g||(r.g=!0,Ao(r,!1,null,null))}function Dl(r){r.g&&!r.i&&Ao(r,!1,null,null)}function mD(r,u,c){c=c.Fa(u.c,u.b);var h=u.g,v=u.f,y=u.i,w=u.T(),S=!!u.c.match(/Redirect$/);c(h,v,w,y).then(function(z){Ao(r,S,z,null)}).o(function(z){Ao(r,S,null,z)})}function gD(r,u){if(r.b=function(){return bt(u)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](u)}function Zb(r,u){if(r.b=function(){return Ae(u)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](u)}function Ao(r,u,c,h){u?h?gD(r,h):Zb(r,c):Zb(r,{user:null}),r.f=[],r.c=[]}Ol.prototype.ra=function(){var r=this;return new He(function(u,c){r.b?r.b().then(u,c):(r.f.push(u),r.c.push(c),yD(r))})};function yD(r){var u=new T("timeout");r.a&&r.a.cancel(),r.a=vs(vD.get()).then(function(){r.b||(r.g=!0,Ao(r,!0,null,u))})}function e_(){}e_.prototype.h=function(r,u){if(r){var c=r.c,h=r.b;r.a?(u.na(r.c,null,r.a,r.b),Ae()):u.Fa(c,h)?wD(r,u):bt(new T("invalid-auth-event"))}else bt(new T("invalid-auth-event"))};function wD(r,u){var c=r.b,h=r.c;u.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(v){u.na(h,v,null,c)}).o(function(v){u.na(h,null,v,c)})}function t_(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Bp(r,u){this.a=u,we(this,"verificationId",r)}Bp.prototype.confirm=function(r){return r=$0(this.verificationId,r),this.a(r)};function $p(r,u,c,h){return new ti(r).gb(u,c).then(function(v){return new Bp(v,h)})}function bD(r){var u=N0(r);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");An(this,{token:r,expirationTime:Xu(1e3*u.exp),authTime:Xu(1e3*u.auth_time),issuedAtTime:Xu(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function qp(r,u,c){var h=u&&u[r_];if(!h)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=At(u),this.g=c,this.c=new sl(null,h),this.b=[];var v=this;H(u[n_]||[],function(y){(y=Pd(y))&&v.b.push(y)}),we(this,"auth",this.a),we(this,"session",this.c),we(this,"hints",this.b)}var n_="mfaInfo",r_="mfaPendingCredential";qp.prototype.Rc=function(r){var u=this;return r.tb(this.a.a,this.c).then(function(c){var h=At(u.f);return delete h[n_],delete h[r_],nn(h,c),u.g(h)})};function Kp(r,u,c,h){T.call(this,"multi-factor-auth-required",h,u),this.b=new qp(r,u,c),we(this,"resolver",this.b)}k(Kp,T);function i_(r,u,c){if(r&&P(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new Kp(u,r.serverResponse,c,r.message)}catch{}return null}function o_(){}o_.prototype.tb=function(r,u,c){return u.type==ta?_D(this,r,u,c):ID(this,r,u)};function _D(r,u,c,h){return c.Ha().then(function(v){return v={idToken:v},typeof h<"u"&&(v.displayName=h),nn(v,{phoneVerificationInfo:na(r.a)}),ze(u,lO,v)})}function ID(r,u,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},nn(h,{phoneVerificationInfo:na(r.a)}),ze(u,fO,h)})}function Hp(r){we(this,"factorId",r.fa),this.a=r}k(Hp,o_);function s_(r){if(Hp.call(this,r),this.a.fa!=ti.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}k(s_,Hp);function ks(r,u){Pn.call(this,r);for(var c in u)this[c]=u[c]}k(ks,Pn);function zp(r,u){this.a=r,this.b=[],this.c=O(this.yc,this),or(this.a,"userReloaded",this.c);var c=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&H(u.multiFactor.enrolledFactors,function(h){var v=null,y={};if(h){h.uid&&(y[Md]=h.uid),h.displayName&&(y[h0]=h.displayName),h.enrollmentTime&&(y[Ld]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[Vd]=h.phoneNumber);try{v=new Ju(y)}catch{}h=v}else h=null;h&&c.push(h)}),Rl(this,c)}function ED(r){var u=[];return H(r.mfaInfo||[],function(c){(c=Pd(c))&&u.push(c)}),u}e=zp.prototype,e.yc=function(r){Rl(this,ED(r.hd))};function Rl(r,u){r.b=u,we(r,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(r){return new sl(r,null)})},e.fc=function(r,u){var c=this,h=this.a.a;return this.Sb().then(function(v){return r.tb(h,v,u)}).then(function(v){return Fr(c.a,v),c.a.reload()})},e.bd=function(r){var u=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(v){return ze(h,DO,{idToken:v,mfaEnrollmentId:c})}).then(function(v){var y=Qe(u.b,function(w){return w.uid!=c});return Rl(u,y),Fr(u.a,v),u.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:_e(this.b,function(r){return r.w()})}}};function Gp(r,u,c){if(this.h=r,this.i=u,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Gp.prototype.start=function(){this.a=this.c,Wp(this,!0)};function TD(r,u){return u?(r.a=r.c,r.g()):(u=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),u)}function Wp(r,u){r.stop(),r.b=vs(TD(r,u)).then(function(){return tk()}).then(function(){return r.h()}).then(function(){Wp(r,!0)}).o(function(c){r.i(c)&&Wp(r,!1)})}Gp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Qp(r){this.f=r,this.b=this.a=null,this.c=Date.now()}Qp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function u_(r,u){typeof u>"u"&&(r.b?(u=r.b,u=u.a-u.g):u=0),r.c=Date.now()+1e3*u}function a_(r,u){r.b=il(u[wr]||""),r.a=u.refreshToken,u=u.expiresIn,u_(r,typeof u<"u"?Number(u):void 0)}function SD(r,u){r.b=u.b,r.a=u.a,r.c=u.c}function AD(r,u){return Wk(r.f,u).then(function(c){return r.b=il(c.access_token),r.a=c.refresh_token,u_(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}Qp.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?bt(new T("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?AD(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})};function xl(r,u){this.a=r||null,this.b=u||null,An(this,{lastSignInTime:Xu(u||null),creationTime:Xu(r||null)})}function ND(r){return new xl(r.a,r.b)}xl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function CD(r,u,c,h,v,y){An(this,{uid:r,displayName:h||null,photoURL:v||null,email:c||null,phoneNumber:y||null,providerId:u})}function Qn(r,u,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=xe.SDK_VERSION?ws(xe.SDK_VERSION):null;this.a=new yr(this.l,be(he),h),(this.u=r.emulatorConfig||null)&&_l(this.a,this.u),this.h=new Qp(this.a),nv(this,u[wr]),a_(this.h,u),we(this,"refreshToken",this.h.a),l_(this,c||{}),Sn.call(this),this.P=!1,this.s&&mo()&&(this.b=Up(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=kD(this),this.ba=O(this.ib,this);var v=this;this.za=null,this.Pa=function(y){v.xa(y.h)},this.qa=null,this.Ba=function(y){Yp(v,y.c)},this.$=null,this.aa=[],this.Oa=function(y){ga(v,y.f)},this.ja=null,this.S=new zp(this,c),we(this,"multiFactor",this.S)}k(Qn,Sn),Qn.prototype.xa=function(r){this.za=r,ib(this.a,r)};function Yp(r,u){r.u=u,_l(r.a,u),r.b&&(u=r.b,r.b=Up(r.s,r.l,r.m,r.u),r.P&&(Vp(u,r),kl(r.b,r)))}Qn.prototype.la=function(){return this.za};function Xp(r,u){r.qa&&Gn(r.qa,"languageCodeChanged",r.Pa),(r.qa=u)&&or(u,"languageCodeChanged",r.Pa)}function Jp(r,u){r.$&&Gn(r.$,"emulatorConfigChanged",r.Ba),(r.$=u)&&or(u,"emulatorConfigChanged",r.Ba)}function ga(r,u){r.aa=u,ob(r.a,xe.SDK_VERSION?ws(xe.SDK_VERSION,r.aa):null)}Qn.prototype.Ga=function(){return ae(this.aa)};function Zp(r,u){r.ja&&Gn(r.ja,"frameworkChanged",r.Oa),(r.ja=u)&&or(u,"frameworkChanged",r.Oa)}Qn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function ev(r){try{return xe.app(r.m).auth()}catch{throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function kD(r){return new Gp(function(){return r.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=r.h.c-Date.now()-3e5;return 0<u?u:0})}function c_(r){r.J||r.D.b||(r.D.start(),Gn(r,"tokenChanged",r.ba),or(r,"tokenChanged",r.ba))}function tv(r){Gn(r,"tokenChanged",r.ba),r.D.stop()}function nv(r,u){r.Aa=u,we(r,"_lat",u)}function OD(r,u){Y(r.W,function(c){return c==u})}function No(r){for(var u=[],c=0;c<r.W.length;c++)u.push(r.W[c](r));return Nw(u).then(function(){return r})}function ya(r){r.b&&!r.P&&(r.P=!0,kl(r.b,r))}function l_(r,u){An(r,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new xl(u.createdAt,u.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}we(Qn.prototype,"providerId","firebase");function f_(){}function rv(r){return Ae().then(function(){if(r.J)throw new T("app-deleted")})}function iv(r){return _e(r.providerData,function(u){return u.providerId})}function ov(r,u){u&&(h_(r,u.providerId),r.providerData.push(u))}function h_(r,u){Y(r.providerData,function(c){return c.providerId==u})}function Ai(r,u,c){(u!="uid"||c)&&r.hasOwnProperty(u)&&we(r,u,c)}function Pl(r,u){r!=u&&(An(r,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?we(r,"metadata",ND(u.metadata)):we(r,"metadata",new xl),H(u.providerData,function(c){ov(r,c)}),SD(r.h,u.h),we(r,"refreshToken",r.h.a),Rl(r.S,u.S.b))}e=Qn.prototype,e.reload=function(){var r=this;return Ht(this,rv(this).then(function(){return sv(r).then(function(){return No(r)}).then(f_)}))};function sv(r){return r.I().then(function(u){var c=r.isAnonymous;return DD(r,u).then(function(){return c||Ai(r,"isAnonymous",!1),u})})}e.oc=function(r){return this.I(r).then(function(u){return new bD(u)})},e.I=function(r){var u=this;return Ht(this,rv(this).then(function(){return u.h.getToken(r)}).then(function(c){if(!c)throw new T("internal-error");return c.accessToken!=u.Aa&&(nv(u,c.accessToken),u.dispatchEvent(new ks("tokenChanged"))),Ai(u,"refreshToken",c.refreshToken),c.accessToken}))};function Fr(r,u){u[wr]&&r.Aa!=u[wr]&&(a_(r.h,u),r.dispatchEvent(new ks("tokenChanged")),nv(r,u[wr]),Ai(r,"refreshToken",r.h.a))}function DD(r,u){return ze(r.a,hO,{idToken:u}).then(O(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new T("internal-error");r=r[0],l_(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var u=RD(r),c=0;c<u.length;c++)ov(this,u[c]);Ai(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ks("userReloaded",{hd:r}))};function RD(r){return(r=r.providerUserInfo)&&r.length?_e(r,function(u){return new CD(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(r){return kd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var u=this,c=null;return Ht(this,r.c(this.a,this.uid).then(function(h){return Fr(u,h),c=wa(u,h,"reauthenticate"),u.i=null,u.reload()}).then(function(){return c}),!0)};function Ll(r,u){return sv(r).then(function(){if(U(iv(r),u))return No(r).then(function(){throw new T("provider-already-linked")})})}e.Cc=function(r){return kd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var u=this,c=null;return Ht(this,Ll(this,r.providerId).then(function(){return u.I()}).then(function(h){return r.b(u.a,h)}).then(function(h){return c=wa(u,h,"link"),d_(u,h)}).then(function(){return c}))},e.Dc=function(r,u){var c=this;return Ht(this,Ll(this,"phone").then(function(){return $p(ev(c),r,u,O(c.rb,c))}))},e.Mc=function(r,u){var c=this;return Ht(this,Ae().then(function(){return $p(ev(c),r,u,O(c.ub,c))}),!0)};function wa(r,u,c){var h=Wd(u);return u=k0(u),Mr({user:r,credential:h,additionalUserInfo:u,operationType:c})}function d_(r,u){return Fr(r,u),r.reload().then(function(){return r})}e.Cb=function(r){var u=this;return Ht(this,this.I().then(function(c){return u.a.Cb(c,r)}).then(function(c){return Fr(u,c),u.reload()}))},e.ed=function(r){var u=this;return Ht(this,this.I().then(function(c){return r.b(u.a,c)}).then(function(c){return Fr(u,c),u.reload()}))},e.Db=function(r){var u=this;return Ht(this,this.I().then(function(c){return u.a.Db(c,r)}).then(function(c){return Fr(u,c),u.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return rv(this);var u=this;return Ht(this,this.I().then(function(c){return u.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Fr(u,c),Ai(u,"displayName",c.displayName||null),Ai(u,"photoURL",c.photoUrl||null),H(u.providerData,function(h){h.providerId==="password"&&(we(h,"displayName",u.displayName),we(h,"photoURL",u.photoURL))}),No(u)}).then(f_))},e.cd=function(r){var u=this;return Ht(this,sv(this).then(function(c){return U(iv(u),r)?tO(u.a,c,[r]).then(function(h){var v={};return H(h.providerUserInfo||[],function(y){v[y.providerId]=!0}),H(iv(u),function(y){v[y]||h_(u,y)}),v[ti.PROVIDER_ID]||we(u,"phoneNumber",null),No(u)}):No(u).then(function(){throw new T("no-such-provider")})}))},e.delete=function(){var r=this;return Ht(this,this.I().then(function(u){return ze(r.a,sO,{idToken:u})}).then(function(){r.dispatchEvent(new ks("userDeleted"))})).then(function(){for(var u=0;u<r.N.length;u++)r.N[u].cancel("app-deleted");Xp(r,null),Jp(r,null),Zp(r,null),r.N=[],r.J=!0,tv(r),we(r,"refreshToken",null),r.b&&Vp(r.b,r)})},e.Gb=function(r,u){return!!(r=="linkViaPopup"&&(this.g||null)==u&&this.f||r=="reauthViaPopup"&&(this.g||null)==u&&this.f||r=="linkViaRedirect"&&(this.ga||null)==u||r=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(r,u,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,u){return r=="linkViaPopup"&&u==(this.g||null)?O(this.Lb,this):r=="reauthViaPopup"&&u==(this.g||null)?O(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==u?O(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==u?O(this.Mb,this):null},e.Ec=function(r){var u=this;return p_(this,"linkViaPopup",r,function(){return Ll(u,r.providerId).then(function(){return No(u)})},!1)},e.Nc=function(r){return p_(this,"reauthViaPopup",r,function(){return Ae()},!0)};function p_(r,u,c,h,v){if(!mo())return bt(new T("operation-not-supported-in-this-environment"));if(r.i&&!v)return bt(r.i);var y=$d(c.providerId),w=go(r.uid+":::"),S=null;(!Qu()||Sd())&&r.s&&c.isOAuthProvider&&(S=ha(r.s,r.l,r.m,u,c,null,w,xe.SDK_VERSION||null,null,null,r.tenantId,r.u));var z=r0(S,y&&y.va,y&&y.ua);return h=h().then(function(){if(m_(r),!v)return r.I().then(function(){})}).then(function(){return Wb(r.b,z,u,c,w,!!S,r.tenantId)}).then(function(){return new He(function(ee,Pe){r.na(u,null,new T("cancelled-popup-request"),r.g||null),r.f=ee,r.C=Pe,r.g=w,r.c=Yb(r.b,r,u,z,w)})}).then(function(ee){return z&&vo(z),ee?Mr(ee):null}).o(function(ee){throw z&&vo(z),ee}),Ht(r,h,v)}e.Fc=function(r){var u=this;return v_(this,"linkViaRedirect",r,function(){return Ll(u,r.providerId)},!1)},e.Oc=function(r){return v_(this,"reauthViaRedirect",r,function(){return Ae()},!0)};function v_(r,u,c,h,v){if(!mo())return bt(new T("operation-not-supported-in-this-environment"));if(r.i&&!v)return bt(r.i);var y=null,w=go(r.uid+":::");return h=h().then(function(){if(m_(r),!v)return r.I().then(function(){})}).then(function(){return r.ga=w,No(r)}).then(function(S){return r.ha&&(S=r.ha,S=S.b.set(uv,r.w(),S.a)),S}).then(function(){return Qb(r.b,u,c,w,r.tenantId)}).o(function(S){if(y=S,r.ha)return y_(r.ha);throw y}).then(function(){if(y)throw y}),Ht(r,h,v)}function m_(r){if(!r.b||!r.P)throw r.b&&!r.P?new T("internal-error"):new T("auth-domain-config-required")}e.Lb=function(r,u,c,h){var v=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(w){return vp(v.a,{requestUri:r,postBody:h,sessionId:u,idToken:w})}).then(function(w){return y=wa(v,w,"link"),d_(v,w)}).then(function(){return y}),Ht(this,c)},e.Mb=function(r,u,c,h){var v=this;this.c&&(this.c.cancel(),this.c=null);var y=null,w=Ae().then(function(){return Es(mp(v.a,{requestUri:r,sessionId:u,postBody:h,tenantId:c}),v.uid)}).then(function(S){return y=wa(v,S,"reauthenticate"),Fr(v,S),v.i=null,v.reload()}).then(function(){return y});return Ht(this,w,!0)},e.vb=function(r){var u=this,c=null;return Ht(this,this.I().then(function(h){return c=h,typeof r>"u"||Rr(r)?{}:nl(new tl(r))}).then(function(h){return u.a.vb(c,h)}).then(function(h){if(u.email!=h)return u.reload()}).then(function(){}))},e.Fb=function(r,u){var c=this,h=null;return Ht(this,this.I().then(function(v){return h=v,typeof u>"u"||Rr(u)?{}:nl(new tl(u))}).then(function(v){return c.a.Fb(h,r,v)}).then(function(v){if(c.email!=v)return c.reload()}).then(function(){}))};function Ht(r,u,c){var h=xD(r,u,c);return r.N.push(h),h.oa(function(){G(r.N,h)}),h.o(function(v){var y=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(y=i_(v.w(),ev(r),O(r.jc,r))),y||v})}e.jc=function(r){var u=null,c=this;return r=Es(Ae(r),c.uid).then(function(h){return u=wa(c,h,"reauthenticate"),Fr(c,h),c.i=null,c.reload()}).then(function(){return u}),Ht(this,r,!0)};function xD(r,u,c){return r.i&&!c?(u.cancel(),bt(r.i)):u.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new ks("userInvalidated")),r.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&nn(r,this.metadata.w()),H(this.providerData,function(u){r.providerData.push(ik(u))}),nn(r,this.S.w()),r};function g_(r){if(!r.apiKey)return null;var u={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[wr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var v=new Qn(u,c,r);return r.providerData&&H(r.providerData,function(y){y&&ov(v,Mr(y))}),r.redirectEventId&&(v.ga=r.redirectEventId),v}function PD(r,u,c,h){var v=new Qn(r,u);return c&&(v.ha=c),h&&ga(v,h),v.reload().then(function(){return v})}function LD(r,u,c,h){var v=r.h,y={};return y[wr]=v.b&&v.b.toString(),y.refreshToken=v.a,u=new Qn(u||{apiKey:r.l,authDomain:r.s,appName:r.m},y),c&&(u.ha=c),h&&ga(u,h),Pl(u,r),u}function MD(r){this.a=r,this.b=ma()}var uv={name:"redirectUser",F:"session"};function y_(r){return Cs(r.b,uv,r.a)}function VD(r,u){return r.b.get(uv,r.a).then(function(c){return c&&u&&(c.authDomain=u),g_(c||{})})}function av(r){this.a=r,this.b=ma(),this.c=null,this.f=FD(this),this.b.addListener(jr("local"),this.a,O(this.g,this))}av.prototype.g=function(){var r=this,u=jr("local");Os(this,function(){return Ae().then(function(){return r.c&&r.c.F!="local"?r.b.get(u,r.a):null}).then(function(c){if(c)return cv(r,"local").then(function(){r.c=u})})})};function cv(r,u){var c=[],h;for(h in As)As[h]!==u&&c.push(Cs(r.b,jr(As[h]),r.a));return c.push(Cs(r.b,lv,r.a)),NC(c)}function FD(r){var u=jr("local"),c=jr("session"),h=jr("none");return ZO(r.b,u,r.a).then(function(){return r.b.get(c,r.a)}).then(function(v){return v?c:r.b.get(h,r.a).then(function(y){return y?h:r.b.get(u,r.a).then(function(w){return w?u:r.b.get(lv,r.a).then(function(S){return S?jr(S):u})})})}).then(function(v){return r.c=v,cv(r,v.F)}).o(function(){r.c||(r.c=u)})}var lv={name:"persistence",F:"session"};function jr(r){return{name:"authUser",F:r}}av.prototype.yb=function(r){var u=null,c=this;return JO(r),Os(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return u=h,cv(c,r)}).then(function(){if(c.c=jr(r),u)return c.b.set(c.c,u,c.a)}):Ae()})};function jD(r){return Os(r,function(){return r.b.set(lv,r.c.F,r.a)})}function w_(r,u){return Os(r,function(){return r.b.set(r.c,u.w(),r.a)})}function b_(r){return Os(r,function(){return Cs(r.b,r.c,r.a)})}function __(r,u,c){return Os(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&u&&(h.authDomain=u),h&&c&&(h.emulatorConfig=c),g_(h||{})})})}function Os(r,u){return r.f=r.f.then(u,u),r.f}function br(r){if(this.l=!1,we(this,"settings",new t_),we(this,"app",r),dt(this).options&&dt(this).options.apiKey)r=xe.SDK_VERSION?ws(xe.SDK_VERSION):null,this.a=new yr(dt(this).options&&dt(this).options.apiKey,be(he),r);else throw new T("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=xe.INTERNAL.createSubscribe(O(this.zc,this)),this.W=void 0,this.ib=xe.INTERNAL.createSubscribe(O(this.Ac,this)),Ds(this,null),this.i=new av(dt(this).options.apiKey+":"+dt(this).name),this.D=new MD(dt(this).options.apiKey+":"+dt(this).name),this.$=Nt(this,HD(this)),this.h=Nt(this,zD(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.qa=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,$D(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,Sn.call(this),BD(this),this.J=[],this.R=null}k(br,Sn);function I_(r){Pn.call(this,"languageCodeChanged"),this.h=r}k(I_,Pn);function E_(r){Pn.call(this,"emulatorConfigChanged"),this.c=r}k(E_,Pn);function T_(r){Pn.call(this,"frameworkChanged"),this.f=r}k(T_,Pn),e=br.prototype,e.yb=function(r){return r=this.i.yb(r),Nt(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,ib(this.a,this.aa),this.dispatchEvent(new I_(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,u){if(!this.R){if(!/^https?:\/\//.test(r))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,UD(u),this.R={url:r,ec:u},this.settings.jb=!0,_l(this.a,this.R),this.dispatchEvent(new E_(this.R))}};function UD(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Jc().then(function(){var u=f.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),f.document.body.appendChild(u)})}e.Gc=function(r){this.J.push(r),ob(this.a,xe.SDK_VERSION?ws(xe.SDK_VERSION,this.J):null),this.dispatchEvent(new T_(this.J))},e.Ga=function(){return ae(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function BD(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var u=Ln(this.R.url);u=Mr({protocol:u.c,host:u.a,port:u.g,options:Mr({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:dt(this).options.apiKey,authDomain:dt(this).options.authDomain,appName:dt(this).name,currentUser:je(this)&&je(this).w()}};function fv(r){return r.Oa||bt(new T("auth-domain-config-required"))}function $D(r){var u=dt(r).options.authDomain,c=dt(r).options.apiKey;u&&mo()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Up(u,c,dt(r).name,r.R),kl(r.b,r),je(r)&&ya(je(r)),r.m){ya(r.m);var h=r.m;h.xa(r.la()),Xp(h,r),h=r.m,ga(h,r.J),Zp(h,r),h=r.m,Yp(h,r.R),Jp(h,r),r.m=null}return r.b}}))}e.Gb=function(r,u){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(r,u,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,u){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==u&&this.f?O(this.ic,this):null},e.ic=function(r,u,c,h){var v=this,y={requestUri:r,postBody:h,sessionId:u,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return Co(v,pp(v.a,y))})},e.Xc=function(r){if(!mo())return bt(new T("operation-not-supported-in-this-environment"));var u=this,c=$d(r.providerId),h=go(),v=null;(!Qu()||Sd())&&dt(this).options.authDomain&&r.isOAuthProvider&&(v=ha(dt(this).options.authDomain,dt(this).options.apiKey,dt(this).name,"signInViaPopup",r,null,h,xe.SDK_VERSION||null,null,null,this.T(),this.R));var y=r0(v,c&&c.va,c&&c.ua);return c=fv(this).then(function(w){return Wb(w,y,"signInViaPopup",r,h,!!v,u.T())}).then(function(){return new He(function(w,S){u.na("signInViaPopup",null,new T("cancelled-popup-request"),u.g),u.f=w,u.C=S,u.g=h,u.c=Yb(u.b,u,"signInViaPopup",y,h)})}).then(function(w){return y&&vo(y),w?Mr(w):null}).o(function(w){throw y&&vo(y),w}),Nt(this,c)},e.Yc=function(r){if(!mo())return bt(new T("operation-not-supported-in-this-environment"));var u=this,c=fv(this).then(function(){return jD(u.i)}).then(function(){return Qb(u.b,"signInViaRedirect",r,void 0,u.T())});return Nt(this,c)};function S_(r){if(!mo())return bt(new T("operation-not-supported-in-this-environment"));var u=fv(r).then(function(){return r.b.ra()}).then(function(c){return c?Mr(c):null});return Nt(r,u)}e.ra=function(){var r=this;return S_(this).then(function(u){return r.b&&Dl(r.b.b),u}).o(function(u){throw r.b&&Dl(r.b.b),u})},e.dd=function(r){if(!r)return bt(new T("null-user"));if(this.S!=r.tenantId)return bt(new T("tenant-id-mismatch"));var u=this,c={};c.apiKey=dt(this).options.apiKey,c.authDomain=dt(this).options.authDomain,c.appName=dt(this).name;var h=LD(r,c,u.D,u.Ga());return Nt(this,this.h.then(function(){if(dt(u).options.apiKey!=r.l)return h.reload()}).then(function(){return je(u)&&r.uid==je(u).uid?(Pl(je(u),r),u.da(r)):(Ds(u,h),ya(h),u.da(h))}).then(function(){ba(u)}))};function qD(r,u){var c={};return c.apiKey=dt(r).options.apiKey,c.authDomain=dt(r).options.authDomain,c.appName=dt(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return PD(c,u,r.D,r.Ga())}).then(function(h){return je(r)&&h.uid==je(r).uid?(Pl(je(r),h),r.da(h)):(Ds(r,h),ya(h),r.da(h))}).then(function(){ba(r)})}function Ds(r,u){je(r)&&(OD(je(r),r.Ba),Gn(je(r),"tokenChanged",r.qa),Gn(je(r),"userDeleted",r.za),Gn(je(r),"userInvalidated",r.Aa),tv(je(r))),u&&(u.W.push(r.Ba),or(u,"tokenChanged",r.qa),or(u,"userDeleted",r.za),or(u,"userInvalidated",r.Aa),0<r.u&&c_(u)),we(r,"currentUser",u),u&&(u.xa(r.la()),Xp(u,r),ga(u,r.J),Zp(u,r),Yp(u,r.R),Jp(u,r))}e.Bb=function(){var r=this,u=this.h.then(function(){return r.b&&Dl(r.b.b),je(r)?(Ds(r,null),b_(r.i).then(function(){ba(r)})):Ae()});return Nt(this,u)};function KD(r){var u=VD(r.D,dt(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),y_(r.D)});return Nt(r,u)}function HD(r){var u=dt(r).options.authDomain,c=KD(r).then(function(){return __(r.i,u,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return w_(r.i,h).then(function(){return h})}).o(function(v){return v.code=="auth/network-request-failed"?h:b_(r.i)})):null}).then(function(h){Ds(r,h||null)});return Nt(r,c)}function zD(r){return r.$.then(function(){return S_(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var u=r.i;u.b.addListener(jr("local"),u.a,r.ja)}})}e.Zc=function(){var r=this;return __(this.i,dt(this).options.authDomain).then(function(u){if(!r.l){var c;if(c=je(r)&&u){c=je(r).uid;var h=u.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return Pl(je(r),u),je(r).I();(je(r)||u)&&(Ds(r,u),u&&(ya(u),u.ha=r.D),r.b&&kl(r.b,r),ba(r))}})},e.da=function(r){return w_(this.i,r)},e.mc=function(){ba(this),this.da(je(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Co(r,u){var c=null,h=null;return Nt(r,u.then(function(v){return c=Wd(v),h=k0(v),qD(r,v)},function(v){var y=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(y=i_(v.w(),r,O(r.kc,r))),y||v}).then(function(){return Mr({user:je(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(r){var u=this;return this.h.then(function(){return Co(u,Ae(r))})},e.zc=function(r){var u=this;this.addAuthTokenListener(function(){r.next(je(u))})},e.Ac=function(r){var u=this;GD(this,function(){r.next(je(u))})},e.Ic=function(r,u,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(je(h)):typeof r.next=="function"&&r.next(je(h))}),this.Pa(r,u,c)},e.Hc=function(r,u,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(je(h)):typeof r.next=="function"&&r.next(je(h))}),this.ib(r,u,c)},e.nc=function(r){var u=this,c=this.h.then(function(){return je(u)?je(u).I(r).then(function(h){return{accessToken:h}}):null});return Nt(this,c)},e.Tc=function(r){var u=this;return this.h.then(function(){return Co(u,ze(u.a,NO,{token:r}))}).then(function(c){var h=c.user;return Ai(h,"isAnonymous",!1),u.da(h),c})},e.Uc=function(r,u){var c=this;return this.h.then(function(){return Co(c,ze(c.a,pb,{email:r,password:u}))})},e.dc=function(r,u){var c=this;return this.h.then(function(){return Co(c,ze(c.a,iO,{email:r,password:u}))})},e.ab=function(r){var u=this;return this.h.then(function(){return Co(u,r.ka(u.a))})},e.Sc=function(r){return kd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var u=je(r);if(u&&u.isAnonymous){var c=Mr({providerId:null,isNewUser:!1});return Mr({user:u,credential:null,additionalUserInfo:c,operationType:"signIn"})}return Co(r,r.a.Ab()).then(function(h){var v=h.user;return Ai(v,"isAnonymous",!0),r.da(v),h})})};function dt(r){return r.app}function je(r){return r.currentUser}e.getUid=function(){return je(this)&&je(this).uid||null};function Ml(r){return je(r)&&je(r)._lat||null}function ba(r){if(r.ba){for(var u=0;u<r.s.length;u++)r.s[u]&&r.s[u](Ml(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),u=0;u<r.N.length;u++)r.N[u]&&r.N[u](Ml(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&je(this)&&c_(je(this))},e.Pc=function(r){var u=this;H(this.s,function(c){c==r&&u.u--}),0>this.u&&(this.u=0),this.u==0&&je(this)&&tv(je(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var u=this;this.s.push(r),Nt(this,this.h.then(function(){u.l||U(u.s,r)&&r(Ml(u))}))},e.removeAuthTokenListener=function(r){Y(this.s,function(u){return u==r})};function GD(r,u){r.N.push(u),Nt(r,r.h.then(function(){!r.l&&U(r.N,u)&&r.W!==r.getUid()&&(r.W=r.getUid(),u(Ml(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(jr("local"),r.a,this.ja)),this.b&&(Vp(this.b,this),Dl(this.b.b)),Promise.resolve()};function Nt(r,u){return r.P.push(u),u.oa(function(){G(r.P,u)}),u}e.hc=function(r){return Nt(this,Qk(this.a,r))},e.Bc=function(r){return!!Gd(r)},e.xb=function(r,u){var c=this;return Nt(this,Ae().then(function(){var h=new tl(u);if(!h.c)throw new T("argument-error",Ud+" must be true when sending sign in link to email");return nl(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(u){return u.data.email})},e.ob=function(r,u){return Nt(this,this.a.ob(r,u).then(function(){}))},e.Sa=function(r){return Nt(this,this.a.Sa(r).then(function(u){return new sk(u)}))},e.kb=function(r){return Nt(this,this.a.kb(r).then(function(){}))},e.wb=function(r,u){var c=this;return Nt(this,Ae().then(function(){return typeof u>"u"||Rr(u)?{}:nl(new tl(u))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},e.Wc=function(r,u){return Nt(this,$p(this,r,u,O(this.ab,this)))},e.Vc=function(r,u){var c=this;return Nt(this,Ae().then(function(){var h=u||Wu(),v=B0(r,h);if(h=Gd(h),!h)throw new T("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new T("tenant-id-mismatch");return c.ab(v)}))};function _a(){}_a.prototype.render=function(){},_a.prototype.reset=function(){},_a.prototype.getResponse=function(){},_a.prototype.execute=function(){};function Rs(){this.a={},this.b=1e12}var hv=null;Rs.prototype.render=function(r,u){return this.a[this.b.toString()]=new Vl(r,u),this.b++},Rs.prototype.reset=function(r){var u=dv(this,r);r=A_(r),u&&r&&(u.delete(),delete this.a[r])},Rs.prototype.getResponse=function(r){return(r=dv(this,r))?r.getResponse():null},Rs.prototype.execute=function(r){(r=dv(this,r))&&r.execute()};function dv(r,u){return(u=A_(u))&&r.a[u]||null}function A_(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function Vl(r,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Bu(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():or(this.f,"click",this.i)}Vl.prototype.getResponse=function(){return pv(this),this.b},Vl.prototype.execute=function(){pv(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=ek();var u=r.c.callback,c=r.c["expired-callback"];if(u)try{u(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},Vl.prototype.delete=function(){pv(this),this.g=!0,clearTimeout(this.a),this.a=null,Gn(this.f,"click",this.i)};function pv(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function vv(){}we(vv,"FACTOR_ID","phone");function mv(){}mv.prototype.g=function(){return hv||(hv=new Rs),Ae(hv)},mv.prototype.c=function(){};var gv=null;function yv(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var WD=new xr(jc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),QD=new Ei(3e4,6e4);yv.prototype.g=function(r){var u=this;return new He(function(c,h){var v=setTimeout(function(){h(new T("network-request-failed"))},QD.get());if(!f.grecaptcha||r!==u.f&&!u.b){f[u.a]=function(){if(f.grecaptcha){u.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(S,z){return S=w(S,z),u.b++,S},clearTimeout(v),c(f.grecaptcha)}else clearTimeout(v),h(new T("internal-error"));delete f[u.a]};var y=Zh(WD,{onload:u.a,hl:r||""});Ae(up(y)).o(function(){clearTimeout(v),h(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),c(f.grecaptcha)})},yv.prototype.c=function(){this.b--};var wv=null;function bv(r,u,c,h,v,y,w){if(we(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,w?(gv||(gv=new mv),w=gv):(wv||(wv=new yv),w=wv),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[k_])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[YD]==="invisible",!f.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Bu(u)||!this.i&&Bu(u).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new yr(r,y||null,v||null),this.u=h||function(){return null};var S=this;this.l=[];var z=this.a[N_];this.a[N_]=function(Pe){if(O_(S,Pe),typeof z=="function")z(Pe);else if(typeof z=="string"){var ft=_t(z,f);typeof ft=="function"&&ft(Pe)}};var ee=this.a[C_];this.a[C_]=function(){if(O_(S,null),typeof ee=="function")ee();else if(typeof ee=="string"){var Pe=_t(ee,f);typeof Pe=="function"&&Pe()}}}var N_="callback",C_="expired-callback",k_="sitekey",YD="size";function O_(r,u){for(var c=0;c<r.l.length;c++)try{r.l[c](u)}catch{}}function XD(r,u){Y(r.l,function(c){return c==u})}function _v(r,u){return r.h.push(u),u.oa(function(){G(r.h,u)}),u}e=bv.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=_v(this,Ae().then(function(){if(Zc()&&!mr())return Jc();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(u){return r.g=u,ze(r.s,yO,{})}).then(function(u){r.a[k_]=u.recaptchaSiteKey}).o(function(u){throw r.f=null,u}))},e.render=function(){Fl(this);var r=this;return _v(this,this.Ia().then(function(){if(r.c===null){var u=r.v;if(!r.i){var c=Bu(u);u=EC("DIV"),c.appendChild(u)}r.c=r.g.render(u,r.a)}return r.c}))},e.verify=function(){Fl(this);var r=this;return _v(this,this.render().then(function(u){return new He(function(c){var h=r.g.getResponse(u);if(h)c(h);else{var v=function(y){y&&(XD(r,v),c(y))};r.l.push(v),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){Fl(this),this.c!==null&&this.g.reset(this.c)};function Fl(r){if(r.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Fl(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=Bu(this.v);for(var u;u=r.firstChild;)r.removeChild(u)}};function Iv(r,u,c){var h=!1;try{this.b=c||xe.app()}catch{throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new T("invalid-api-key");var v=this,y=null;try{y=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=xe.SDK_VERSION?ws(xe.SDK_VERSION,y):null,bv.call(this,c,r,u,function(){try{var w=v.b.auth().la()}catch{w=null}return w},y,be(he),h)}k(Iv,bv);function D_(r,u,c,h){e:{c=Array.prototype.slice.call(c);for(var v=0,y=!1,w=0;w<u.length;w++)if(u[w].optional)y=!0;else{if(y)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(y=u.length,c.length<v||y<c.length)h="Expected "+(v==y?v==1?"1 argument":v+" arguments":v+"-"+y+" arguments")+" but got "+c.length+".";else{for(v=0;v<c.length;v++)if(y=u[v].optional&&c[v]===void 0,!u[v].M(c[v])&&!y){if(u=u[v],0>v||v>=R_.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");c=R_[v],h=(h?"":c+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}h=null}}if(h)throw new T("argument-error",r+" failed: "+h)}var R_="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ye(r,u){return{name:r||"",K:"a valid string",optional:!!u,M:function(c){return typeof c=="string"}}}function Ev(r,u){return{name:r||"",K:"a boolean",optional:!!u,M:function(c){return typeof c=="boolean"}}}function Ft(r,u){return{name:r||"",K:"a valid object",optional:!!u,M:P}}function xs(r,u){return{name:r||"",K:"a function",optional:!!u,M:function(c){return typeof c=="function"}}}function Ur(r,u){return{name:r||"",K:"null",optional:!!u,M:function(c){return c===null}}}function JD(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function ZD(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof br)}}}function eR(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof xe.app.App)}}}function Ni(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var c=!r||u.providerId===r;return!(!u.ka||!c)}}}function x_(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function Ps(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Tv(r,u){return P(r)&&typeof r.type=="string"&&r.type===u&&typeof r.Ha=="function"}function P_(r){return P(r)&&typeof r.uid=="string"}function jl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Rt(r,u,c,h){return{name:c||"",K:r.K+" or "+u.K,optional:!!h,M:function(v){return r.M(v)||u.M(v)}}}function Tt(r,u){for(var c in u){var h=u[c].name;r[h]=M_(h,r[c],u[c].j)}}function L_(r,u){for(var c in u){var h=u[c].name;h!==c&&Object.defineProperty(r,h,{get:M(function(v){return this[v]},c),set:M(function(v,y,w,S){D_(v,[w],[S],!0),this[y]=S},h,c,u[c].lb),enumerable:!0})}}function xt(r,u,c,h){r[u]=M_(u,c,h)}function M_(r,u,c){function h(){var w=Array.prototype.slice.call(arguments);return D_(v,c,w),u.apply(this,w)}if(!c)return u;var v=tR(r),y;for(y in u)h[y]=u[y];for(y in u.prototype)h.prototype[y]=u.prototype[y];return h}function tR(r){return r=r.split("."),r[r.length-1]}Tt(br.prototype,{kb:{name:"applyActionCode",j:[ye("code")]},Sa:{name:"checkActionCode",j:[ye("code")]},ob:{name:"confirmPasswordReset",j:[ye("code"),ye("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ye("email"),ye("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ye("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ye("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Rt(Ft(),xs(),"nextOrObserver"),xs("opt_error",!0),xs("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Rt(Ft(),xs(),"nextOrObserver"),xs("opt_error",!0),xs("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ye("email"),Rt(Ft("opt_actionCodeSettings",!0),Ur(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ye("email"),Ft("actionCodeSettings")]},yb:{name:"setPersistence",j:[ye("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ni()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ni()]},Tc:{name:"signInWithCustomToken",j:[ye("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ye("email"),ye("password")]},Vc:{name:"signInWithEmailLink",j:[ye("email"),ye("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ye("phoneNumber"),jl()]},Xc:{name:"signInWithPopup",j:[Ps()]},Yc:{name:"signInWithRedirect",j:[Ps()]},dd:{name:"updateCurrentUser",j:[Rt(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(u){return!!(u&&u instanceof Qn)}}}(),Ur(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ye(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ye("url"),Ft("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ye("code")]}}),L_(br.prototype,{lc:{name:"languageCode",lb:Rt(ye(),Ur(),"languageCode")},ti:{name:"tenantId",lb:Rt(ye(),Ur(),"tenantId")}}),br.Persistence=As,br.Persistence.LOCAL="local",br.Persistence.SESSION="session",br.Persistence.NONE="none",Tt(Qn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Ev("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ev("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ni()]},rb:{name:"linkWithCredential",j:[Ni()]},Dc:{name:"linkWithPhoneNumber",j:[ye("phoneNumber"),jl()]},Ec:{name:"linkWithPopup",j:[Ps()]},Fc:{name:"linkWithRedirect",j:[Ps()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ni()]},ub:{name:"reauthenticateWithCredential",j:[Ni()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ye("phoneNumber"),jl()]},Nc:{name:"reauthenticateWithPopup",j:[Ps()]},Oc:{name:"reauthenticateWithRedirect",j:[Ps()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Rt(Ft("opt_actionCodeSettings",!0),Ur(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ye(null,!0)]},cd:{name:"unlink",j:[ye("provider")]},Cb:{name:"updateEmail",j:[ye("email")]},Db:{name:"updatePassword",j:[ye("password")]},ed:{name:"updatePhoneNumber",j:[Ni("phone")]},Eb:{name:"updateProfile",j:[Ft("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ye("email"),Rt(Ft("opt_actionCodeSettings",!0),Ur(null,!0),"opt_actionCodeSettings",!0)]}}),Tt(Rs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(_a.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(He.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),L_(t_.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Ev("appVerificationDisabledForTesting")}}),Tt(Bp.prototype,{confirm:{name:"confirm",j:[ye("verificationCode")]}}),xt(Is,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var u,c=[Tk,Sk,Ak,Ek],h=0;h<c.length;h++)if(u=c[h](r))return u;return null},[Rt(ye(),Ft(),"json")]),xt(ur,"credential",function(r,u){return new Ti(r,u)},[ye("email"),ye("password")]),Tt(Ti.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Tt(bo.prototype,{Ca:{name:"addScope",j:[ye("scope")]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),xt(bo,"credential",V0,[Rt(ye(),Ft(),"token")]),xt(ur,"credentialWithLink",B0,[ye("email"),ye("emailLink")]),Tt(_o.prototype,{Ca:{name:"addScope",j:[ye("scope")]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),xt(_o,"credential",F0,[Rt(ye(),Ft(),"token")]),Tt(Io.prototype,{Ca:{name:"addScope",j:[ye("scope")]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),xt(Io,"credential",j0,[Rt(ye(),Rt(Ft(),Ur()),"idToken"),Rt(ye(),Ur(),"accessToken",!0)]),Tt(Ts.prototype,{Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),xt(Ts,"credential",U0,[Rt(ye(),Ft(),"token"),ye("secret",!0)]),Tt(Wn.prototype,{Ca:{name:"addScope",j:[ye("scope")]},credential:{name:"credential",j:[Rt(ye(),Rt(Ft(),Ur()),"optionsOrIdToken"),Rt(ye(),Ur(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),Tt(ei.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Tt(yo.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),xt(ti,"credential",$0,[ye("verificationId"),ye("verificationCode")]),Tt(ti.prototype,{gb:{name:"verifyPhoneNumber",j:[Rt(ye(),function(r,u){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(c){return c?c.session&&c.phoneNumber?Tv(c.session,ta)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Tv(c.session,ul)&&P_(c.multiFactorHint):c.session&&c.multiFactorUid?Tv(c.session,ul)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),jl()]}}),Tt(Si.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Tt(T.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Tt(ra.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Tt(Xd.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Tt(Kp.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Tt(qp.prototype,{Rc:{name:"resolveSignIn",j:[x_()]}}),Tt(zp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[x_(),ye("displayName",!0)]},bd:{name:"unenroll",j:[Rt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:P_},ye(),"multiFactorInfoIdentifier")]}}),Tt(Iv.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),xt(jd,"parseLink",w0,[ye("link")]),xt(vv,"assertion",function(r){return new s_(r)},[Ni("phone")]),function(){if(typeof xe<"u"&&xe.INTERNAL&&xe.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:el,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Fd,VERIFY_AND_CHANGE_EMAIL:Zu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:br,AuthCredential:Is,Error:T};xt(r,"EmailAuthProvider",ur,[]),xt(r,"FacebookAuthProvider",bo,[]),xt(r,"GithubAuthProvider",_o,[]),xt(r,"GoogleAuthProvider",Io,[]),xt(r,"TwitterAuthProvider",Ts,[]),xt(r,"OAuthProvider",Wn,[ye("providerId")]),xt(r,"SAMLAuthProvider",M0,[ye("providerId")]),xt(r,"PhoneAuthProvider",ti,[ZD()]),xt(r,"RecaptchaVerifier",Iv,[Rt(ye(),JD(),"recaptchaContainer"),Ft("recaptchaParameters",!0),eR()]),xt(r,"ActionCodeURL",jd,[]),xt(r,"PhoneMultiFactorGenerator",vv,[]),xe.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new br(u)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),xe.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:O(u.getUid,u),getToken:O(u.nc,u),addAuthTokenListener:O(u.cc,u),removeAuthTokenListener:O(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),xe.registerVersion("@firebase/auth","0.16.8"),xe.INTERNAL.extendNamespace({User:Qn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bm=function(e,t){return bm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},bm(e,t)};function sV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function UT(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var uV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge,Dg=Dg||{},Me=uV||self;function Sf(){}function _m(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function gc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function aV(e){return Object.prototype.hasOwnProperty.call(e,Vv)&&e[Vv]||(e[Vv]=++cV)}var Vv="closure_uid_"+(1e9*Math.random()>>>0),cV=0;function lV(e,t,n){return e.call.apply(e.bind,arguments)}function fV(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function hn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?hn=lV:hn=fV,hn.apply(null,arguments)}function Wl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function pn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(i,a)}}function io(){this.s=this.s,this.o=this.o}var hV=0;io.prototype.s=!1;io.prototype.na=function(){!this.s&&(this.s=!0,this.M(),hV!=0)&&aV(this)};io.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var BT=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},$T=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<i;s++)s in o&&t.call(n,o[s],s,e)};function dV(e){e:{for(var t=iF,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function LI(e){return Array.prototype.concat.apply([],arguments)}function Rg(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function Af(e){return/^[\s\xa0]*$/.test(e)}var MI=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function kn(e,t){return e.indexOf(t)!=-1}function Fv(e,t){return e<t?-1:e>t?1:0}var On;e:{var VI=Me.navigator;if(VI){var FI=VI.userAgent;if(FI){On=FI;break e}}On=""}function xg(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function qT(e){var t={};for(var n in e)t[n]=e[n];return t}var jI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KT(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var s=0;s<jI.length;s++)n=jI[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Pg(e){return Pg[" "](e),e}Pg[" "]=Sf;function pV(e){var t=gV;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var vV=kn(On,"Opera"),iu=kn(On,"Trident")||kn(On,"MSIE"),HT=kn(On,"Edge"),Im=HT||iu,zT=kn(On,"Gecko")&&!(kn(On.toLowerCase(),"webkit")&&!kn(On,"Edge"))&&!(kn(On,"Trident")||kn(On,"MSIE"))&&!kn(On,"Edge"),mV=kn(On.toLowerCase(),"webkit")&&!kn(On,"Edge");function GT(){var e=Me.document;return e?e.documentMode:void 0}var Nf;e:{var jv="",Uv=function(){var e=On;if(zT)return/rv:([^\);]+)(\)|;)/.exec(e);if(HT)return/Edge\/([\d\.]+)/.exec(e);if(iu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(mV)return/WebKit\/(\S+)/.exec(e);if(vV)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Uv&&(jv=Uv?Uv[1]:""),iu){var Bv=GT();if(Bv!=null&&Bv>parseFloat(jv)){Nf=String(Bv);break e}}Nf=jv}var gV={};function yV(){return pV(function(){for(var e=0,t=MI(String(Nf)).split("."),n=MI("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var s=t[o]||"",a=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=Fv(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||Fv(s[2].length==0,a[2].length==0)||Fv(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var Em;if(Me.document&&iu){var UI=GT();Em=UI||parseInt(Nf,10)||void 0}else Em=void 0;var wV=Em,bV=function(){if(!Me.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Me.addEventListener("test",Sf,t),Me.removeEventListener("test",Sf,t)}catch{}return e}();function _n(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_n.prototype.h=function(){this.defaultPrevented=!0};function tc(e,t){if(_n.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(zT){e:{try{Pg(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:_V[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&tc.Z.h.call(this)}}pn(tc,_n);var _V={2:"touch",3:"pen",4:"mouse"};tc.prototype.h=function(){tc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var yc="closure_listenable_"+(1e6*Math.random()|0),IV=0;function EV(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++IV,this.ca=this.fa=!1}function gh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function yh(e){this.src=e,this.g={},this.h=0}yh.prototype.add=function(e,t,n,i,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=Sm(e,t,i,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new EV(t,this.src,s,!!i,o),t.fa=n,e.push(t)),t};function Tm(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=BT(i,t),s;(s=0<=o)&&Array.prototype.splice.call(i,o,1),s&&(gh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Sm(e,t,n,i){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return o}return-1}var Lg="closure_lm_"+(1e6*Math.random()|0),$v={};function WT(e,t,n,i,o){if(i&&i.once)return YT(e,t,n,i,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)WT(e,t[s],n,i,o);return null}return n=Fg(n),e&&e[yc]?e.N(t,n,gc(i)?!!i.capture:!!i,o):QT(e,t,n,!1,i,o)}function QT(e,t,n,i,o,s){if(!t)throw Error("Invalid event type");var a=gc(o)?!!o.capture:!!o,l=Vg(e);if(l||(e[Lg]=l=new yh(e)),n=l.add(t,n,i,a,s),n.proxy)return n;if(i=TV(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)bV||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(JT(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function TV(){function e(n){return t.call(e.src,e.listener,n)}var t=SV;return e}function YT(e,t,n,i,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)YT(e,t[s],n,i,o);return null}return n=Fg(n),e&&e[yc]?e.O(t,n,gc(i)?!!i.capture:!!i,o):QT(e,t,n,!0,i,o)}function XT(e,t,n,i,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)XT(e,t[s],n,i,o);else i=gc(i)?!!i.capture:!!i,n=Fg(n),e&&e[yc]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Sm(s,n,i,o),-1<n&&(gh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Vg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Sm(t,n,i,o)),(n=-1<e?t[e]:null)&&Mg(n))}function Mg(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[yc])Tm(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(JT(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Vg(t))?(Tm(n,e),n.h==0&&(n.src=null,t[Lg]=null)):gh(e)}}}function JT(e){return e in $v?$v[e]:$v[e]="on"+e}function SV(e,t){if(e.ca)e=!0;else{t=new tc(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Mg(e),e=n.call(i,t)}return e}function Vg(e){return e=e[Lg],e instanceof yh?e:null}var qv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fg(e){return typeof e=="function"?e:(e[qv]||(e[qv]=function(t){return e.handleEvent(t)}),e[qv])}function en(){io.call(this),this.i=new yh(this),this.P=this,this.I=null}pn(en,io);en.prototype[yc]=!0;en.prototype.removeEventListener=function(e,t,n,i){XT(this,e,t,n,i)};function dn(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new _n(t,e);else if(t instanceof _n)t.target=t.target||e;else{var o=t;t=new _n(i,e),KT(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];o=Ql(a,i,!0,t)&&o}if(a=t.g=e,o=Ql(a,i,!0,t)&&o,o=Ql(a,i,!1,t)&&o,n)for(s=0;s<n.length;s++)a=t.g=n[s],o=Ql(a,i,!1,t)&&o}en.prototype.M=function(){if(en.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)gh(n[i]);delete e.g[t],e.h--}}this.I=null};en.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};en.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Ql(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&Tm(e.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var jg=Me.JSON.stringify;function AV(){var e=eS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var NV=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=ZT.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),ZT=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new CV},function(e){return e.reset()}),CV=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function kV(e){Me.setTimeout(function(){throw e},0)}function Ug(e,t){Am||OV(),Nm||(Am(),Nm=!0),eS.add(e,t)}var Am;function OV(){var e=Me.Promise.resolve(void 0);Am=function(){e.then(DV)}}var Nm=!1,eS=new NV;function DV(){for(var e;e=AV();){try{e.h.call(e.g)}catch(n){kV(n)}var t=ZT;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Nm=!1}function wh(e,t){en.call(this),this.h=e||1,this.g=t||Me,this.j=hn(this.kb,this),this.l=Date.now()}pn(wh,en);ge=wh.prototype;ge.da=!1;ge.S=null;ge.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),dn(this,"tick"),this.da&&(Bg(this),this.start()))}};ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Bg(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ge.M=function(){wh.Z.M.call(this),Bg(this),delete this.g};function $g(e,t,n){if(typeof e=="function")n&&(e=hn(e,n));else if(e&&typeof e.handleEvent=="function")e=hn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Me.setTimeout(e,t||0)}function tS(e){e.g=$g(function(){e.g=null,e.i&&(e.i=!1,tS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var RV=function(e){sV(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:tS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(io);function nc(e){io.call(this),this.h=e,this.g={}}pn(nc,io);var BI=[];function nS(e,t,n,i){Array.isArray(n)||(n&&(BI[0]=n.toString()),n=BI);for(var o=0;o<n.length;o++){var s=WT(t,n[o],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function rS(e){xg(e.g,function(t,n){this.g.hasOwnProperty(n)&&Mg(t)},e),e.g={}}nc.prototype.M=function(){nc.Z.M.call(this),rS(this)};nc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function bh(){this.g=!0}bh.prototype.Aa=function(){this.g=!1};function xV(e,t,n,i,o,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var p=d[0];d=d[1];var m=p.split("_");a=2<=m.length&&m[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function PV(e,t,n,i,o,s,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+a})}function Hs(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+MV(e,n)+(i?" "+i:"")})}function LV(e,t){e.info(function(){return"TIMEOUT: "+t})}bh.prototype.info=function(){};function MV(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return jg(n)}catch{return t}}var rs={},$I=null;function _h(){return $I=$I||new en}rs.Ma="serverreachability";function iS(e){_n.call(this,rs.Ma,e)}pn(iS,_n);function rc(e){var t=_h();dn(t,new iS(t))}rs.STAT_EVENT="statevent";function oS(e,t){_n.call(this,rs.STAT_EVENT,e),this.stat=t}pn(oS,_n);function Dn(e){var t=_h();dn(t,new oS(t,e))}rs.Na="timingevent";function sS(e,t){_n.call(this,rs.Na,e),this.size=t}pn(sS,_n);function wc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Me.setTimeout(function(){e()},t)}var Ih={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qg(){}qg.prototype.h=null;function qI(e){return e.h||(e.h=e.i())}function aS(){}var bc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Kg(){_n.call(this,"d")}pn(Kg,_n);function Hg(){_n.call(this,"c")}pn(Hg,_n);var Cm;function Eh(){}pn(Eh,qg);Eh.prototype.g=function(){return new XMLHttpRequest};Eh.prototype.i=function(){return{}};Cm=new Eh;function _c(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new nc(this),this.P=VV,e=Im?125:void 0,this.W=new wh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new cS}function cS(){this.i=null,this.g="",this.h=!1}var VV=45e3,km={},Cf={};ge=_c.prototype;ge.setTimeout=function(e){this.P=e};function Om(e,t,n){e.K=1,e.v=Sh(di(t)),e.s=n,e.U=!0,lS(e,null)}function lS(e,t){e.F=Date.now(),Ic(e),e.A=di(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),gS(n.h,"t",i),e.C=0,n=e.l.H,e.h=new cS,e.g=VS(e.l,n?t:null,!e.s),0<e.O&&(e.L=new RV(hn(e.Ia,e,e.g),e.O)),nS(e.V,e.g,"readystatechange",e.gb),t=e.H?qT(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),rc(),xV(e.j,e.u,e.A,e.m,e.X,e.s)}ge.gb=function(e){e=e.target;var t=this.L;t&&si(e)==3?t.l():this.Ia(e)};ge.Ia=function(e){try{if(e==this.g)e:{var t=si(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||Im||this.g&&(this.h.h||this.g.ga()||GI(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?rc(3):rc(2)),Th(this);var o=this.g.ba();this.N=o;t:if(fS(this)){var s=GI(this.g);e="";var a=s.length,l=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jo(this),Ma(this);var f="";break t}this.h.i=new Me.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,PV(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Af(d)){var m=d;break t}}m=null}if(o=m)Hs(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dm(this,o);else{this.i=!1,this.o=3,Dn(12),jo(this),Ma(this);break e}}this.U?(hS(this,t,f),Im&&this.i&&t==3&&(nS(this.V,this.W,"tick",this.fb),this.W.start())):(Hs(this.j,this.m,f,null),Dm(this,f)),t==4&&jo(this),this.i&&!this.I&&(t==4?xS(this.l,this):(this.i=!1,Ic(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Dn(12)):(this.o=0,Dn(13)),jo(this),Ma(this)}}}catch{}finally{}};function fS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function hS(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=FV(e,n),o==Cf){t==4&&(e.o=4,Dn(14),i=!1),Hs(e.j,e.m,null,"[Incomplete Response]");break}else if(o==km){e.o=4,Dn(15),Hs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Hs(e.j,e.m,o,null),Dm(e,o);fS(e)&&o!=Cf&&o!=km&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Dn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ey(t),t.L=!0,Dn(11))):(Hs(e.j,e.m,n,"[Invalid Chunked Response]"),jo(e),Ma(e))}ge.fb=function(){if(this.g){var e=si(this.g),t=this.g.ga();this.C<t.length&&(Th(this),hS(this,e,t),this.i&&e!=4&&Ic(this))}};function FV(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Cf:(n=Number(t.substring(n,i)),isNaN(n)?km:(i+=1,i+n>t.length?Cf:(t=t.substr(i,n),e.C=i+n,t)))}ge.cancel=function(){this.I=!0,jo(this)};function Ic(e){e.Y=Date.now()+e.P,dS(e,e.P)}function dS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=wc(hn(e.eb,e),t)}function Th(e){e.B&&(Me.clearTimeout(e.B),e.B=null)}ge.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(LV(this.j,this.A),this.K!=2&&(rc(),Dn(17)),jo(this),this.o=2,Ma(this)):dS(this,this.Y-e)};function Ma(e){e.l.G==0||e.I||xS(e.l,e)}function jo(e){Th(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Bg(e.W),rS(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Dm(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Rm(n.i,e))){if(n.I=e.N,!e.J&&Rm(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Rf(n),Ch(n);else break e;Zg(n),Dn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=wc(hn(n.ab,n),6e3));if(1>=bS(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Uo(n,11)}else if((e.J||n.g==e)&&Rf(n),!Af(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=e.g;if(d){var p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var m=i.i;!m.g&&(kn(p,"spdy")||kn(p,"quic")||kn(p,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(Wg(m,m.h),m.h=null))}if(i.D){var g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.sa=g,It(i.F,i.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=e;if(i.oa=MS(i,i.H?i.la:null,i.W),b.J){_S(i.i,b);var I=b,A=i.K;A&&I.setTimeout(A),I.B&&(Th(I),Ic(I)),i.g=b}else DS(i);0<n.l.length&&kh(n)}else s[0]!="stop"&&s[0]!="close"||Uo(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Uo(n,7):Jg(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}rc(4)}catch{}}function jV(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(_m(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function zg(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(_m(e)||typeof e=="string")$T(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(_m(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=jV(e),o=i.length;for(var s=0;s<o;s++)t.call(void 0,i[s],n&&n[s],e)}}function Du(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Du)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}ge=Du.prototype;ge.R=function(){Gg(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ge.T=function(){return Gg(this),this.g.concat()};function Gg(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Qo(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],Qo(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}ge.get=function(e,t){return Qo(this.h,e)?this.h[e]:t};ge.set=function(e,t){Qo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ge.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],s=this.get(o);e.call(t,s,o,this)}};function Qo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var pS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function UV(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var s=e[n].substring(0,i);o=e[n].substring(i+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Yo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Yo){this.g=t!==void 0?t:e.g,kf(this,e.j),this.s=e.s,Of(this,e.i),Df(this,e.m),this.l=e.l,t=e.h;var n=new ic;n.i=t.i,t.g&&(n.g=new Du(t.g),n.h=t.h),KI(this,n),this.o=e.o}else e&&(n=String(e).match(pS))?(this.g=!!t,kf(this,n[1]||"",!0),this.s=Va(n[2]||""),Of(this,n[3]||"",!0),Df(this,n[4]),this.l=Va(n[5]||"",!0),KI(this,n[6]||"",!0),this.o=Va(n[7]||"")):(this.g=!!t,this.h=new ic(null,this.g))}Yo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Na(t,HI,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Na(t,HI,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Na(n,n.charAt(0)=="/"?HV:KV,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Na(n,GV)),e.join("")};function di(e){return new Yo(e)}function kf(e,t,n){e.j=n?Va(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Of(e,t,n){e.i=n?Va(t,!0):t}function Df(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function KI(e,t,n){t instanceof ic?(e.h=t,WV(e.h,e.g)):(n||(t=Na(t,zV)),e.h=new ic(t,e.g))}function It(e,t,n){e.h.set(t,n)}function Sh(e){return It(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function BV(e){return e instanceof Yo?di(e):new Yo(e,void 0)}function $V(e,t,n,i){var o=new Yo(null,void 0);return e&&kf(o,e),t&&Of(o,t),n&&Df(o,n),i&&(o.l=i),o}function Va(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Na(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,qV),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qV(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var HI=/[#\/\?@]/g,KV=/[#\?:]/g,HV=/[#\?]/g,zV=/[#\?@]/g,GV=/#/g;function ic(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function oo(e){e.g||(e.g=new Du,e.h=0,e.i&&UV(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ge=ic.prototype;ge.add=function(e,t){oo(this),this.i=null,e=Ru(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function vS(e,t){oo(e),t=Ru(e,t),Qo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Qo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Gg(e)))}function mS(e,t){return oo(e),t=Ru(e,t),Qo(e.g.h,t)}ge.forEach=function(e,t){oo(this),this.g.forEach(function(n,i){$T(n,function(o){e.call(t,o,i,this)},this)},this)};ge.T=function(){oo(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],s=0;s<o.length;s++)n.push(t[i]);return n};ge.R=function(e){oo(this);var t=[];if(typeof e=="string")mS(this,e)&&(t=LI(t,this.g.get(Ru(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=LI(t,e[n])}return t};ge.set=function(e,t){return oo(this),this.i=null,e=Ru(this,e),mS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ge.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function gS(e,t,n){vS(e,t),0<n.length&&(e.i=null,e.g.set(Ru(e,t),Rg(n)),e.h+=n.length)}ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var a=o;i[s]!==""&&(a+="="+encodeURIComponent(String(i[s]))),e.push(a)}}return this.i=e.join("&")};function Ru(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function WV(e,t){t&&!e.j&&(oo(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(vS(this,i),gS(this,o,n))},e)),e.j=t}var QV=function(){function e(t,n){this.h=t,this.g=n}return e}();function yS(e){this.l=e||YV,Me.PerformanceNavigationTiming?(e=Me.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Me.g&&Me.g.Ea&&Me.g.Ea()&&Me.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var YV=10;function wS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function bS(e){return e.h?1:e.g?e.g.size:0}function Rm(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Wg(e,t){e.g?e.g.add(t):e.h=t}function _S(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}yS.prototype.cancel=function(){var e,t;if(this.i=IS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=UT(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function IS(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=UT(e.g.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return Rg(e.i)}function Qg(){}Qg.prototype.stringify=function(e){return Me.JSON.stringify(e,void 0)};Qg.prototype.parse=function(e){return Me.JSON.parse(e,void 0)};function XV(){this.g=new Qg}function JV(e,t,n){var i=n||"";try{zg(e,function(o,s){var a=o;gc(o)&&(a=jg(o)),t.push(i+s+"="+encodeURIComponent(a))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function ZV(e,t){var n=new bh;if(Me.Image){var i=new Image;i.onload=Wl(Yl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Wl(Yl,n,i,"TestLoadImage: error",!1,t),i.onabort=Wl(Yl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Wl(Yl,n,i,"TestLoadImage: timeout",!1,t),Me.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Yl(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function Ec(e){this.l=e.$b||null,this.j=e.ib||!1}pn(Ec,qg);Ec.prototype.g=function(){return new Ah(this.l,this.j)};Ec.prototype.i=function(e){return function(){return e}}({});function Ah(e,t){en.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Yg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pn(Ah,en);var Yg=0;ge=Ah.prototype;ge.open=function(e,t){if(this.readyState!=Yg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,oc(this)};ge.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Me).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tc(this)),this.readyState=Yg};ge.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,oc(this)),this.g&&(this.readyState=3,oc(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Me.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ES(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function ES(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ge.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tc(this):oc(this),this.readyState==3&&ES(this)}};ge.Ua=function(e){this.g&&(this.response=this.responseText=e,Tc(this))};ge.Ta=function(e){this.g&&(this.response=e,Tc(this))};ge.ha=function(){this.g&&Tc(this)};function Tc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,oc(e)}ge.setRequestHeader=function(e,t){this.v.append(e,t)};ge.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ge.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function oc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Ah.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var eF=Me.JSON.parse;function qt(e){en.call(this),this.headers=new Du,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=TS,this.K=this.L=!1}pn(qt,en);var TS="",tF=/^https?$/i,nF=["POST","PUT"];ge=qt.prototype;ge.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cm.g(),this.C=this.u?qI(this.u):qI(Cm),this.g.onreadystatechange=hn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){zI(this,s);return}e=n||"";var o=new Du(this.headers);i&&zg(i,function(s,a){o.set(a,s)}),i=dV(o.T()),n=Me.FormData&&e instanceof Me.FormData,!(0<=BT(nF,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{NS(this),0<this.B&&((this.K=rF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hn(this.pa,this)):this.A=$g(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){zI(this,s)}};function rF(e){return iu&&yV()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function iF(e){return e.toLowerCase()=="content-type"}ge.pa=function(){typeof Dg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dn(this,"timeout"),this.abort(8))};function zI(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,SS(e),Nh(e)}function SS(e){e.D||(e.D=!0,dn(e,"complete"),dn(e,"error"))}ge.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,dn(this,"complete"),dn(this,"abort"),Nh(this))};ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nh(this,!0)),qt.Z.M.call(this)};ge.Fa=function(){this.s||(this.F||this.v||this.l?AS(this):this.cb())};ge.cb=function(){AS(this)};function AS(e){if(e.h&&typeof Dg<"u"&&(!e.C[1]||si(e)!=4||e.ba()!=2)){if(e.v&&si(e)==4)$g(e.Fa,0,e);else if(dn(e,"readystatechange"),si(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var s=String(e.H).match(pS)[1]||null;if(!s&&Me.self&&Me.self.location){var a=Me.self.location.protocol;s=a.substr(0,a.length-1)}o=!tF.test(s?s.toLowerCase():"")}i=o}if(i)dn(e,"complete"),dn(e,"success");else{e.m=6;try{var l=2<si(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",SS(e)}}finally{Nh(e)}}}}function Nh(e,t){if(e.g){NS(e);var n=e.g,i=e.C[0]?Sf:null;e.g=null,e.C=null,t||dn(e,"ready");try{n.onreadystatechange=i}catch{}}}function NS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Me.clearTimeout(e.A),e.A=null)}function si(e){return e.g?e.g.readyState:0}ge.ba=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}};ge.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ge.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),eF(t)}};function GI(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case TS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ge.Da=function(){return this.m};ge.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function oF(e){var t="";return xg(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Xg(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=oF(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):It(e,t,n))}function Ta(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function CS(e){this.za=0,this.l=[],this.h=new bh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ta("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ta("baseRetryDelayMs",5e3,e),this.$a=Ta("retryDelaySeedMs",1e4,e),this.Ya=Ta("forwardChannelMaxRetries",2,e),this.ra=Ta("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new yS(e&&e.concurrentRequestLimit),this.Ca=new XV,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ge=CS.prototype;ge.ma=8;ge.G=1;function Jg(e){if(kS(e),e.G==3){var t=e.V++,n=di(e.F);It(n,"SID",e.J),It(n,"RID",t),It(n,"TYPE","terminate"),Sc(e,n),t=new _c(e,e.h,t,void 0),t.K=2,t.v=Sh(di(n)),n=!1,Me.navigator&&Me.navigator.sendBeacon&&(n=Me.navigator.sendBeacon(t.v.toString(),"")),!n&&Me.Image&&(new Image().src=t.v,n=!0),n||(t.g=VS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ic(t)}LS(e)}ge.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Ch(e){e.g&&(ey(e),e.g.cancel(),e.g=null)}function kS(e){Ch(e),e.u&&(Me.clearTimeout(e.u),e.u=null),Rf(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Me.clearTimeout(e.m),e.m=null)}function Kv(e,t){e.l.push(new QV(e.Za++,t)),e.G==3&&kh(e)}function kh(e){wS(e.i)||e.m||(e.m=!0,Ug(e.Ha,e),e.C=0)}function sF(e,t){return bS(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=wc(hn(e.Ha,e,t),PS(e,e.C)),e.C++,!0)}ge.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new _c(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=qT(n),KT(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(i+=s,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=OS(this,t,i),o=di(this.F),It(o,"RID",e),It(o,"CVER",22),this.D&&It(o,"X-HTTP-Session-Id",this.D),Sc(this,o),this.o&&n&&Xg(o,this.o,n),Wg(this.i,t),this.Ra&&It(o,"TYPE","init"),this.ja?(It(o,"$req",i),It(o,"SID","null"),t.$=!0,Om(t,o,null)):Om(t,o,i),this.G=2}}else this.G==3&&(e?WI(this,e):this.l.length==0||wS(this.i)||WI(this))};function WI(e,t){var n;t?n=t.m:n=e.V++;var i=di(e.F);It(i,"SID",e.J),It(i,"RID",n),It(i,"AID",e.U),Sc(e,i),e.o&&e.s&&Xg(i,e.o,e.s),n=new _c(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=OS(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Wg(e.i,n),Om(n,i,t)}function Sc(e,t){e.j&&zg({},function(n,i){It(t,i,n)})}function OS(e,t,n){n=Math.min(e.l.length,n);var i=e.j?hn(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=o[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var d=o[f].h,p=o[f].g;if(d-=s,0>d)s=Math.max(0,o[f].h-100),l=!1;else try{JV(p,a,"req"+d+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function DS(e){e.g||e.u||(e.Y=1,Ug(e.Ga,e),e.A=0)}function Zg(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=wc(hn(e.Ga,e),PS(e,e.A)),e.A++,!0)}ge.Ga=function(){if(this.u=null,RS(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=wc(hn(this.bb,this),e)}};ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Dn(10),Ch(this),RS(this))};function ey(e){e.B!=null&&(Me.clearTimeout(e.B),e.B=null)}function RS(e){e.g=new _c(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=di(e.oa);It(t,"RID","rpc"),It(t,"SID",e.J),It(t,"CI",e.N?"0":"1"),It(t,"AID",e.U),Sc(e,t),It(t,"TYPE","xmlhttp"),e.o&&e.s&&Xg(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Sh(di(t)),n.s=null,n.U=!0,lS(n,e)}ge.ab=function(){this.v!=null&&(this.v=null,Ch(this),Zg(this),Dn(19))};function Rf(e){e.v!=null&&(Me.clearTimeout(e.v),e.v=null)}function xS(e,t){var n=null;if(e.g==t){Rf(e),ey(e),e.g=null;var i=2}else if(Rm(e.i,t))n=t.D,_S(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=_h(),dn(i,new sS(i,n)),kh(e)}else DS(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&sF(e,t)||i==2&&Zg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Uo(e,5);break;case 4:Uo(e,10);break;case 3:Uo(e,6);break;default:Uo(e,2)}}}function PS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Uo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=hn(e.jb,e);n||(n=new Yo("//www.google.com/images/cleardot.gif"),Me.location&&Me.location.protocol=="http"||kf(n,"https"),Sh(n)),ZV(n.toString(),i)}else Dn(2);e.G=0,e.j&&e.j.va(t),LS(e),kS(e)}ge.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Dn(2)):(this.h.info("Failed to ping google.com"),Dn(1))};function LS(e){e.G=0,e.I=-1,e.j&&((IS(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Rg(e.l),e.l.length=0),e.j.ua())}function MS(e,t,n){var i=BV(n);if(i.i!="")t&&Of(i,t+"."+i.i),Df(i,i.m);else{var o=Me.location;i=$V(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&xg(e.aa,function(s,a){It(i,a,s)}),t=e.D,n=e.sa,t&&n&&It(i,t,n),It(i,"VER",e.ma),Sc(e,i),i}function VS(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new qt(new Ec({ib:!0})):new qt(e.qa),t.L=e.H,t}function FS(){}ge=FS.prototype;ge.xa=function(){};ge.wa=function(){};ge.va=function(){};ge.ua=function(){};ge.Oa=function(){};function xf(){if(iu&&!(10<=Number(wV)))throw Error("Environmental error: no available transport.")}xf.prototype.g=function(e,t){return new ir(e,t)};function ir(e,t){en.call(this),this.g=new CS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Af(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Af(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new xu(this)}pn(ir,en);ir.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ug(hn(e.hb,e,t))),Dn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=MS(e,null,e.W),kh(e)};ir.prototype.close=function(){Jg(this.g)};ir.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Kv(this.g,t)}else this.v?(t={},t.__data__=jg(e),Kv(this.g,t)):Kv(this.g,e)};ir.prototype.M=function(){this.g.j=null,delete this.j,Jg(this.g),delete this.g,ir.Z.M.call(this)};function jS(e){Kg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}pn(jS,Kg);function US(){Hg.call(this),this.status=1}pn(US,Hg);function xu(e){this.g=e}pn(xu,FS);xu.prototype.xa=function(){dn(this.g,"a")};xu.prototype.wa=function(e){dn(this.g,new jS(e))};xu.prototype.va=function(e){dn(this.g,new US)};xu.prototype.ua=function(){dn(this.g,"b")};xf.prototype.createWebChannel=xf.prototype.g;ir.prototype.send=ir.prototype.u;ir.prototype.open=ir.prototype.m;ir.prototype.close=ir.prototype.close;Ih.NO_ERROR=0;Ih.TIMEOUT=8;Ih.HTTP_ERROR=6;uS.COMPLETE="complete";aS.EventType=bc;bc.OPEN="a";bc.CLOSE="b";bc.ERROR="c";bc.MESSAGE="d";en.prototype.listen=en.prototype.N;qt.prototype.listenOnce=qt.prototype.O;qt.prototype.getLastError=qt.prototype.La;qt.prototype.getLastErrorCode=qt.prototype.Da;qt.prototype.getStatus=qt.prototype.ba;qt.prototype.getResponseJson=qt.prototype.Qa;qt.prototype.getResponseText=qt.prototype.ga;qt.prototype.send=qt.prototype.ea;var uF=function(){return new xf},aF=function(){return _h()},Hv=Ih,cF=uS,lF=rs,QI={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},fF=Ec,Xl=aS,hF=qt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();tr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},re=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Ce(t,e),t}(Error),Ar=new MT("@firebase/firestore");function xm(){return Ar.logLevel}function ue(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ar.logLevel<=rt.DEBUG){var i=t.map(ty);Ar.debug.apply(Ar,kt(["Firestore (8.10.1): "+e],i))}}function Bt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ar.logLevel<=rt.ERROR){var i=t.map(ty);Ar.error.apply(Ar,kt(["Firestore (8.10.1): "+e],i))}}function Pf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ar.logLevel<=rt.WARN){var i=t.map(ty);Ar.warn.apply(Ar,kt(["Firestore (8.10.1): "+e],i))}}function ty(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Bt(t),new Error(t)}function De(e,t){e||Ie()}function de(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BS=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=dF(40),s=0;s<o.length;++s)i.length<20&&o[s]<n&&(i+=t.charAt(o[s]%t.length));return i},e}();function Ge(e,t){return e<t?-1:e>t?1:0}function ou(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function $S(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ge(this.nanoseconds,t.nanoseconds):Ge(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),qe=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Un(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function is(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KS=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&Ie(),i===void 0?i=t.length-n:i>t.length-n&&Ie(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var s=t.get(o),a=n.get(o);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),ut=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new re(B.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(KS),pF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return pF.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",s=0,a=function(){if(o.length===0)throw new re(B.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new re(B.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new re(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(a(),s++)}if(a(),l)throw new re(B.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(KS),su=function(){function e(t){this.fields=t,t.sort(Dr.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return ou(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),$n=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ge(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();$n.EMPTY_BYTE_STRING=new $n("");var vF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(e){if(De(!!e),typeof e=="string"){var t=0,n=vF.exec(e);if(De(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Ut(e.seconds),nanos:Ut(e.nanos)}}function Ut(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function uu(e){return typeof e=="string"?$n.fromBase64String(e):$n.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function HS(e){var t=e.mapValue.fields.__previous_value__;return ny(t)?HS(t):t}function sc(e){var t=to(e.mapValue.fields.__local_write_time__.timestampValue);return new Un(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(e){return e==null}function Lf(e){return e===0&&1/e==-1/0}function zS(e){return typeof e=="number"&&Number.isInteger(e)&&!Lf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(ut.fromString(t))},e.fromName=function(t){return new e(ut.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&ut.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return ut.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new ut(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ny(e)?4:10:Ie()}function Qr(e,t){var n=Xo(e);if(n!==Xo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sc(e).isEqual(sc(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var s=to(i.timestampValue),a=to(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return uu(i.bytesValue).isEqual(uu(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Ut(i.geoPointValue.latitude)===Ut(o.geoPointValue.latitude)&&Ut(i.geoPointValue.longitude)===Ut(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ut(i.integerValue)===Ut(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var s=Ut(i.doubleValue),a=Ut(o.doubleValue);return s===a?Lf(s)===Lf(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return ou(e.arrayValue.values||[],t.arrayValue.values||[],Qr);case 10:return function(i,o){var s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(YI(s)!==YI(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Qr(s[l],a[l])))return!1;return!0}(e,t);default:return Ie()}}function uc(e,t){return(e.values||[]).find(function(n){return Qr(n,t)})!==void 0}function au(e,t){var n=Xo(e),i=Xo(t);if(n!==i)return Ge(n,i);switch(n){case 0:return 0;case 1:return Ge(e.booleanValue,t.booleanValue);case 2:return function(o,s){var a=Ut(o.integerValue||o.doubleValue),l=Ut(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return XI(e.timestampValue,t.timestampValue);case 4:return XI(sc(e),sc(t));case 5:return Ge(e.stringValue,t.stringValue);case 6:return function(o,s){var a=uu(o),l=uu(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var a=o.split("/"),l=s.split("/"),f=0;f<a.length&&f<l.length;f++){var d=Ge(a[f],l[f]);if(d!==0)return d}return Ge(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var a=Ge(Ut(o.latitude),Ut(s.latitude));return a!==0?a:Ge(Ut(o.longitude),Ut(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var a=o.values||[],l=s.values||[],f=0;f<a.length&&f<l.length;++f){var d=au(a[f],l[f]);if(d)return d}return Ge(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a=o.fields||{},l=Object.keys(a),f=s.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var p=0;p<l.length&&p<d.length;++p){var m=Ge(l[p],d[p]);if(m!==0)return m;var g=au(a[l[p]],f[d[p]]);if(g!==0)return g}return Ge(l.length,d.length)}(e.mapValue,t.mapValue);default:throw Ie()}}function XI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ge(e,t);var n=to(e),i=to(t),o=Ge(n.seconds,i.seconds);return o!==0?o:Ge(n.nanos,i.nanos)}function ry(e){return Pm(e)}function Pm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=to(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?uu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Te.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",s=!0,a=0,l=i.values||[];a<l.length;a++)s?s=!1:o+=",",o+=Pm(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",s=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];s?s=!1:o+=",",o+=f+":"+Pm(i.fields[f])}return o+"}"}(e.mapValue):Ie();var t,n}function Mf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Lm(e){return!!e&&"integerValue"in e}function iy(e){return!!e&&"arrayValue"in e}function JI(e){return!!e&&"nullValue"in e}function ZI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ff(e){return!!e&&"mapValue"in e}function Fa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return is(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Fa(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Fa(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!ff(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fa(n)},e.prototype.setAll=function(t){var n=this,i=Dr.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,s),o={},s=[],i=f.popLast()}l?o[f.lastSegment()]=Fa(l):s.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Qr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];ff(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){is(n,function(l,f){return t[l]=f});for(var o=0,s=i;o<s.length;o++){var a=s[o];delete t[a]}},e.prototype.clone=function(){return new e(Fa(this.value))},e}();function GS(e){var t=[];return is(e.fields,function(n,i){var o=new Dr([n]);if(ff(i)){var s=GS(i.mapValue).fields;if(s.length===0)t.push(o);else for(var a=0,l=s;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new su(t)}var En=function(){function e(t,n,i,o,s){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,qe.min(),Zn.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Zn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Zn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),mF=function(e,t,n,i,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(e,t,n,i,o,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),new mF(e,t,n,i,o,s,a)}function Ac(e){var t=de(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+ry(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),os(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ff(t.startAt)),t.endAt&&(n+="|ub:",n+=Ff(t.endAt)),t.h=n}return t.h}function Oh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!TF(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],s=t.filters[i],o.op!==s.op||!o.field.isEqual(s.field)||!Qr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nE(e.startAt,t.startAt)&&nE(e.endAt,t.endAt)}function Vf(e){return Te.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var nr=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).field=n,s.op=i,s.value=o,s}return Ce(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new gF(n,i,o):i==="array-contains"?new bF(n,o):i==="in"?new _F(n,o):i==="not-in"?new IF(n,o):i==="array-contains-any"?new EF(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new yF(n,o):new wF(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(au(i,this.value)):i!==null&&Xo(this.value)===Xo(i)&&this.m(au(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Ie()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),gF=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,o)||this).key=Te.fromName(o.referenceValue),s}return Ce(t,e),t.prototype.matches=function(n){var i=Te.comparator(n.key,this.key);return this.m(i)},t}(nr),yF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=WS("in",i),o}return Ce(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(nr),wF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=WS("not-in",i),o}return Ce(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(nr);function WS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return Te.fromName(i.referenceValue)})}var bF=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return Ce(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return iy(i)&&uc(i.arrayValue,this.value)},t}(nr),_F=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return Ce(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&uc(this.value.arrayValue,i)},t}(nr),IF=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return Ce(t,e),t.prototype.matches=function(n){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!uc(this.value.arrayValue,i)},t}(nr),EF=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return Ce(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!iy(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return uc(i.value.arrayValue,s)})},t}(nr),ac=function(e,t){this.position=e,this.before=t};function Ff(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return ry(t)}).join(",")}var Ys=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function TF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function tE(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var s=t[o],a=e.position[o];if(i=s.field.isKeyField()?Te.comparator(Te.fromName(a.referenceValue),n.key):au(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function nE(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Qr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yi=function(e,t,n,i,o,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function QS(e,t,n,i,o,s,a,l){return new yi(e,t,n,i,o,s,a,l)}function Nc(e){return new yi(e)}function hf(e){return!os(e.limit)&&e.limitType==="F"}function jf(e){return!os(e.limit)&&e.limitType==="L"}function oy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function sy(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function uy(e){return e.collectionGroup!==null}function cu(e){var t=de(e);if(t.p===null){t.p=[];var n=sy(t),i=oy(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new Ys(n)),t.p.push(new Ys(Dr.keyField(),"asc"));else{for(var o=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ys(Dr.keyField(),f))}}}return t.p}function Yr(e){var t=de(e);if(!t.T)if(t.limitType==="F")t.T=eE(t.path,t.collectionGroup,cu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=cu(t);i<o.length;i++){var s=o[i],a=s.dir==="desc"?"asc":"desc";n.push(new Ys(s.field,a))}var l=t.endAt?new ac(t.endAt.position,!t.endAt.before):null,f=t.startAt?new ac(t.startAt.position,!t.startAt.before):null;t.T=eE(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function YS(e,t,n){return new yi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cc(e,t){return Oh(Yr(e),Yr(t))&&e.limitType===t.limitType}function XS(e){return Ac(Yr(e))+"|lt:"+e.limitType}function Mm(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+ry(o.value);var o}).join(", ")+"]"),os(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Ff(t.startAt)),t.endAt&&(n+=", endAt: "+Ff(t.endAt)),"Target("+n+")"}(Yr(e))+"; limitType="+e.limitType+")"}function kc(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Te.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var a=s[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!tE(n.startAt,cu(n),i))&&(!n.endAt||!tE(n.endAt,cu(n),i))}(e,t)}function JS(e){return function(t,n){for(var i=!1,o=0,s=cu(e);o<s.length;o++){var a=s[o],l=SF(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function SF(e,t,n){var i=e.field.isKeyField()?Te.comparator(t.key,n.key):function(o,s,a){var l=s.data.field(o),f=a.data.field(o);return l!==null&&f!==null?au(l,f):Ie()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lf(t)?"-0":t}}function eA(e){return{integerValue:""+e}}function tA(e,t){return zS(t)?eA(t):ZS(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dh=function(){this._=void 0};function AF(e,t,n){return e instanceof lu?function(i,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Jo?rA(e,t):e instanceof Zo?iA(e,t):function(i,o){var s=nA(i,o),a=rE(s)+rE(i.A);return Lm(s)&&Lm(i.A)?eA(a):ZS(i.R,a)}(e,t)}function NF(e,t,n){return e instanceof Jo?rA(e,t):e instanceof Zo?iA(e,t):n}function nA(e,t){return e instanceof fu?Lm(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var lu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t}(Dh),Jo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Ce(t,e),t}(Dh);function rA(e,t){for(var n=oA(t),i=function(a){n.some(function(l){return Qr(l,a)})||n.push(a)},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var Zo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Ce(t,e),t}(Dh);function iA(e,t){for(var n=oA(t),i=function(a){n=n.filter(function(l){return!Qr(l,a)})},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var fu=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return Ce(t,e),t}(Dh);function rE(e){return Ut(e.integerValue||e.doubleValue)}function oA(e){return iy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oc=function(e,t){this.field=e,this.transform=t},CF=function(e,t){this.version=e,this.transformResults=t},bn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function df(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Rh=function(){};function kF(e,t,n){e instanceof Dc?function(i,o,s){var a=i.value.clone(),l=sE(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof so?function(i,o,s){if(df(i.precondition,o)){var a=sE(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(sA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Vm(e,t,n){e instanceof Dc?function(i,o,s){if(df(i.precondition,o)){var a=i.value.clone(),l=uE(i.fieldTransforms,s,o);a.setAll(l),o.convertToFoundDocument(oE(o),a).setHasLocalMutations()}}(e,t,n):e instanceof so?function(i,o,s){if(df(i.precondition,o)){var a=uE(i.fieldTransforms,s,o),l=o.data;l.setAll(sA(i)),l.setAll(a),o.convertToFoundDocument(oE(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){df(i.precondition,o)&&o.convertToNoDocument(qe.min())}(e,t)}function OF(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var s=o[i],a=t.data.field(s.field),l=nA(s.transform,a||null);l!=null&&(n==null&&(n=Zn.empty()),n.set(s.field,l))}return n||null}function iE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ou(n,i,function(o,s){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof Jo&&d instanceof Jo||f instanceof Zo&&d instanceof Zo?ou(f.elements,d.elements,Qr):f instanceof fu&&d instanceof fu?Qr(f.A,d.A):f instanceof lu&&d instanceof lu}(a.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function oE(e){return e.isFoundDocument()?e.version:qe.min()}var Dc=function(e){function t(n,i,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=s,a.type=0,a}return Ce(t,e),t}(Rh),so=function(e){function t(n,i,o,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return Ce(t,e),t}(Rh);function sA(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function sE(e,t,n){var i=new Map;De(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],a=s.transform,l=t.data.field(s.field);i.set(s.field,NF(a,l,n[o]))}return i}function uE(e,t,n){for(var i=new Map,o=0,s=e;o<s.length;o++){var a=s[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,AF(l,f,t))}return i}var jt,Xe,Rc=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return Ce(t,e),t}(Rh),ay=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return Ce(t,e),t}(Rh),DF=function(e){this.count=e};function uA(e){switch(e){case B.OK:return Ie();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return Ie()}}function aA(e){if(e===void 0)return Bt("GRPC error has no .code"),B.UNKNOWN;switch(e){case jt.OK:return B.OK;case jt.CANCELLED:return B.CANCELLED;case jt.UNKNOWN:return B.UNKNOWN;case jt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case jt.INTERNAL:return B.INTERNAL;case jt.UNAVAILABLE:return B.UNAVAILABLE;case jt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case jt.NOT_FOUND:return B.NOT_FOUND;case jt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case jt.ABORTED:return B.ABORTED;case jt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case jt.DATA_LOSS:return B.DATA_LOSS;default:return Ie()}}(Xe=jt||(jt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn=function(){function e(t,n){this.comparator=t,this.root=n||Ui.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ui.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ui.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Jl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Jl(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Jl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Jl(this.root,t,this.comparator,!0)},e}(),Jl=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?i(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Ui=function(){function e(t,n,i,o,s){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,s){return new e(t??this.key,n??this.value,i??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,s=i(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,i),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();var t=this.left.check();if(t!==this.right.check())throw Ie();return t+(this.isRed()?0:1)},e}();Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1,Ui.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Ie()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,s){return this},e.prototype.insert=function(t,n,i){return new Ui(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt=function(){function e(t){this.comparator=t,this.data=new Tn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new aE(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new aE(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),aE=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),RF=new Tn(Te.comparator);function Nr(){return RF}var xF=new Tn(Te.comparator);function Fm(){return xF}var PF=new Tn(Te.comparator);function LF(){return PF}var MF=new Yt(Te.comparator);function mt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=MF,i=0,o=e;i<o.length;i++){var s=o[i];n=n.add(s)}return n}var VF=new Yt(Ge);function xh(){return VF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cy=function(){function e(t,n,i,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,ly.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(qe.min(),i,xh(),Nr(),mt())},e}(),ly=function(){function e(t,n,i,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e($n.EMPTY_BYTE_STRING,n,mt(),mt(),mt())},e}(),pf=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},cA=function(e,t){this.targetId=e,this.V=t},lA=function(e,t,n,i){n===void 0&&(n=$n.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},cE=function(){function e(){this.S=0,this.D=fE(),this.C=$n.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=mt(),n=mt(),i=mt();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ie()}}),new ly(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=fE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),FF=function(){function e(t){this.W=t,this.G=new Map,this.H=Nr(),this.J=lE(),this.Y=new Yt(Ge)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)o=a[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:Ie()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){i.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var s=o.target;if(Vf(s))if(i===0){var a=new Te(s.path);this.tt(n,a,En.newNoDocument(a,qe.min()))}else De(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Vf(f.target)){var d=new Te(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,En.newNoDocument(d,t))}a.$&&(i.set(l,a.M()),a.L())}});var o=mt();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var p=n.ot(d);return!p||p.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var s=new cy(t,i,this.Y,this.H,o);return this.H=Nr(),this.J=lE(),this.Y=new Yt(Ge),s},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new cE,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Yt(Ge),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new cE),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function lE(){return new Tn(Te.comparator)}function fE(){return new Tn(Te.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jF={asc:"ASCENDING",desc:"DESCENDING"},UF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BF=function(e,t){this.databaseId=e,this.I=t};function cc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function fA(e,t){return e.I?t.toBase64():t.toUint8Array()}function $F(e,t){return cc(e,t.toTimestamp())}function Rn(e){return De(!!e),qe.fromTimestamp(function(t){var n=to(t);return new Un(n.seconds,n.nanos)}(e))}function fy(e,t){return function(n){return new ut(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function hA(e){var t=ut.fromString(e);return De(wA(t)),t}function lc(e,t){return fy(e.databaseId,t.path)}function ci(e,t){var n=hA(t);if(n.get(1)!==e.databaseId.projectId)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Te(pA(n))}function jm(e,t){return fy(e.databaseId,t)}function dA(e){var t=hA(e);return t.length===4?ut.emptyPath():pA(t)}function fc(e){return new ut(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pA(e){return De(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function hE(e,t,n){return{name:lc(e,t),fields:n.value.mapValue.fields}}function qF(e,t,n){var i=ci(e,t.name),o=Rn(t.updateTime),s=new Zn({mapValue:{fields:t.fields}}),a=En.newFoundDocument(i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Uf(e,t){var n;if(t instanceof Dc)n={update:hE(e,t.key,t.value)};else if(t instanceof Rc)n={delete:lc(e,t.key)};else if(t instanceof so)n={update:hE(e,t.key,t.data),updateMask:WF(t.fieldMask)};else{if(!(t instanceof ay))return Ie();n={verify:lc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,s){var a=s.transform;if(a instanceof lu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fu)return{fieldPath:s.field.canonicalString(),increment:a.A};throw Ie()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:$F(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ie()}(e,t.precondition)),n}function dE(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?bn.updateTime(Rn(d.updateTime)):d.exists!==void 0?bn.exists(d.exists):bn.none()}(t.currentDocument):bn.none(),i=t.updateTransforms?t.updateTransforms.map(function(d){return function(p,m){var g=null;if("setToServerValue"in m)De(m.setToServerValue==="REQUEST_TIME"),g=new lu;else if("appendMissingElements"in m){var b=m.appendMissingElements.values||[];g=new Jo(b)}else if("removeAllFromArray"in m){var I=m.removeAllFromArray.values||[];g=new Zo(I)}else"increment"in m?g=new fu(p,m.increment):Ie();var A=Dr.fromServerFormat(m.fieldPath);return new Oc(A,g)}(e,d)}):[];if(t.update){t.update.name;var o=ci(e,t.update.name),s=new Zn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var p=d.fieldPaths||[];return new su(p.map(function(m){return Dr.fromServerFormat(m)}))}(t.updateMask);return new so(o,s,a,n,i)}return new Dc(o,s,n,i)}if(t.delete){var l=ci(e,t.delete);return new Rc(l,n)}if(t.verify){var f=ci(e,t.verify);return new ay(f,n)}return Ie()}function vA(e,t){return{documents:[jm(e,t.path)]}}function mA(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=jm(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=jm(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(p){if(p.op==="=="){if(ZI(p.value))return{unaryFilter:{field:Vs(p.field),op:"IS_NAN"}};if(JI(p.value))return{unaryFilter:{field:Vs(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(ZI(p.value))return{unaryFilter:{field:Vs(p.field),op:"IS_NOT_NAN"}};if(JI(p.value))return{unaryFilter:{field:Vs(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(p.field),op:HF(p.op),value:p.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:Vs(d.field),direction:KF(d.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,f){return l.I||os(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=pE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=pE(t.endAt)),n}function gA(e){var t=dA(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){De(i===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=yA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(m){return function(g){return new Ys(zs(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(m)}));var f=null;n.limit&&(f=function(m){var g;return os(g=typeof m=="object"?m.value:m)?null:g}(n.limit));var d=null;n.startAt&&(d=vE(n.startAt));var p=null;return n.endAt&&(p=vE(n.endAt)),QS(t,o,l,a,f,"F",d,p)}function yA(e){return e?e.unaryFilter!==void 0?[GF(e)]:e.fieldFilter!==void 0?[zF(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return yA(t)}).reduce(function(t,n){return t.concat(n)}):Ie():[]}function pE(e){return{before:e.before,values:e.position}}function vE(e){var t=!!e.before,n=e.values||[];return new ac(n,t)}function KF(e){return jF[e]}function HF(e){return UF[e]}function Vs(e){return{fieldPath:e.canonicalString()}}function zs(e){return Dr.fromServerFormat(e.fieldPath)}function zF(e){return nr.create(zs(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ie()}}(e.fieldFilter.op),e.fieldFilter.value)}function GF(e){switch(e.unaryFilter.op){case"IS_NAN":var t=zs(e.unaryFilter.field);return nr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=zs(e.unaryFilter.field);return nr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=zs(e.unaryFilter.field);return nr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=zs(e.unaryFilter.field);return nr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ie()}}function WF(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function wA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=mE(t)),t=QF(e.get(n),t);return mE(t)}function QF(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function mE(e){return e+""}function ui(e){var t=e.length;if(De(t>=2),t===2)return De(e.charAt(0)===""&&e.charAt(1)===""),ut.emptyPath();for(var n=t-2,i=[],o="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&Ie(),e.charAt(a+1)){case"":var l=e.substring(s,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(s,a),o+="\0";break;case"":o+=e.substring(s,a+1);break;default:Ie()}s=a+2}return new ut(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YF=function(e,t){this.seconds=e,this.nanoseconds=t},Xn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Xn.store="owner",Xn.key="owner";var Wi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Wi.store="mutationQueues",Wi.keyPath="userId";var gt=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};gt.store="mutations",gt.keyPath="batchId",gt.userMutationsIndex="userMutationsIndex",gt.userMutationsKeyPath=["userId","batchId"];var gn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Cr(n)]},e.key=function(t,n,i){return[t,Cr(n),i]},e}();gn.store="documentMutations",gn.PLACEHOLDER=new gn;var XF=function(e,t){this.path=e,this.readTime=t},JF=function(e,t){this.path=e,this.version=t},Ct=function(e,t,n,i,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=s};Ct.store="remoteDocuments",Ct.readTimeIndex="readTimeIndex",Ct.readTimeIndexPath="readTime",Ct.collectionReadTimeIndex="collectionReadTimeIndex",Ct.collectionReadTimeIndexPath=["parentPath","readTime"];var Hr=function(e){this.byteSize=e};Hr.store="remoteDocumentGlobal",Hr.key="remoteDocumentGlobalKey";var Fn=function(e,t,n,i,o,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=a};Fn.store="targets",Fn.keyPath="targetId",Fn.queryTargetsIndexName="queryTargetsIndex",Fn.queryTargetsKeyPath=["canonicalId","targetId"];var fn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};fn.store="targetDocuments",fn.keyPath=["targetId","path"],fn.documentTargetsIndex="documentTargetsIndex",fn.documentTargetsKeyPath=["path","targetId"];var Jn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Jn.key="targetGlobalKey",Jn.store="targetGlobal";var Ho=function(e,t){this.collectionId=e,this.parent=t};Ho.store="collectionParents",Ho.keyPath=["collectionId","parent"];var li=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};li.store="clientMetadata",li.keyPath="clientId";var hu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};hu.store="bundles",hu.keyPath="bundleId";var du=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};du.store="namedQueries",du.keyPath="name";var ZF=kt(kt([],kt(kt([],kt(kt([],kt(kt([],[Wi.store,gt.store,gn.store,Ct.store,Fn.store,Xn.store,Jn.store,fn.store]),[li.store])),[Hr.store])),[Ho.store])),[hu.store,du.store]),bA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_A=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),qn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},oe=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){i.nextCallback=function(a){i.wrapSuccess(t,a).next(o,s)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,s=0,a=!1;t.forEach(function(l){++o,l.next(function(){++s,a&&s===o&&n()},function(f){return i(f)})}),a=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,s=t;o<s.length;o++)i(s[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(s,a){o.push(n.call(i,s,a))}),this.waitFor(o)},e}(),IA=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new qn,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new ja(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var s=hy(o.target.error);i.ft.reject(new ja(t,s))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(s){throw new ja(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ue("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new tj(n)},e}(),pu=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(Wo())===12.2&&Bt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ue("SimpleDb","Removing database:",t),Vo(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Wo(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return te(this,void 0,void 0,function(){var n,i=this;return Z(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ue("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;s(d)},l.onblocked=function(){a(new ja(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new re(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new ja(t,d))},l.onupgradeneeded=function(f){ue("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){ue("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return i.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return te(this,void 0,void 0,function(){var s,a,l,f,d;return Z(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var m,g,b,I,A;return Z(this,function(P){switch(P.label){case 0:++a,P.label=1;case 1:return P.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=P.sent(),m=IA.open(f.db,t,s?"readonly":"readwrite",i),g=o(m).catch(function(C){return m.abort(C),oe.reject(C)}).toPromise(),b={},g.catch(function(){}),[4,m.dt];case 3:return[2,(b.value=(P.sent(),g),b)];case 4:return I=P.sent(),A=I.name!=="FirebaseError"&&a<3,ue("SimpleDb","Transaction failed with error:",I.message,"Retrying:",A),f.close(),A?[3,5]:[2,{value:Promise.reject(I)}];case 5:return[2]}})},f=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(d=p.sent())=="object")return[2,d.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),ej=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Vo(this.Pt.delete())},e}(),ja=function(e){function t(n,i){var o=this;return(o=e.call(this,B.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return Ce(t,e),t}(re);function ss(e){return e.name==="IndexedDbTransactionError"}var tj=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(ue("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(ue("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Vo(i)},e.prototype.add=function(t){return ue("SimpleDb","ADD",this.store.name,t,t),Vo(this.store.add(t))},e.prototype.get=function(t){var n=this;return Vo(this.store.get(t)).next(function(i){return i===void 0&&(i=null),ue("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return ue("SimpleDb","DELETE",this.store.name,t),Vo(this.store.delete(t))},e.prototype.count=function(){return ue("SimpleDb","COUNT",this.store.name),Vo(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(s,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){ue("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new oe(function(i,o){n.onerror=function(s){var a=hy(s.target.error);o(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new oe(function(o,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new ej(l),d=n(l.primaryKey,l.value,f);if(d instanceof oe){var p=d.catch(function(m){return f.done(),oe.reject(m)});i.push(p)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return oe.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Vo(e){return new oe(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=hy(i.target.error);n(o)}})}var gE=!1;function hy(e){var t=pu._t(Wo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new re("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return gE||(gE=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yE=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return Ce(t,e),t}(_A);function Kn(e,t){var n=de(e);return pu.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dy=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&kF(s,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t.key)&&Vm(a,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t.key)&&Vm(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(qe.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},mt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&ou(this.mutations,t.mutations,function(n,i){return iE(n,i)})&&ou(this.baseMutations,t.baseMutations,function(n,i){return iE(n,i)})},e}(),nj=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){De(t.mutations.length===i.length);for(var o=LF(),s=t.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,i[a].version);return new e(t,n,i,o)},e}(),Ph=function(){function e(t,n,i,o,s,a,l){s===void 0&&(s=qe.min()),a===void 0&&(a=qe.min()),l===void 0&&(l=$n.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),EA=function(e){this.Lt=e};function Um(e,t){if(t.document)return qF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Te.fromSegments(t.noDocument.path),i=mu(t.noDocument.readTime),o=En.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=Te.fromSegments(t.unknownDocument.path);return i=mu(t.unknownDocument.version),En.newUnknownDocument(s,i)}return Ie()}function wE(e,t,n){var i=py(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(m,g){return{name:lc(m,g.key),fields:g.data.value.mapValue.fields,updateTime:cc(m,g.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Ct(null,null,s,a,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=vu(t.version);return a=t.hasCommittedMutations,new Ct(null,new XF(l,f),null,a,i,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),p=vu(t.version);return new Ct(new JF(d,p),null,null,!0,i,o)}return Ie()}function py(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function TA(e){var t=new Un(e[0],e[1]);return qe.fromTimestamp(t)}function vu(e){var t=e.toTimestamp();return new YF(t.seconds,t.nanoseconds)}function mu(e){var t=new Un(e.seconds,e.nanoseconds);return qe.fromTimestamp(t)}function qs(e,t){for(var n=(t.baseMutations||[]).map(function(f){return dE(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var s=t.mutations[i+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var a=t.mutations.map(function(f){return dE(e.Lt,f)}),l=Un.fromMillis(t.localWriteTimeMs);return new dy(t.batchId,l,n,a)}function Ca(e){var t,n,i=mu(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?mu(e.lastLimboFreeSnapshotVersion):qe.min();return e.query.documents!==void 0?(De((n=e.query).documents.length===1),t=Yr(Nc(dA(n.documents[0])))):t=function(s){return Yr(gA(s))}(e.query),new Ph(t,e.targetId,0,e.lastListenSequenceNumber,i,o,$n.fromBase64String(e.resumeToken))}function SA(e,t){var n,i=vu(t.snapshotVersion),o=vu(t.lastLimboFreeSnapshotVersion);n=Vf(t.target)?vA(e.Lt,t.target):mA(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Fn(t.targetId,Ac(t.target),i,s,t.sequenceNumber,o,n)}function AA(e){var t=gA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?YS(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rj=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return bE(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:mu(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return bE(t).put({bundleId:(i=n).id,createTime:vu(Rn(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return _E(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:AA(o.bundledQuery),readTime:mu(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return _E(t).put(function(i){return{name:i.name,readTime:vu(Rn(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function bE(e){return Kn(e,hu.store)}function _E(e){return Kn(e,du.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ij=function(){function e(){this.Bt=new vy}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),oe.resolve()},e.prototype.getCollectionParents=function(t,n){return oe.resolve(this.Bt.getEntries(n))},e}(),vy=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Yt(ut.comparator),s=!o.has(i);return this.index[n]=o.add(i),s},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Yt(ut.comparator)).toArray()},e}(),oj=function(){function e(){this.qt=new vy}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:Cr(s)};return IE(t).put(a)}return oe.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[$S(n),""],!1,!0);return IE(t).Nt(o).next(function(s){for(var a=0,l=s;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(ui(f.parent))}return i})},e}();function IE(e){return Kn(e,Ho.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$r=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(e,t,n){var i=e.store(gt.store),o=e.store(gn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(I,A,P){return l++,P.delete()});s.push(f.next(function(){De(l===1)}));for(var d=[],p=0,m=n.mutations;p<m.length;p++){var g=m[p],b=gn.key(t,g.key.path,n.batchId);s.push(o.delete(b)),d.push(g.key)}return oe.waitFor(s).next(function(){return d})}function Bf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ie();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(41943040,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);var sj=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return De(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Di(t).$t({index:gt.userMutationsIndex,range:i},function(o,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var s=this,a=Ks(t),l=Di(t);return l.add({}).next(function(f){De(typeof f=="number");for(var d=new dy(f,n,i,o),p=function(C,j,F){var J=F.baseMutations.map(function(O){return Uf(C.Lt,O)}),x=F.mutations.map(function(O){return Uf(C.Lt,O)});return new gt(j,F.batchId,F.localWriteTime.toMillis(),J,x)}(s.R,s.userId,d),m=[],g=new Yt(function(C,j){return Ge(C.canonicalString(),j.canonicalString())}),b=0,I=o;b<I.length;b++){var A=I[b],P=gn.key(s.userId,A.key.path,f);g=g.add(A.key.path.popLast()),m.push(l.put(p)),m.push(a.put(P,gn.PLACEHOLDER))}return g.forEach(function(C){m.push(s.Ut.addToCollectionParentIndex(t,C))}),t.addOnCommittedListener(function(){s.Kt[f]=d.keys()}),oe.waitFor(m).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Di(t).get(n).next(function(o){return o?(De(o.userId===i.userId),qs(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?oe.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return i.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),a=null;return Di(t).$t({index:gt.userMutationsIndex,range:s},function(l,f,d){f.userId===i.userId&&(De(f.batchId>=o),a=qs(i.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Di(t).$t({index:gt.userMutationsIndex,range:n,reverse:!0},function(o,s,a){i=s.batchId,a.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Di(t).Nt(gt.userMutationsIndex,i).next(function(o){return o.map(function(s){return qs(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=gn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),a=[];return Ks(t).$t({range:s},function(l,f,d){var p=l[0],m=l[1],g=l[2],b=ui(m);if(p===i.userId&&n.path.isEqual(b))return Di(t).get(g).next(function(I){if(!I)throw Ie();De(I.userId===i.userId),a.push(qs(i.R,I))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Yt(Ge),s=[];return n.forEach(function(a){var l=gn.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=Ks(t).$t({range:f},function(p,m,g){var b=p[0],I=p[1],A=p[2],P=ui(I);b===i.userId&&a.path.isEqual(P)?o=o.add(A):g.done()});s.push(d)}),oe.waitFor(s).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,s=o.length+1,a=gn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Yt(Ge);return Ks(t).$t({range:l},function(d,p,m){var g=d[0],b=d[1],I=d[2],A=ui(b);g===i.userId&&o.isPrefixOf(A)?A.length===s&&(f=f.add(I)):m.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],s=[];return n.forEach(function(a){s.push(Di(t).get(a).next(function(l){if(l===null)throw Ie();De(l.userId===i.userId),o.push(qs(i.R,l))}))}),oe.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return NA(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),oe.forEach(o,function(s){return i.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return oe.resolve();var o=IDBKeyRange.lowerBound(gn.prefixForUser(n.userId)),s=[];return Ks(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=ui(a[1]);s.push(d)}else f.done()}).next(function(){De(s.length===0)})})},e.prototype.containsKey=function(t,n){return CA(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return kA(t).get(this.userId).next(function(i){return i||new Wi(n.userId,-1,"")})},e}();function CA(e,t,n){var i=gn.prefixForPath(t,n.path),o=i[1],s=IDBKeyRange.lowerBound(i),a=!1;return Ks(e).$t({range:s,Ft:!0},function(l,f,d){var p=l[0],m=l[1];l[2],p===t&&m===o&&(a=!0),d.done()}).next(function(){return a})}function Di(e){return Kn(e,gt.store)}function Ks(e){return Kn(e,gn.store)}function kA(e){return Kn(e,Wi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $f=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),uj=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new $f(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return qe.fromTimestamp(new Un(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Fs(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return De(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,a=[];return Fs(t).$t(function(l,f){var d=Ca(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(s++,a.push(o.removeTargetData(t,d)))}).next(function(){return oe.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Fs(t).$t(function(i,o){var s=Ca(o);n(s)})},e.prototype.Xt=function(t){return TE(t).get(Jn.key).next(function(n){return De(n!==null),n})},e.prototype.Zt=function(t,n){return TE(t).put(Jn.key,n)},e.prototype.te=function(t,n){return Fs(t).put(SA(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=Ac(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return Fs(t).$t({range:o,index:Fn.queryTargetsIndexName},function(a,l,f){var d=Ca(l);Oh(n,d.target)&&(s=d,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,s=[],a=Bi(t);return n.forEach(function(l){var f=Cr(l.path);s.push(a.put(new fn(i,f))),s.push(o.referenceDelegate.addReference(t,i,l))}),oe.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,s=Bi(t);return oe.forEach(n,function(a){var l=Cr(a.path);return oe.waitFor([s.delete([i,l]),o.referenceDelegate.removeReference(t,i,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Bi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Bi(t),s=mt();return o.$t({range:i,Ft:!0},function(a,l,f){var d=ui(a[1]),p=new Te(d);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var i=Cr(n.path),o=IDBKeyRange.bound([i],[$S(i)],!1,!0),s=0;return Bi(t).$t({index:fn.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Fs(t).get(n).next(function(i){return i?Ca(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(e){return Kn(e,Fn.store)}function TE(e){return Kn(e,Jn.store)}function Bi(e){return Kn(e,fn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(e){return te(this,void 0,void 0,function(){return Z(this,function(t){if(e.code!==B.FAILED_PRECONDITION||e.message!==bA)throw e;return ue("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(e,t){var n=e[0],i=e[1],o=t[0],s=t[1],a=Ge(n,o);return a===0?Ge(i,s):a}var aj=function(){function e(t){this.ne=t,this.buffer=new Yt(SE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();SE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),cj=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;ue("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return te(n,void 0,void 0,function(){var o;return Z(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return ss(o=s.sent())?(ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,us(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),lj=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return oe.resolve(tr.o);var o=new aj(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return i.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(EE)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),EE):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,s,a,l,f,d,p=this,m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(g){return g>p.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+g),o=p.params.maximumSequenceNumbersToCollect):o=g,a=Date.now(),p.nthSequenceNumber(t,o)}).next(function(g){return i=g,l=Date.now(),p.removeTargets(t,i,n)}).next(function(g){return s=g,f=Date.now(),p.removeOrphanedDocuments(t,i)}).next(function(g){return d=Date.now(),xm()<=rt.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-m)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+g+" documents in "+(d-f)+`ms
Total Duration: `+(d-m)+"ms"),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:g})})},e}(),fj=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new lj(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return Zl(t,i)},e.prototype.removeReference=function(t,n,i){return Zl(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return Zl(t,n)},e.prototype._e=function(t,n){return function(i,o){var s=!1;return kA(i).Ot(function(a){return CA(i,a,o).next(function(l){return l&&(s=!0),oe.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,f){if(f<=n){var d=i._e(t,l).next(function(p){if(!p)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Bi(t).delete([0,Cr(l.path)])})});s.push(d)}}).next(function(){return oe.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return Zl(t,n)},e.prototype.we=function(t,n){var i,o=Bi(t),s=tr.o;return o.$t({index:fn.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,p=l.sequenceNumber;f===0?(s!==tr.o&&n(new Te(ui(i)),s),s=p,i=d):s=tr.o}).next(function(){s!==tr.o&&n(new Te(ui(i)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Zl(e,t){return Bi(e).put(function(n,i){return new fn(0,Cr(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,s=i;o<s.length;o++){var a=s[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){is(this.inner,function(n,i){for(var o=0,s=i;o<s.length;o++){var a=s[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return qS(this.inner)},e}(),OA=function(){function e(){this.changes=new Pu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:qe.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:En.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?oe.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),hj=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return ji(t).put(ef(n),i)},e.prototype.removeEntry=function(t,n){var i=ji(t),o=ef(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return ji(t).get(ef(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return ji(t).get(ef(n)).next(function(o){return{document:i.ye(n,o),size:Bf(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=Nr();return this.pe(t,n,function(s,a){var l=i.ye(s,a);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=Nr(),s=new Tn(Te.comparator);return this.pe(t,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),s=s.insert(a,Bf(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return oe.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return ji(t).$t({range:o},function(l,f,d){for(var p=Te.fromSegments(l);a&&Te.comparator(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,f),a=s.hasNext()?s.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,s=Nr(),a=n.path.length+1,l={};if(i.isEqual(qe.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),p=py(i);l.range=IDBKeyRange.lowerBound([d,p],!0),l.index=Ct.collectionReadTimeIndex}return ji(t).$t(l,function(m,g,b){if(m.length===a){var I=Um(o.R,g);n.path.isPrefixOf(I.key.path)?kc(n,I)&&(s=s.insert(I.key,I)):b.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new dj(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return AE(t).get(Hr.key).next(function(n){return De(!!n),n})},e.prototype.me=function(t,n){return AE(t).put(Hr.key,n)},e.prototype.ye=function(t,n){if(n){var i=Um(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(qe.min()))return i}return En.newInvalidDocument(t)},e}(),dj=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new Pu(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),o}return Ce(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],s=0,a=new Yt(function(l,f){return Ge(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var p=wE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var m=Bf(p);s+=m-d,o.push(i.Ie.addEntry(n,l,p))}else if(s-=d,i.trackRemovals){var g=wE(i.Ie.R,En.newNoDocument(l,qe.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,g))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),oe.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(s){return o.Ae.set(i,s.size),s.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(s){var a=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(OA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(e){return Kn(e,Hr.store)}function ji(e){return Kn(e,Ct.store)}function ef(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pj=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var s=this;De(i<o&&i>=0&&o<=11);var a=new IA("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(Xn.store)}(t),function(f){f.createObjectStore(Wi.store,{keyPath:Wi.keyPath}),f.createObjectStore(gt.store,{keyPath:gt.keyPath,autoIncrement:!0}).createIndex(gt.userMutationsIndex,gt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(gn.store)}(t),NE(t),function(f){f.createObjectStore(Ct.store)}(t));var l=oe.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(fn.store),f.deleteObjectStore(Fn.store),f.deleteObjectStore(Jn.store)}(t),NE(t)),l=l.next(function(){return function(f){var d=f.store(Jn.store),p=new Jn(0,0,qe.min().toTimestamp(),0);return d.put(Jn.key,p)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(gt.store).Nt().next(function(p){f.deleteObjectStore(gt.store),f.createObjectStore(gt.store,{keyPath:gt.keyPath,autoIncrement:!0}).createIndex(gt.userMutationsIndex,gt.userMutationsKeyPath,{unique:!0});var m=d.store(gt.store),g=p.map(function(b){return m.put(b)});return oe.waitFor(g)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(li.store,{keyPath:li.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return s.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Hr.store)}(t),s.be(a)})),i<7&&o>=7&&(l=l.next(function(){return s.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return s.Pe(t,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(Ct.store);d.createIndex(Ct.readTimeIndex,Ct.readTimeIndexPath,{unique:!1}),d.createIndex(Ct.collectionReadTimeIndex,Ct.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return s.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(hu.store,{keyPath:hu.keyPath})})(t),function(f){f.createObjectStore(du.store,{keyPath:du.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Ct.store).$t(function(i,o){n+=Bf(o)}).next(function(){var i=new Hr(n);return t.store(Hr.store).put(Hr.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(Wi.store),o=t.store(gt.store);return i.Nt().next(function(s){return oe.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(gt.userMutationsIndex,l).next(function(f){return oe.forEach(f,function(d){De(d.userId===a.userId);var p=qs(n.R,d);return NA(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(fn.store),i=t.store(Ct.store);return t.store(Jn.store).get(Jn.key).next(function(o){var s=[];return i.$t(function(a,l){var f=new ut(a),d=function(p){return[0,Cr(p)]}(f);s.push(n.get(d).next(function(p){return p?oe.resolve():function(m){return n.put(new fn(0,Cr(m),o.highestListenSequenceNumber))}(f)}))}).next(function(){return oe.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Ho.store,{keyPath:Ho.keyPath});var i=n.store(Ho.store),o=new vy,s=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:Cr(f)})}};return n.store(Ct.store).$t({Ft:!0},function(a,l){var f=new ut(a);return s(f.popLast())}).next(function(){return n.store(gn.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=ui(f);return s(d.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(Fn.store);return i.$t(function(o,s){var a=Ca(s),l=SA(n.R,a);return i.put(l)})},e}();function NE(e){e.createObjectStore(fn.store,{keyPath:fn.keyPath}).createIndex(fn.documentTargetsIndex,fn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Fn.store,{keyPath:Fn.keyPath}).createIndex(Fn.queryTargetsIndexName,Fn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Jn.store)}var zv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vj=function(){function e(t,n,i,o,s,a,l,f,d,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=s,this.window=a,this.document=l,this.De=d,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(m){return Promise.resolve()},!e.yt())throw new re(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fj(this,o),this.Le=n+"main",this.R=new EA(f),this.Be=new pu(this.Le,11,new pj(this.R)),this.qe=new uj(this.referenceDelegate,this.R),this.Ut=new oj,this.Ue=function(m,g){return new hj(m,g)}(this.R,this.Ut),this.Ke=new rj,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&Bt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new re(B.FAILED_PRECONDITION,zv);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new tr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return te(n,void 0,void 0,function(){return Z(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return te(n,void 0,void 0,function(){return Z(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return te(n,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return tf(n).put(new li(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(ss(n))return ue("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Sa(t).get(Xn.key).next(function(i){return oe.resolve(n.tn(i))})},e.prototype.en=function(t){return tf(t).delete(this.clientId)},e.prototype.nn=function(){return te(this,void 0,void 0,function(){var t,n,i,o,s=this;return Z(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Kn(l,li.store);return f.Nt().next(function(d){var p=s.rn(d,18e5),m=d.filter(function(g){return p.indexOf(g)===-1});return oe.forEach(m,function(g){return f.delete(g.clientId)}).next(function(){return m})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?oe.resolve(!0):Sa(t).get(Xn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new re(B.FAILED_PRECONDITION,zv);return!1}}return!(!n.networkEnabled||!n.inForeground)||tf(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&ue("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return te(this,void 0,void 0,function(){var t=this;return Z(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Xn.store,li.store],function(i){var o=new yE(i,tr.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return tf(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return sj.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ue("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,ZF,function(l){return s=new yE(l,o.Ne?o.Ne.next():tr.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw Bt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new re(B.FAILED_PRECONDITION,bA);return i(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return i(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Sa(t).get(Xn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new re(B.FAILED_PRECONDITION,zv)})},e.prototype.Ze=function(t){var n=new Xn(this.clientId,this.allowTabSynchronization,Date.now());return Sa(t).put(Xn.key,n)},e.yt=function(){return pu.yt()},e.prototype.Xe=function(t){var n=this,i=Sa(t);return i.get(Xn.key).next(function(o){return n.tn(o)?(ue("IndexedDbPersistence","Releasing primary lease."),i.delete(Xn.key)):oe.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(Bt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),_M()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ue("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Bt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Bt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Sa(e){return Kn(e,Xn.store)}function tf(e){return Kn(e,li.store)}function my(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var DA=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,a=i;s<a.length;s++)a[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return Te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):uy(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new Te(n)).next(function(i){var o=Fm();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,s=n.collectionGroup,a=Fm();return this.Ut.getCollectionParents(t,s).next(function(l){return oe.forEach(l,function(f){var d=function(p,m){return new yi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,f.child(s));return o.An(t,d,i).next(function(p){p.forEach(function(m,g){a=a.insert(m,g)})})}).next(function(){return a})})},e.prototype.An=function(t,n,i){var o,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,o).next(function(f){o=f;for(var d=0,p=s;d<p.length;d++)for(var m=p[d],g=0,b=m.mutations;g<b.length;g++){var I=b[g],A=I.key,P=o.get(A);P==null&&(P=En.newInvalidDocument(A),o=o.insert(A,P)),Vm(I,P,m.localWriteTime),P.isFoundDocument()||(o=o.remove(A))}})}).next(function(){return o.forEach(function(l,f){kc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=mt(),s=0,a=n;s<a.length;s++)for(var l=0,f=a[s].mutations;l<f.length;l++){var d=f[l];d instanceof so&&i.get(d.key)===null&&(o=o.add(d.key))}var p=i;return this.Ue.getEntries(t,o).next(function(m){return m.forEach(function(g,b){b.isFoundDocument()&&(p=p.insert(g,b))}),p})},e}(),mj=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=mt(),o=mt(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),RA=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(qe.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=s.Cn(n,a);return(hf(n)||jf(n))&&s.Nn(n.limitType,l,o,i)?s.Dn(t,n):(xm()<=rt.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mm(n)),s.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var i=new Yt(JS(t));return n.forEach(function(o,s){kc(t,s)&&(i=i.add(s))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return xm()<=rt.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Mm(n)),this.Sn.getDocumentsMatchingQuery(t,n,qe.min())},e}(),gj=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new Tn(Ge),this.Fn=new Pu(function(s){return Ac(s)},Oh),this.$n=qe.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new DA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(e,t,n,i){return new gj(e,t,n,i)}function PA(e,t){return te(this,void 0,void 0,function(){var n,i,o,s;return Z(this,function(a){switch(a.label){case 0:return n=de(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(t),o=new DA(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var p=[],m=[],g=mt(),b=0,I=f;b<I.length;b++){var A=I[b];p.push(A.batchId);for(var P=0,C=A.mutations;P<C.length;P++){var j=C[P];g=g.add(j.key)}}for(var F=0,J=d;F<J.length;F++){var x=J[F];m.push(x.batchId);for(var O=0,M=x.mutations;O<M.length;O++){var k=M[O];g=g.add(k.key)}}return o.pn(l,g).next(function($){return{Ln:$,removedBatchIds:p,addedBatchIds:m}})})})];case 1:return s=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function yj(e,t){var n=de(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var p=f.batch,m=p.keys(),g=oe.resolve();return m.forEach(function(b){g=g.next(function(){return d.getEntry(l,b)}).next(function(I){var A=f.docVersions.get(b);De(A!==null),I.version.compareTo(A)<0&&(p.applyToRemoteDocument(I,f),I.isValidDocument()&&d.addEntry(I,f.commitVersion))})}),g.next(function(){return a._n.removeMutationBatch(l,p)})}(n,i,t,s).next(function(){return s.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function LA(e){var t=de(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function wj(e,t){var n=de(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(p,m){var g=o.get(m);if(g){l.push(n.qe.removeMatchingKeys(s,p.removedDocuments,m).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,m)}));var b=p.resumeToken;if(b.approximateByteSize()>0){var I=g.withResumeToken(b,i).withSequenceNumber(s.currentSequenceNumber);o=o.insert(m,I),function(A,P,C){return De(P.resumeToken.approximateByteSize()>0),A.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8||C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(g,I,p)&&l.push(n.qe.updateTargetData(s,I))}}});var f=Nr();if(t.documentUpdates.forEach(function(p,m){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(bj(s,a,t.documentUpdates,i,void 0).next(function(p){f=p})),!i.isEqual(qe.min())){var d=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,i)});l.push(d)}return oe.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function bj(e,t,n,i,o){var s=mt();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=Nr();return n.forEach(function(f,d){var p=a.get(f),m=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual(qe.min())?(t.removeEntry(f,m),l=l.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d,m),l=l.insert(f,d)):ue("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),l})}function _j(e,t){var n=de(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function qf(e,t){var n=de(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(s){return s?(o=s,oe.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Ph(t,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function gu(e,t,n){return te(this,void 0,void 0,function(){var i,o,s,a;return Z(this,function(l){switch(l.label){case 0:i=de(e),o=i.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!ss(a=l.sent()))throw a;return ue("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function Kf(e,t,n){var i=de(e),o=qe.min(),s=mt();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var p=de(l),m=p.Fn.get(d);return m!==void 0?oe.resolve(p.kn.get(m)):p.qe.getTargetData(f,d)}(i,a,Yr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){s=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,t,n?o:qe.min(),n?s:mt())}).next(function(l){return{documents:l,Bn:s}})})}function MA(e,t){var n=de(e),i=de(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return i.lt(s,t).next(function(a){return a?a.target:null})})}function VA(e){var t=de(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,s){var a=de(i),l=Nr(),f=py(s),d=ji(o),p=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Ct.readTimeIndex,range:p},function(m,g){var b=Um(a.R,g);l=l.insert(b.key,b),f=g.readTime}).next(function(){return{wn:l,readTime:TA(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function Ij(e){return te(this,void 0,void 0,function(){var t;return Z(this,function(n){return[2,(t=de(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var s=ji(o),a=qe.min();return s.$t({index:Ct.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=TA(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ej=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return oe.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:Rn(i.createTime)}),oe.resolve()},e.prototype.getNamedQuery=function(t,n){return oe.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:AA(i.bundledQuery),readTime:Rn(i.readTime)}}(n)),oe.resolve()},e}(),gy=function(){function e(){this.Wn=new Yt(Zt.Gn),this.zn=new Yt(Zt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new Zt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Zt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new Te(new ut([])),o=new Zt(i,t),s=new Zt(i,t+1),a=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Te(new ut([])),i=new Zt(n,t),o=new Zt(n,t+1),s=mt();return this.zn.forEachInRange([i,o],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Zt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),Zt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Te.comparator(t.key,n.key)||Ge(t.ns,n.ns)},e.Hn=function(t,n){return Ge(t.ns,n.ns)||Te.comparator(t.key,n.key)},e}(),Tj=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Yt(Zt.Gn)}return e.prototype.checkEmpty=function(t){return oe.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new dy(s,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new Zt(d.key,s)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return oe.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return oe.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),s=o<0?0:o;return oe.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return oe.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return oe.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new Zt(n,0),s=new Zt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,s],function(l){var f=i.os(l.ns);a.push(f)}),oe.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Yt(Ge);return n.forEach(function(s){var a=new Zt(s,0),l=new Zt(s,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),oe.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,s=i;Te.isDocumentKey(s)||(s=s.child(""));var a=new Zt(new Te(s),0),l=new Yt(Ge);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),oe.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var s=n.os(o);s!==null&&i.push(s)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;De(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return oe.forEach(n.mutations,function(s){var a=new Zt(s.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new Zt(n,0),o=this.rs.firstAfterOrEqual(i);return oe.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,oe.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),Sj=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Tn(Te.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,s=this.docs.get(o),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return oe.resolve(i?i.document.clone():En.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=Nr();return n.forEach(function(s){var a=i.docs.get(s);o=o.insert(s,a?a.document.clone():En.newInvalidDocument(s))}),oe.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=Nr(),s=new Te(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,p=d.document,m=d.readTime;if(!n.path.isPrefixOf(f.path))break;m.compareTo(i)<=0||kc(n,p)&&(o=o.insert(p.key,p.clone()))}return oe.resolve(o)},e.prototype.fs=function(t,n){return oe.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new Aj(this)},e.prototype.getSize=function(t){return oe.resolve(this.size)},e}(),Aj=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return Ce(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(s))):i.Ie.removeEntry(s)}),oe.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(OA),Nj=function(){function e(t){this.persistence=t,this.ds=new Pu(function(n){return Ac(n)},Oh),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.ws=0,this._s=new gy,this.targetCount=0,this.ys=$f.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),oe.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return oe.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return oe.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),oe.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),oe.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new $f(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,oe.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),oe.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,oe.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),oe.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return oe.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return oe.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),oe.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(a){s.push(o.markPotentiallyOrphaned(t,a))}),oe.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),oe.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return oe.resolve(i)},e.prototype.containsKey=function(t,n){return oe.resolve(this._s.containsKey(n))},e}(),Cj=function(){function e(t,n){var i=this;this.gs={},this.Ne=new tr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Nj(this),this.Ut=new ij,this.Ue=function(o,s){return new Sj(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new EA(n),this.Ke=new Ej(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new Tj(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ue("MemoryPersistence","Starting transaction:",t);var s=new kj(this.Ne.next());return this.referenceDelegate.Es(),i(s).next(function(a){return o.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return oe.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),kj=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return Ce(t,e),t}(_A),Oj=function(){function e(t){this.persistence=t,this.As=new gy,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ie()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),oe.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),oe.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),oe.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(s){return i.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.vs,function(o){var s=Te.fromPath(o);return n.Ps(t,s).next(function(a){a||i.removeEntry(s)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return oe.or([function(){return oe.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),an=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(e,t){return"firestore_clients_"+e+"_"+t}function kE(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function Gv(e,t){return"firestore_targets_"+e+"_"+t}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");var OE=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,s=JSON.parse(i),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new re(s.error.code,s.error.message)),a?new e(t,n,s.state,o):(Bt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Wv=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new re(o.error.code,o.error.message)),s?new e(t,o.state,i):(Bt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),DE=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,s=xh(),a=0;o&&a<i.activeTargetIds.length;++a)o=zS(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return o?new e(t,s):(Bt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Dj=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Bt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Bm=function(){function e(){this.activeTargetIds=xh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Qv=function(){function e(t,n,i,o,s){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Tn(Ge),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=CE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Bm),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return te(this,void 0,void 0,function(){var t,n,i,o,s,a,l,f,d,p,m,g=this;return Z(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=b.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(s=this.getItem(CE(this.persistenceKey,o)))&&(a=DE.Vs(o,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,p=this.$s;d<p.length;d++)m=p[d],this.ks(m);return this.$s=[],this.window.addEventListener("pagehide",function(){return g.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(Gv(this.persistenceKey,t));if(i){var o=Wv.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Gv(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,i.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ue("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ue("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ue("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(ue("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Bt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return te(n,void 0,void 0,function(){var o,s,a,l,f,d;return Z(this,function(p){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(s=this.ni(i.key,i.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(m){var g=tr.o;if(m!=null)try{var b=JSON.parse(m);De(typeof b=="number"),g=b}catch(I){Bt("SharedClientState","Failed to read sequence number from WebStorage",I)}return g}(i.newValue))!==tr.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new OE(this.currentUser,t,n,i),s=kE(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=kE(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=Gv(this.persistenceKey,t),s=new Wv(t,n,i);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return DE.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),s=i[2]!==void 0?i[2]:null;return OE.Vs(new an(s),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return Wv.Vs(o,n)},e.prototype.js=function(t){return Dj.Vs(t)},e.prototype.ii=function(t){return te(this,void 0,void 0,function(){return Z(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ue("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){s.has(d)||l.push(d)}),s.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=xh();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),FA=function(){function e(){this.li=new Bm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Bm,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),Rj=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),RE=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),xj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Pj=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),Lj=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Ce(t,e),t.prototype.Fi=function(n,i,o,s){return new Promise(function(a,l){var f=new hF;f.listenOnce(cF.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Hv.NO_ERROR:var p=f.getResponseJson();ue("Connection","XHR received:",JSON.stringify(p)),a(p);break;case Hv.TIMEOUT:ue("Connection",'RPC "'+n+'" timed out'),l(new re(B.DEADLINE_EXCEEDED,"Request time out"));break;case Hv.HTTP_ERROR:var m=f.getStatus();if(ue("Connection",'RPC "'+n+'" failed with status:',m,"response text:",f.getResponseText()),m>0){var g=f.getResponseJson().error;if(g&&g.status&&g.message){var b=function(I){var A=I.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(A)>=0?A:B.UNKNOWN}(g.status);l(new re(b,g.message))}else l(new re(B.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new re(B.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ue("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);f.send(i,"POST",d,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=uF(),a=aF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new fF({})),this.ki(l.initMessageHeaders,i),pM()||gM()||yM()||wM()||bM()||mM()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ue("Connection","Creating WebChannel: "+f,l);var d=s.createWebChannel(f,l),p=!1,m=!1,g=new Pj({Ei:function(I){m?ue("Connection","Not sending because WebChannel is closed:",I):(p||(ue("Connection","Opening WebChannel transport."),d.open(),p=!0),ue("Connection","WebChannel sending:",I),d.send(I))},Ti:function(){return d.close()}}),b=function(I,A,P){I.listen(A,function(C){try{P(C)}catch(j){setTimeout(function(){throw j},0)}})};return b(d,Xl.EventType.OPEN,function(){m||ue("Connection","WebChannel transport opened.")}),b(d,Xl.EventType.CLOSE,function(){m||(m=!0,ue("Connection","WebChannel transport closed"),g.Vi())}),b(d,Xl.EventType.ERROR,function(I){m||(m=!0,Pf("Connection","WebChannel transport errored:",I),g.Vi(new re(B.UNAVAILABLE,"The operation could not be completed")))}),b(d,Xl.EventType.MESSAGE,function(I){var A;if(!m){var P=I.data[0];De(!!P);var C=P,j=C.error||((A=C[0])===null||A===void 0?void 0:A.error);if(j){ue("Connection","WebChannel received error:",j);var F=j.status,J=function(O){var M=jt[O];if(M!==void 0)return aA(M)}(F),x=j.message;J===void 0&&(J=B.INTERNAL,x="Unknown error status: "+F+" with message "+j.message),m=!0,g.Vi(new re(J,x)),d.close()}else ue("Connection","WebChannel received:",P),g.Si(P)}}),b(a,lF.STAT_EVENT,function(I){I.stat===QI.PROXY?ue("Connection","Detected buffering proxy"):I.stat===QI.NOPROXY&&ue("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var s=this.xi(t,n);ue("RestConnection","Sending: ",s,i);var a={};return this.ki(a,o),this.Fi(t,s,a,i).then(function(l){return ue("RestConnection","Received: ",l),l},function(l){throw Pf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=xj[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){return typeof window<"u"?window:null}function vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(e){return new BF(e,!0)}var yy=function(){function e(t,n,i,o,s){i===void 0&&(i=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,i-o);s>0&&ue("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),UA=function(){function e(t,n,i,o,s,a){this.Se=t,this.zi=i,this.Hi=o,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new yy(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return te(this,void 0,void 0,function(){return Z(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return te(this,void 0,void 0,function(){return Z(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return te(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Bt(n.toString()),Bt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===B.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var s=new re(B.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return te(t,void 0,void 0,function(){return Z(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ue("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Mj=function(e){function t(n,i,o,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=s,l}return Ce(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(s,a){var l;if("targetChange"in a){a.targetChange;var f=function(P){return P==="NO_CHANGE"?0:P==="ADD"?1:P==="REMOVE"?2:P==="CURRENT"?3:P==="RESET"?4:Ie()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],p=function(P,C){return P.I?(De(C===void 0||typeof C=="string"),$n.fromBase64String(C||"")):(De(C===void 0||C instanceof Uint8Array),$n.fromUint8Array(C||new Uint8Array))}(s,a.targetChange.resumeToken),m=(g=a.targetChange.cause)&&function(P){var C=P.code===void 0?B.UNKNOWN:aA(P.code);return new re(C,P.message||"")}(g);l=new lA(f,d,p,m||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=ci(s,f.document.name),p=Rn(f.document.updateTime);var g=new Zn({mapValue:{fields:f.document.fields}}),b=(m=En.newFoundDocument(d,p,g),f.targetIds||[]),I=f.removedTargetIds||[];l=new pf(b,I,m.key,m)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=ci(s,f.document),p=f.readTime?Rn(f.readTime):qe.min(),g=En.newNoDocument(d,p),m=f.removedTargetIds||[],l=new pf([],m,g.key,g);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=ci(s,f.document),p=f.removedTargetIds||[],l=new pf([],p,d,null);else{if(!("filter"in a))return Ie();a.filter;var A=a.filter;A.targetId,f=A.count||0,d=new DF(f),p=A.targetId,l=new cA(p,d)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return qe.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?qe.min():a.readTime?Rn(a.readTime):qe.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=fc(this.R),i.addTarget=function(s,a){var l,f=a.target;return(l=Vf(f)?{documents:vA(s,f)}:{query:mA(s,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=fA(s,a.resumeToken):a.snapshotVersion.compareTo(qe.min())>0&&(l.readTime=cc(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ie()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=fc(this.R),i.removeTarget=n,this.cr(i)},t}(UA),Vj=function(e){function t(n,i,o,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=s,l.gr=!1,l}return Ce(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(De(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(s,a){return s&&s.length>0?(De(a!==void 0),s.map(function(l){return function(f,d){var p=f.updateTime?Rn(f.updateTime):Rn(d);return p.isEqual(qe.min())&&(p=Rn(d)),new CF(p,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=Rn(n.commitTime);return this.listener.Tr(o,i)}return De(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=fc(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return Uf(i.R,s)})};this.cr(o)},t}(UA),Fj=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=i,s.R=o,s.Rr=!1,s}return Ce(t,e),t.prototype.br=function(){if(this.Rr)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new re(B.UNKNOWN,a.toString())})},t.prototype.$i=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new re(B.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),jj=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Bt(n),this.Vr=!1):ue("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),Uj=function(e,t,n,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return te(s,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return uo(this)?(ue("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return te(this,void 0,void 0,function(){var d;return Z(this,function(p){switch(p.label){case 0:return(d=de(f)).Or.add(4),[4,Lu(d)];case 1:return p.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,xc(d)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new jj(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(e){return te(this,void 0,void 0,function(){var t,n;return Z(this,function(i){switch(i.label){case 0:if(!uo(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Lu(e){return te(this,void 0,void 0,function(){var t,n;return Z(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Mh(e,t){var n=de(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),_y(n)?by(n):Vu(n).er()&&wy(n,t))}function hc(e,t){var n=de(e),i=Vu(n);n.$r.delete(t),i.er()&&BA(n,t),n.$r.size===0&&(i.er()?i.ir():uo(n)&&n.Br.set("Unknown"))}function wy(e,t){e.qr.U(t.targetId),Vu(e).mr(t)}function BA(e,t){e.qr.U(t),Vu(e).yr(t)}function by(e){e.qr=new FF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Vu(e).start(),e.Br.Sr()}function _y(e){return uo(e)&&!Vu(e).tr()&&e.$r.size>0}function uo(e){return de(e).Or.size===0}function $A(e){e.qr=void 0}function Bj(e){return te(this,void 0,void 0,function(){return Z(this,function(t){return e.$r.forEach(function(n,i){wy(e,n)}),[2]})})}function $j(e,t){return te(this,void 0,void 0,function(){return Z(this,function(n){return $A(e),_y(e)?(e.Br.Nr(t),by(e)):e.Br.set("Unknown"),[2]})})}function qj(e,t,n){return te(this,void 0,void 0,function(){var i,o,s;return Z(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof lA&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return te(this,void 0,void 0,function(){var d,p,m,g;return Z(this,function(b){switch(b.label){case 0:d=f.cause,p=0,m=f.targetIds,b.label=1;case 1:return p<m.length?(g=m[p],l.$r.has(g)?[4,l.remoteSyncer.rejectListen(g,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(g),l.qr.removeTarget(g),b.label=3;case 3:b.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Hf(e,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof pf?e.qr.X(t):t instanceof cA?e.qr.rt(t):e.qr.et(t),n.isEqual(qe.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,LA(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(p,m){if(p.resumeToken.approximateByteSize()>0){var g=l.$r.get(m);g&&l.$r.set(m,g.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach(function(p){var m=l.$r.get(p);if(m){l.$r.set(p,m.withResumeToken($n.EMPTY_BYTE_STRING,m.snapshotVersion)),BA(l,p);var g=new Ph(m.target,p,1,m.sequenceNumber);wy(l,g)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ue("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Hf(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Hf(e,t,n){return te(this,void 0,void 0,function(){var i=this;return Z(this,function(o){switch(o.label){case 0:if(!ss(t))throw t;return e.Or.add(1),[4,Lu(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return LA(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return te(i,void 0,void 0,function(){return Z(this,function(s){switch(s.label){case 0:return ue("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,xc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function qA(e,t){return t().catch(function(n){return Hf(e,n,t)})}function Mu(e){return te(this,void 0,void 0,function(){var t,n,i,o,s;return Z(this,function(a){switch(a.label){case 0:t=de(e),n=no(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return uo(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,_j(t.localStore,i)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=no(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return s=a.sent(),[4,Hf(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return KA(t)&&HA(t),[2]}})})}function KA(e){return uo(e)&&!no(e).tr()&&e.Fr.length>0}function HA(e){no(e).start()}function Kj(e){return te(this,void 0,void 0,function(){return Z(this,function(t){return no(e).Ar(),[2]})})}function Hj(e){return te(this,void 0,void 0,function(){var t,n,i,o;return Z(this,function(s){for(t=no(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function zj(e,t,n){return te(this,void 0,void 0,function(){var i,o;return Z(this,function(s){switch(s.label){case 0:return i=e.Fr.shift(),o=nj.from(i,t,n),[4,qA(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Mu(e)];case 2:return s.sent(),[2]}})})}function Gj(e,t){return te(this,void 0,void 0,function(){return Z(this,function(n){switch(n.label){case 0:return t&&no(e).pr?[4,function(i,o){return te(this,void 0,void 0,function(){var s,a;return Z(this,function(l){switch(l.label){case 0:return uA(a=o.code)&&a!==B.ABORTED?(s=i.Fr.shift(),no(i).sr(),[4,qA(i,function(){return i.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Mu(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return KA(e)&&HA(e),[2]}})})}function $m(e,t){return te(this,void 0,void 0,function(){var n;return Z(this,function(i){switch(i.label){case 0:return n=de(e),t?(n.Or.delete(2),[4,xc(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Lu(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Vu(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var s=de(n);return s.br(),new Mj(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:Bj.bind(null,e),Ri:$j.bind(null,e),_r:qj.bind(null,e)}),e.Mr.push(function(n){return te(t,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),_y(e)?by(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),$A(e),i.label=3;case 3:return[2]}})})})),e.Ur}function no(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var s=de(n);return s.br(),new Vj(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:Kj.bind(null,e),Ri:Gj.bind(null,e),Ir:Hj.bind(null,e),Tr:zj.bind(null,e)}),e.Mr.push(function(n){return te(t,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Mu(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(ue("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var Wj=function(){function e(t,n,i,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,i,o,s){var a=new e(t,n,Date.now()+i,o,s);return a.start(i),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(B.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Fu(e,t){if(Bt("AsyncQueue",t+": "+e),ss(e))return new re(B.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zA=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||Te.comparator(n.key,i.key)}:function(n,i){return Te.comparator(n.key,i.key)},this.keyedMap=Fm(),this.sortedSet=new Tn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),xE=function(){function e(){this.Qr=new Tn(Te.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):Ie():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),zf=function(){function e(t,n,i,o,s,a,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,zA.emptySet(n),s,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),Qj=function(){this.Wr=void 0,this.listeners=[]},Yj=function(){this.queries=new Pu(function(e){return XS(e)},Cc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(e,t){return te(this,void 0,void 0,function(){var n,i,o,s,a,l,f;return Z(this,function(d){switch(d.label){case 0:if(n=de(e),i=t.query,o=!1,(s=n.queries.get(i))||(o=!0,s=new Qj),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=s,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=Fu(l,"Initialization of query '"+Mm(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&Ty(n),[2]}})})}function Ey(e,t){return te(this,void 0,void 0,function(){var n,i,o,s,a;return Z(this,function(l){return n=de(e),i=t.query,o=!1,(s=n.queries.get(i))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),o=s.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function Xj(e,t){for(var n=de(e),i=!1,o=0,s=t;o<s.length;o++){var a=s[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,p=f.listeners;d<p.length;d++)p[d].Hr(a)&&(i=!0);f.Wr=a}}i&&Ty(n)}function Jj(e,t,n){var i=de(e),o=i.queries.get(t);if(o)for(var s=0,a=o.listeners;s<a.length;s++)a[s].onError(n);i.queries.delete(t)}function Ty(e){e.Gr.forEach(function(t){t.next()})}var Sy=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var s=o[i];s.type!==3&&n.push(s)}t=new zf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=zf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GA=function(e){this.key=e},WA=function(e){this.key=e},QA=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=mt(),this.mutatedKeys=mt(),this.lo=JS(t),this.fo=new zA(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new xE,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,d=hf(this.query)&&s.size===this.query.limit?s.last():null,p=jf(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(g,b){var I=s.get(g),A=kc(i.query,b)?b:null,P=!!I&&i.mutatedKeys.has(I.key),C=!!A&&(A.hasLocalMutations||i.mutatedKeys.has(A.key)&&A.hasCommittedMutations),j=!1;I&&A?I.data.isEqual(A.data)?P!==C&&(o.track({type:3,doc:A}),j=!0):i.yo(I,A)||(o.track({type:2,doc:A}),j=!0,(d&&i.lo(A,d)>0||p&&i.lo(A,p)<0)&&(f=!0)):!I&&A?(o.track({type:0,doc:A}),j=!0):I&&!A&&(o.track({type:1,doc:I}),j=!0,(d||p)&&(f=!0)),j&&(A?(l=l.add(A),a=C?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),hf(this.query)||jf(this.query))for(;l.size>this.query.limit;){var m=hf(this.query)?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),o.track({type:1,doc:m})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,m){return function(g,b){var I=function(A){switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return I(g)-I(b)}(p.type,m.type)||o.lo(p.doc,m.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new zf(this.query,t.fo,s,a,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new xE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=mt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new WA(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new GA(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=mt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return zf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),Zj=function(e,t,n){this.query=e,this.targetId=t,this.view=n},eU=function(e){this.key=e,this.bo=!1},tU=function(){function e(t,n,i,o,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Pu(function(l){return XS(l)},Cc),this.Vo=new Map,this.So=new Set,this.Do=new Tn(Te.comparator),this.Co=new Map,this.No=new gy,this.xo={},this.ko=new Map,this.Fo=$f.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function nU(e,t){return te(this,void 0,void 0,function(){var n,i,o,s,a,l;return Z(this,function(f){switch(f.label){case 0:return n=Oy(e),(s=n.Po.get(t))?(i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,qf(n.localStore,Yr(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,Ay(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Mh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function Ay(e,t,n,i){return te(this,void 0,void 0,function(){var o,s,a,l,f,d;return Z(this,function(p){switch(p.label){case 0:return e.Oo=function(m,g,b){return function(I,A,P,C){return te(this,void 0,void 0,function(){var j,F,J;return Z(this,function(x){switch(x.label){case 0:return j=A.view._o(P),j.Nn?[4,Kf(I.localStore,A.query,!1).then(function(O){var M=O.documents;return A.view._o(M,j)})]:[3,2];case 1:j=x.sent(),x.label=2;case 2:return F=C&&C.targetChanges.get(A.targetId),J=A.view.applyChanges(j,I.isPrimaryClient,F),[2,(qm(I,A.targetId,J.To),J.snapshot)]}})})}(e,m,g,b)},[4,Kf(e.localStore,t,!0)];case 1:return o=p.sent(),s=new QA(t,o.Bn),a=s._o(o.documents),l=ly.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=s.applyChanges(a,e.isPrimaryClient,l),qm(e,n,f.To),d=new Zj(t,n,s),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function rU(e,t){return te(this,void 0,void 0,function(){var n,i,o;return Z(this,function(s){switch(s.label){case 0:return n=de(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!Cc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,gu(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),hc(n.remoteStore,i.targetId),yu(n,i.targetId)}).catch(us)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return yu(n,i.targetId),[4,gu(n.localStore,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function iU(e,t,n){return te(this,void 0,void 0,function(){var i,o,s,a;return Z(this,function(l){switch(l.label){case 0:i=Dy(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var p,m=de(f),g=Un.now(),b=d.reduce(function(I,A){return I.add(A.key)},mt());return m.persistence.runTransaction("Locally write mutations","readwrite",function(I){return m.Mn.pn(I,b).next(function(A){p=A;for(var P=[],C=0,j=d;C<j.length;C++){var F=j[C],J=OF(F,p.get(F.key));J!=null&&P.push(new so(F.key,J,GS(J.value.mapValue),bn.exists(!0)))}return m._n.addMutationBatch(I,g,P,d)})}).then(function(I){return I.applyToLocalDocumentSet(p),{batchId:I.batchId,changes:p}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,p){var m=f.xo[f.currentUser.toKey()];m||(m=new Tn(Ge)),m=m.insert(d,p),f.xo[f.currentUser.toKey()]=m}(i,o.batchId,n),[4,ao(i,o.changes)];case 3:return l.sent(),[4,Mu(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Fu(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function YA(e,t){return te(this,void 0,void 0,function(){var n,i;return Z(this,function(o){switch(o.label){case 0:n=de(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,wj(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(De(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?De(l.bo):s.removedDocuments.size>0&&(De(l.bo),l.bo=!1))}),[4,ao(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,us(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function PE(e,t,n){var i=de(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,a){var l=de(s);l.onlineState=a;var f=!1;l.queries.forEach(function(d,p){for(var m=0,g=p.listeners;m<g.length;m++)g[m].zr(a)&&(f=!0)}),f&&Ty(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function oU(e,t,n){return te(this,void 0,void 0,function(){var i,o,s,a,l,f;return Z(this,function(d){switch(d.label){case 0:return(i=de(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(s=o&&o.key)?(a=(a=new Tn(Te.comparator)).insert(s,En.newNoDocument(s,qe.min())),l=mt().add(s),f=new cy(qe.min(),new Map,new Yt(Ge),a,l),[4,YA(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(s),i.Co.delete(t),ky(i),[3,4];case 2:return[4,gu(i.localStore,t,!1).then(function(){return yu(i,t,n)}).catch(us)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function sU(e,t){return te(this,void 0,void 0,function(){var n,i,o;return Z(this,function(s){switch(s.label){case 0:n=de(e),i=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,yj(n.localStore,t)];case 2:return o=s.sent(),Cy(n,i,null),Ny(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,ao(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,us(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function uU(e,t,n){return te(this,void 0,void 0,function(){var i,o;return Z(this,function(s){switch(s.label){case 0:i=de(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var f=de(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var p;return f._n.lookupMutationBatch(d,l).next(function(m){return De(m!==null),p=m.keys(),f._n.removeMutationBatch(d,m)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,p)})})}(i.localStore,t)];case 2:return o=s.sent(),Cy(i,t,n),Ny(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,ao(i,o)];case 3:return s.sent(),[3,6];case 4:return[4,us(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function aU(e,t){return te(this,void 0,void 0,function(){var n,i,o,s,a;return Z(this,function(l){switch(l.label){case 0:uo((n=de(e)).remoteStore)||ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=de(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return d._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return s=l.sent(),a=Fu(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Ny(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Cy(e,t,n){var i=de(e),o=i.xo[i.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function yu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var s=o[i];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||XA(e,a)})}function XA(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(hc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),ky(e))}function qm(e,t,n){for(var i=0,o=n;i<o.length;i++){var s=o[i];s instanceof GA?(e.No.addReference(s.key,t),cU(e,s)):s instanceof WA?(ue("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||XA(e,s.key)):Ie()}}function cU(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(ue("SyncEngine","New document in limbo: "+n),e.So.add(i),ky(e))}function ky(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Te(ut.fromString(t)),i=e.Fo.next();e.Co.set(i,new eU(n)),e.Do=e.Do.insert(n,i),Mh(e.remoteStore,new Ph(Yr(Nc(n.path)),i,2,tr.o))}}function ao(e,t,n){return te(this,void 0,void 0,function(){var i,o,s,a;return Z(this,function(l){switch(l.label){case 0:return i=de(e),o=[],s=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,t,n).then(function(p){if(p){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,p.fromCache?"not-current":"current"),o.push(p);var m=mj.Pn(d.targetId,p);s.push(m)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return te(this,void 0,void 0,function(){var p,m,g,b,I,A,P,C,j;return Z(this,function(F){switch(F.label){case 0:p=de(f),F.label=1;case 1:return F.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(J){return oe.forEach(d,function(x){return oe.forEach(x.bn,function(O){return p.persistence.referenceDelegate.addReference(J,x.targetId,O)}).next(function(){return oe.forEach(x.vn,function(O){return p.persistence.referenceDelegate.removeReference(J,x.targetId,O)})})})})];case 2:return F.sent(),[3,4];case 3:if(!ss(m=F.sent()))throw m;return ue("LocalStore","Failed to update sequence numbers: "+m),[3,4];case 4:for(g=0,b=d;g<b.length;g++)I=b[g],A=I.targetId,I.fromCache||(P=p.kn.get(A),C=P.snapshotVersion,j=P.withLastLimboFreeSnapshotVersion(C),p.kn=p.kn.insert(A,j));return[2]}})})}(i.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function lU(e,t){return te(this,void 0,void 0,function(){var n,i;return Z(this,function(o){switch(o.label){case 0:return(n=de(e)).currentUser.isEqual(t)?[3,3]:(ue("SyncEngine","User change. New user:",t.toKey()),[4,PA(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new re(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,ao(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function fU(e,t){var n=de(e),i=n.Co.get(t);if(i&&i.bo)return mt().add(i.key);var o=mt(),s=n.Vo.get(t);if(!s)return o;for(var a=0,l=s;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function hU(e,t){return te(this,void 0,void 0,function(){var n,i,o;return Z(this,function(s){switch(s.label){case 0:return[4,Kf((n=de(e)).localStore,t.query,!0)];case 1:return i=s.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&qm(n,t.targetId,o.To),o)]}})})}function dU(e){return te(this,void 0,void 0,function(){var t;return Z(this,function(n){return[2,VA((t=de(e)).localStore).then(function(i){return ao(t,i)})]})})}function pU(e,t,n,i){return te(this,void 0,void 0,function(){var o,s;return Z(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=de(l),p=de(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(m){return p.jt(m,f).next(function(g){return g?d.Mn.pn(m,g):oe.resolve(null)})})}((o=de(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Mu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Cy(o,t,i||null),Ny(o,t),function(l,f){de(de(l)._n).Gt(f)}(o.localStore,t)):Ie(),a.label=4;case 4:return[4,ao(o,s)];case 5:return a.sent(),[3,7];case 6:ue("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function vU(e,t){return te(this,void 0,void 0,function(){var n,i,o,s,a,l,f,d;return Z(this,function(p){switch(p.label){case 0:return Oy(n=de(e)),Dy(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,LE(n,i.toArray())]);case 1:return o=p.sent(),n.$o=!0,[4,$m(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=o;s<a.length;s++)l=a[s],Mh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(m,g){n.sharedClientState.isLocalQueryTarget(g)?f.push(g):d=d.then(function(){return yu(n,g),gu(n.localStore,g,!0)}),hc(n.remoteStore,g)}),[4,d]);case 4:return p.sent(),[4,LE(n,f)];case 5:return p.sent(),function(m){var g=de(m);g.Co.forEach(function(b,I){hc(g.remoteStore,I)}),g.No.ts(),g.Co=new Map,g.Do=new Tn(Te.comparator)}(n),n.$o=!1,[4,$m(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function LE(e,t,n){return te(this,void 0,void 0,function(){var i,o,s,a,l,f,d,p,m,g,b,I,A,P;return Z(this,function(C){switch(C.label){case 0:i=de(e),o=[],s=[],a=0,l=t,C.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(p=i.Vo.get(f))&&p.length!==0?[4,qf(i.localStore,Yr(p[0]))]:[3,7]):[3,13];case 2:d=C.sent(),m=0,g=p,C.label=3;case 3:return m<g.length?(b=g[m],I=i.Po.get(b),[4,hU(i,I)]):[3,6];case 4:(A=C.sent()).snapshot&&s.push(A.snapshot),C.label=5;case 5:return m++,[3,3];case 6:return[3,11];case 7:return[4,MA(i.localStore,f)];case 8:return P=C.sent(),[4,qf(i.localStore,P)];case 9:return d=C.sent(),[4,Ay(i,JA(P),f,!1)];case 10:C.sent(),C.label=11;case 11:o.push(d),C.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(s),o)]}})})}function JA(e){return QS(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function mU(e){var t=de(e);return de(de(t.localStore).persistence).fn()}function gU(e,t,n,i){return te(this,void 0,void 0,function(){var o,s,a;return Z(this,function(l){switch(l.label){case 0:return(o=de(e)).$o?(ue("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,VA(o.localStore)];case 3:return s=l.sent(),a=cy.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,ao(o,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,gu(o.localStore,t,!0)];case 6:return l.sent(),yu(o,t,i),[3,8];case 7:Ie(),l.label=8;case 8:return[2]}})})}function yU(e,t,n){return te(this,void 0,void 0,function(){var i,o,s,a,l,f,d,p,m,g;return Z(this,function(b){switch(b.label){case 0:if(!(i=Oy(e)).$o)return[3,10];o=0,s=t,b.label=1;case 1:return o<s.length?(a=s[o],i.Vo.has(a)?(ue("SyncEngine","Adding an already active target "+a),[3,5]):[4,MA(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,qf(i.localStore,l)];case 3:return f=b.sent(),[4,Ay(i,JA(l),f.targetId,!1)];case 4:b.sent(),Mh(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(I){return Z(this,function(A){switch(A.label){case 0:return i.Vo.has(I)?[4,gu(i.localStore,I,!1).then(function(){hc(i.remoteStore,I),yu(i,I)}).catch(us)]:[3,2];case 1:A.sent(),A.label=2;case 2:return[2]}})},p=0,m=n,b.label=7;case 7:return p<m.length?(g=m[p],[5,d(g)]):[3,10];case 8:b.sent(),b.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function Oy(e){var t=de(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oU.bind(null,t),t.vo._r=Xj.bind(null,t.eventManager),t.vo.Mo=Jj.bind(null,t.eventManager),t}function Dy(e){var t=de(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uU.bind(null,t),t}var ZA=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return te(this,void 0,void 0,function(){return Z(this,function(n){switch(n.label){case 0:return this.R=Lh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return xA(this.persistence,new RA,t.initialUser,this.R)},e.prototype.qo=function(t){return new Cj(Oj.bs,this.R)},e.prototype.Bo=function(t){return new FA},e.prototype.terminate=function(){return te(this,void 0,void 0,function(){return Z(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),eN=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=i,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Ce(t,e),t.prototype.initialize=function(n){return te(this,void 0,void 0,function(){var i=this;return Z(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,Ij(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Dy(this.Qo.syncEngine)];case 4:return o.sent(),[4,Mu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return xA(this.persistence,new RA,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new cj(i,n.asyncQueue)},t.prototype.qo=function(n){var i=my(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?$r.withCacheSize(this.cacheSizeBytes):$r.DEFAULT;return new vj(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,jA(),vf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new FA},t}(ZA),wU=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return Ce(t,e),t.prototype.initialize=function(n){return te(this,void 0,void 0,function(){var i,o=this;return Z(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof Qv?(this.sharedClientState.syncEngine={ui:pU.bind(null,i),ai:gU.bind(null,i),hi:yU.bind(null,i),fn:mU.bind(null,i),ci:dU.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return te(o,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return[4,vU(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var i=jA();if(!Qv.yt(i))throw new re(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=my(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Qv(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(eN),Km=function(){function e(){}return e.prototype.initialize=function(t,n){return te(this,void 0,void 0,function(){var i=this;return Z(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return PE(i.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=lU.bind(null,this.syncEngine),[4,$m(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new Yj},e.prototype.createDatastore=function(t){var n,i=Lh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new Lj(n));return function(s,a,l){return new Fj(s,a,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,s,a,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,s=function(f){return PE(l.syncEngine,f,0)},a=RE.yt()?new RE:new Rj,new Uj(n,i,o,s,a)},e.prototype.createSyncEngine=function(t,n){return function(i,o,s,a,l,f,d){var p=new tU(i,o,s,a,l,f);return d&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return te(this,void 0,void 0,function(){var n;return Z(this,function(i){switch(i.label){case 0:return n=de(t),ue("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Lu(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),bU=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return te(this,void 0,void 0,function(){var n,i=this;return Z(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new re(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return te(this,void 0,void 0,function(){var l,f,d,p,m,g;return Z(this,function(b){switch(b.label){case 0:return l=de(s),f=fc(l.R)+"/documents",d={documents:a.map(function(I){return lc(l.R,I)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return p=b.sent(),m=new Map,p.forEach(function(I){var A=function(P,C){return"found"in C?function(j,F){De(!!F.found),F.found.name,F.found.updateTime;var J=ci(j,F.found.name),x=Rn(F.found.updateTime),O=new Zn({mapValue:{fields:F.found.fields}});return En.newFoundDocument(J,x,O)}(P,C):"missing"in C?function(j,F){De(!!F.missing),De(!!F.readTime);var J=ci(j,F.missing),x=Rn(F.readTime);return En.newNoDocument(J,x)}(P,C):Ie()}(l.R,I);m.set(A.key.toString(),A)}),g=[],[2,(a.forEach(function(I){var A=m.get(I.toString());De(!!A),g.push(A)}),g)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return i.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Rc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return te(this,void 0,void 0,function(){var t,n=this;return Z(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var a=Te.fromPath(s);n.mutations.push(new ay(a,n.precondition(a)))}),[4,function(o,s){return te(this,void 0,void 0,function(){var a,l,f;return Z(this,function(d){switch(d.label){case 0:return a=de(o),l=fc(a.R)+"/documents",f={writes:s.map(function(p){return Uf(a.R,p)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Ie();n=qe.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new re(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?bn.updateTime(n):bn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(qe.min()))throw new re(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bn.updateTime(n)}return bn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),_U=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new yy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return te(t,void 0,void 0,function(){var n,i,o=this;return Z(this,function(s){return n=new bU(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!os(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!uA(n)}return!1},e}(),IU=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=BS.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return te(o,void 0,void 0,function(){return Z(this,function(a){switch(a.label){case 0:return ue("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return te(this,void 0,void 0,function(){return Z(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return te(t,void 0,void 0,function(){var i,o;return Z(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=s.sent(),o=Fu(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(e,t){return te(this,void 0,void 0,function(){var n,i,o=this;return Z(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),i=n.initialUser,e.setCredentialChangeListener(function(a){return te(o,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,PA(t.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function nN(e,t){return te(this,void 0,void 0,function(){var n,i;return Z(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Ry(e)];case 1:return n=o.sent(),ue("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return te(this,void 0,void 0,function(){var f,d;return Z(this,function(p){switch(p.label){case 0:return(f=de(a)).asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials"),d=uo(f),f.Or.add(3),[4,Lu(f)];case 1:return p.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),f.Or.delete(3),[4,xc(f)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Ry(e){return te(this,void 0,void 0,function(){return Z(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ue("FirestoreClient","Using default OfflineComponentProvider"),[4,tN(e,new ZA)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Fh(e){return te(this,void 0,void 0,function(){return Z(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ue("FirestoreClient","Using default OnlineComponentProvider"),[4,nN(e,new Km)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function ME(e){return Ry(e).then(function(t){return t.persistence})}function rN(e){return Ry(e).then(function(t){return t.localStore})}function VE(e){return Fh(e).then(function(t){return t.remoteStore})}function iN(e){return Fh(e).then(function(t){return t.syncEngine})}function wu(e){return te(this,void 0,void 0,function(){var t,n;return Z(this,function(i){switch(i.label){case 0:return[4,Fh(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=nU.bind(null,t.syncEngine),n.onUnlisten=rU.bind(null,t.syncEngine),n)]}})})}function FE(e,t,n){var i=this;n===void 0&&(n={});var o=new qn;return e.asyncQueue.enqueueAndForget(function(){return te(i,void 0,void 0,function(){var s;return Z(this,function(a){switch(a.label){case 0:return s=function(l,f,d,p,m){var g=new Vh({next:function(I){f.enqueueAndForget(function(){return Ey(l,b)});var A=I.docs.has(d);!A&&I.fromCache?m.reject(new re(B.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&I.fromCache&&p&&p.source==="server"?m.reject(new re(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:function(I){return m.reject(I)}}),b=new Sy(Nc(d.path),g,{includeMetadataChanges:!0,so:!0});return Iy(l,b)},[4,wu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function jE(e,t,n){var i=this;n===void 0&&(n={});var o=new qn;return e.asyncQueue.enqueueAndForget(function(){return te(i,void 0,void 0,function(){var s;return Z(this,function(a){switch(a.label){case 0:return s=function(l,f,d,p,m){var g=new Vh({next:function(I){f.enqueueAndForget(function(){return Ey(l,b)}),I.fromCache&&p.source==="server"?m.reject(new re(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:function(I){return m.reject(I)}}),b=new Sy(d,g,{includeMetadataChanges:!0,so:!0});return Iy(l,b)},[4,wu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var EU=function(e,t,n,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},Gf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),UE=new Map,oN=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},BE=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(an.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),TU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),SU=function(){function e(t){var n=this;this.currentUser=an.UNAUTHENTICATED,this.oc=new qn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){ue("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(ue("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(ue("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(De(typeof o.accessToken=="string"),new oN(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return te(i,void 0,void 0,function(){return Z(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return De(t===null||typeof t=="string"),new an(t)},e}(),AU=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=an.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),NU=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new AU(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(an.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(e,t,n){if(!n)throw new re(B.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Py(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new re(B.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function sN(e,t,n,i){if(t===!0&&i===!0)throw new re(B.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function $E(e){if(!Te.isDocumentKey(e))throw new re(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function qE(e){if(Te.isDocumentKey(e))throw new re(B.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function jh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Ie()}function lt(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new re(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jh(e);throw new re(B.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function KE(e,t){if(t<=0)throw new re(B.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HE=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new re(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new re(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,sN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),dc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HE({}),this._settingsFrozen=!1,t instanceof Gf?(this._databaseId=t,this._credentials=new BE):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new re(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gf(i.options.projectId)}(t),this._credentials=new SU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new re(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new re(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HE(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new BE;switch(n.type){case"gapi":var i=n.client;return De(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new NU(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new re(B.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=UE.get(t))&&(ue("ComponentProvider","Removing Datastore"),UE.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),St=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Qi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),rr=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Qi=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,Nc(o))||this)._path=o,s.type="collection",s}return Ce(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new St(this.firestore,null,new Te(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(rr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=$t(e),xy("collection","path",t),e instanceof dc)return qE(n=ut.fromString.apply(ut,kt([t],i))),new Qi(e,null,n);if(!(e instanceof St||e instanceof Qi))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return qE(n=ut.fromString.apply(ut,kt([e.path],i)).child(ut.fromString(t))),new Qi(e.firestore,null,n)}function mf(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=$t(e),arguments.length===1&&(t=BS.u()),xy("doc","path",t),e instanceof dc)return $E(n=ut.fromString.apply(ut,kt([t],i))),new St(e,null,new Te(n));if(!(e instanceof St||e instanceof Qi))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $E(n=e._path.child(ut.fromString.apply(ut,kt([t],i)))),new St(e.firestore,e instanceof Qi?e.converter:null,new Te(n))}function aN(e,t){return e=$t(e),t=$t(t),(e instanceof St||e instanceof Qi)&&(t instanceof St||t instanceof Qi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function cN(e,t){return e=$t(e),t=$t(t),e instanceof rr&&t instanceof rr&&e.firestore===t.firestore&&Cc(e._query,t._query)&&e.converter===t.converter}var CU=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new yy(this,"async_queue_retry"),this.Ic=function(){var i=vf();i&&ue("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=vf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=vf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new qn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return te(this,void 0,void 0,function(){var t,n=this;return Z(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ss(t=i.sent()))throw t;return ue("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Bt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=Wj.createAndSchedule(this,t,n,i,function(a){return o.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&Ie()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return te(this,void 0,void 0,function(){var t;return Z(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var s=o[i];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function bu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,s=["next","error","complete"];o<s.length;o++){var a=s[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(e)}var kU=-1,Gt=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new CU,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Ce(t,e),t.prototype._terminate=function(){return this._firestoreClient||lN(this),this._firestoreClient.terminate()},t}(dc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(e){return e._firestoreClient||lN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function lN(e){var t,n=e._freezeSettings(),i=function(o,s,a,l){return new EU(o,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new IU(e._credentials,e._queue,i)}function zE(e,t,n){var i=this,o=new qn;return e.asyncQueue.enqueue(function(){return te(i,void 0,void 0,function(){var s;return Z(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,tN(e,n)];case 1:return a.sent(),[4,nN(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===B.FAILED_PRECONDITION||l.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function GE(e){if(e._initialized||e._terminated)throw new re(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new re(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),es=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e($n.fromBase64String(t))}catch(n){throw new re(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e($n.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),as=function(e){this._methodName=e},Uh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new re(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new re(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ge(this._lat,t._lat)||Ge(this._long,t._long)},e}(),OU=/^__.*__$/,DU=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new so(t,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(t,this.data,n,this.fieldTransforms)},e}(),fN=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new so(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}var dN=function(){function e(t,n,i,o,s,a){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Wf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(hN(this.Nc)&&OU.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),RU=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||Lh(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new dN({Nc:t,methodName:n,qc:i,path:Dr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function cs(e){var t=e._freezeSettings(),n=Lh(e._databaseId);return new RU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Bh(e,t,n,i,o,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);Fy("Data must be an object, but it was:",a,i);var l,f,d=mN(i,a);if(s.merge)l=new su(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){for(var p=[],m=0,g=s.mergeFields;m<g.length;m++){var b=Hm(t,g[m],n);if(!a.contains(b))throw new re(B.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");yN(p,b)||p.push(b)}l=new su(p),f=a.fieldTransforms.filter(function(I){return l.covers(I.field)})}else l=null,f=a.fieldTransforms;return new DU(new Zn(d),l,f)}var Ly=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(as);function pN(e,t,n){return new dN({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var xU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype._toFieldTransform=function(n){return new Oc(n.path,new lu)},t.prototype.isEqual=function(n){return n instanceof t},t}(as),PU=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Ce(t,e),t.prototype._toFieldTransform=function(n){var i=pN(this,n,!0),o=this.Kc.map(function(a){return ls(a,i)}),s=new Jo(o);return new Oc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(as),LU=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Ce(t,e),t.prototype._toFieldTransform=function(n){var i=pN(this,n,!0),o=this.Kc.map(function(a){return ls(a,i)}),s=new Zo(o);return new Oc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(as),MU=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return Ce(t,e),t.prototype._toFieldTransform=function(n){var i=new fu(n.R,tA(n.R,this.Qc));return new Oc(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(as);function My(e,t,n,i){var o=e.Uc(1,t,n);Fy("Data must be an object, but it was:",o,i);var s=[],a=Zn.empty();is(i,function(f,d){var p=jy(t,f,n);d=$t(d);var m=o.Oc(p);if(d instanceof Ly)s.push(p);else{var g=ls(d,m);g!=null&&(s.push(p),a.set(p,g))}});var l=new su(s);return new fN(a,l,o.fieldTransforms)}function Vy(e,t,n,i,o,s){var a=e.Uc(1,t,n),l=[Hm(t,i,n)],f=[o];if(s.length%2!=0)throw new re(B.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)l.push(Hm(t,s[d])),f.push(s[d+1]);for(var p=[],m=Zn.empty(),g=l.length-1;g>=0;--g)if(!yN(p,l[g])){var b=l[g],I=f[g];I=$t(I);var A=a.Oc(b);if(I instanceof Ly)p.push(b);else{var P=ls(I,A);P!=null&&(p.push(b),m.set(b,P))}}var C=new su(p);return new fN(m,C,a.fieldTransforms)}function vN(e,t,n,i){return i===void 0&&(i=!1),ls(n,e.Uc(i?4:3,t))}function ls(e,t){if(gN(e=$t(e)))return Fy("Unsupported field value:",t,e),mN(e,t);if(e instanceof as)return function(n,i){if(!hN(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],s=0,a=0,l=n;a<l.length;a++){var f=ls(l[a],i.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=$t(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tA(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Un.fromDate(n);return{timestampValue:cc(i.R,o)}}if(n instanceof Un)return o=new Un(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:cc(i.R,o)};if(n instanceof Uh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof es)return{bytesValue:fA(i.R,n._byteString)};if(n instanceof St){o=i.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw i.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:fy(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+jh(n))}(e,t)}function mN(e,t){var n={};return qS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):is(e,function(i,o){var s=ls(o,t.kc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function gN(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Un||e instanceof Uh||e instanceof es||e instanceof St||e instanceof as)}function Fy(e,t,n){if(!gN(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=jh(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function Hm(e,t,n){if((t=$t(t))instanceof zr)return t._internalPath;if(typeof t=="string")return jy(e,t);throw Wf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var VU=new RegExp("[~\\*/\\[\\]]");function jy(e,t,n){if(t.search(VU)>=0)throw Wf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(zr.bind.apply(zr,kt([void 0],t.split("."))))()._internalPath}catch{throw Wf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Wf(e,t,n,i,o){var s=i&&!i.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||a)&&(f+=" (found",s&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new re(B.INVALID_ARGUMENT,(l+=". ")+e+f)}function yN(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pc=function(){function e(t,n,i,o,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new St(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new FU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Qf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),FU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(pc);function Qf(e,t){return typeof t=="string"?jy(e,t):t instanceof zr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),fi=function(e){function t(n,i,o,s,a,l){var f=this;return(f=e.call(this,n,i,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Ce(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Ua(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(Qf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(pc),Ua=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(fi),$i=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bo(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Ua(i._firestore,i._userDataWriter,o.key,o,new Bo(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var s=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Ua(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Ua(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:jU(l.type),doc:f,oldIndex:d,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function jU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}function wN(e,t){return e instanceof fi&&t instanceof fi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof $i&&t instanceof $i&&e._firestore===t._firestore&&cN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(e){if(jf(e)&&e.explicitOrderBy.length===0)throw new re(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pc=function(){};function Ri(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var s=o[i];e=s._apply(e)}return e}var UU=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=i,s.Gc=o,s.type="where",s}return Ce(t,e),t.prototype._apply=function(n){var i=cs(n.firestore),o=function(s,a,l,f,d,p,m){var g;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new re(B.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){JE(m,p);for(var b=[],I=0,A=m;I<A.length;I++){var P=A[I];b.push(XE(f,s,P))}g={arrayValue:{values:b}}}else g=XE(f,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||JE(m,p),g=vN(l,"where",m,p==="in"||p==="not-in");var C=nr.create(d,p,g);return function(j,F){if(F.g()){var J=sy(j);if(J!==null&&!J.isEqual(F.field))throw new re(B.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+J.toString()+"' and '"+F.field.toString()+"'");var x=oy(j);x!==null&&IN(j,F.field,x)}var O=function(M,k){for(var $=0,T=M.filters;$<T.length;$++){var Ee=T[$];if(k.indexOf(Ee.op)>=0)return Ee.op}return null}(j,function(M){switch(M){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(F.op));if(O!==null)throw O===F.op?new re(B.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+F.op.toString()+"' filter."):new re(B.INVALID_ARGUMENT,"Invalid query. You cannot use '"+F.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,C),C}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new rr(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new yi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(Pc),BU=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return Ce(t,e),t.prototype._apply=function(n){var i=function(o,s,a){if(o.startAt!==null)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Ys(s,a);return function(f,d){if(oy(f)===null){var p=sy(f);p!==null&&IN(f,p,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new rr(n.firestore,n.converter,function(o,s){var a=o.explicitOrderBy.concat([s]);return new yi(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Pc),WE=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=i,s.Jc=o,s}return Ce(t,e),t.prototype._apply=function(n){return new rr(n.firestore,n.converter,YS(n._query,this.Hc,this.Jc))},t}(Pc),QE=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return Ce(t,e),t.prototype._apply=function(n){var i=_N(n,this.type,this.Yc,this.Xc);return new rr(n.firestore,n.converter,function(o,s){return new yi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,i))},t}(Pc),YE=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return Ce(t,e),t.prototype._apply=function(n){var i=_N(n,this.type,this.Yc,this.Xc);return new rr(n.firestore,n.converter,function(o,s){return new yi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,i))},t}(Pc);function _N(e,t,n,i){if(n[0]=$t(n[0]),n[0]instanceof pc)return function(s,a,l,f,d){if(!f)throw new re(B.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],m=0,g=cu(s);m<g.length;m++){var b=g[m];if(b.field.isKeyField())p.push(Mf(a,f.key));else{var I=f.data.field(b.field);if(ny(I))throw new re(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(I===null){var A=b.field.canonicalString();throw new re(B.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+A+"' (used as the orderBy) does not exist.")}p.push(I)}}return new ac(p,d)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=cs(e.firestore);return function(s,a,l,f,d,p){var m=s.explicitOrderBy;if(d.length>m.length)throw new re(B.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],b=0;b<d.length;b++){var I=d[b];if(m[b].field.isKeyField()){if(typeof I!="string")throw new re(B.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof I);if(!uy(s)&&I.indexOf("/")!==-1)throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+I+"' contains a slash.");var A=s.path.child(ut.fromString(I));if(!Te.isDocumentKey(A))throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+A+"' is not because it contains an odd number of segments.");var P=new Te(A);g.push(Mf(a,P))}else{var C=vN(l,f,I);g.push(C)}}return new ac(g,p)}(e._query,e.firestore._databaseId,o,t,n,i)}function XE(e,t,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!uy(t)&&n.indexOf("/")!==-1)throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(ut.fromString(n));if(!Te.isDocumentKey(i))throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Mf(e,new Te(i))}if(n instanceof St)return Mf(e,n._key);throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+jh(n)+".")}function JE(e,t){if(!Array.isArray(e)||e.length===0)throw new re(B.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new re(B.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function IN(e,t,n){if(!n.isEqual(t))throw new re(B.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uy=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Xo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(uu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Ie()}},e.prototype.convertObject=function(t,n){var i=this,o={};return is(t.fields,function(s,a){o[s]=i.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new Uh(Ut(t.latitude),Ut(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=HS(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(sc(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=to(t);return new Un(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=ut.fromString(t);De(wA(i));var o=new Gf(i.get(1),i.get(3)),s=new Te(i.popFirst(5));return o.isEqual(n)||Bt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var $U=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Ce(t,e),t.prototype.convertBytes=function(n){return new es(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,i)},t}(Uy),qU=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=cs(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=qi(t,this._firestore),s=$h(o.converter,n,i),a=Bh(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,bn.none())),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var a,l=qi(t,this._firestore);return a=typeof(n=$t(n))=="string"||n instanceof zr?Vy(this._dataReader,"WriteBatch.update",l._key,n,i,o):My(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,bn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=qi(t,this._firestore);return this._mutations=this._mutations.concat(new Rc(n._key,bn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new re(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(e,t){if((e=$t(e)).firestore!==t)throw new re(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zo=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Ce(t,e),t.prototype.convertBytes=function(n){return new es(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,i)},t}(Uy);function ZE(e,t,n){e=lt(e,St);var i=lt(e.firestore,Gt),o=$h(e.converter,t,n);return Lc(i,[Bh(cs(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,bn.none())])}function e1(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=lt(e,St);var s=lt(e.firestore,Gt),a=cs(s);return Lc(s,[(typeof(t=$t(t))=="string"||t instanceof zr?Vy(a,"updateDoc",e._key,t,n,i):My(a,"updateDoc",e._key,t)).toMutation(e._key,bn.exists(!0))])}function EN(e){for(var t,n,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=$t(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||bu(o[l])||(a=o[l],l++);var f,d,p,m={includeMetadataChanges:a.includeMetadataChanges};if(bu(o[l])){var g=o[l];o[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),o[l+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),o[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}if(e instanceof St)d=lt(e.firestore,Gt),p=Nc(e._key.path),f={next:function(A){o[l]&&o[l](zm(d,e,A))},error:o[l+1],complete:o[l+2]};else{var b=lt(e,rr);d=lt(b.firestore,Gt),p=b._query;var I=new zo(d);f={next:function(A){o[l]&&o[l](new $i(d,I,b,A))},error:o[l+1],complete:o[l+2]},bN(e._query)}return function(A,P,C,j){var F=this,J=new Vh(j),x=new Sy(P,J,C);return A.asyncQueue.enqueueAndForget(function(){return te(F,void 0,void 0,function(){var O;return Z(this,function(M){switch(M.label){case 0:return O=Iy,[4,wu(A)];case 1:return[2,O.apply(void 0,[M.sent(),x])]}})})}),function(){J.Wo(),A.asyncQueue.enqueueAndForget(function(){return te(F,void 0,void 0,function(){var O;return Z(this,function(M){switch(M.label){case 0:return O=Ey,[4,wu(A)];case 1:return[2,O.apply(void 0,[M.sent(),x])]}})})})}}(yn(d),p,m,f)}function Lc(e,t){return function(n,i){var o=this,s=new qn;return n.asyncQueue.enqueueAndForget(function(){return te(o,void 0,void 0,function(){var a;return Z(this,function(l){switch(l.label){case 0:return a=iU,[4,iN(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,s])]}})})}),s.promise}(yn(e),t)}function zm(e,t,n){var i=n.docs.get(t._key),o=new zo(e);return new fi(e,o,t._key,i,new Bo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KU=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return Ce(t,e),t.prototype.get=function(n){var i=this,o=qi(n,this._firestore),s=new zo(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new fi(i._firestore,s,o._key,a._document,new Bo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=cs(t)}return e.prototype.get=function(t){var n=this,i=qi(t,this._firestore),o=new $U(this._firestore);return this._transaction.lookup([i._key]).then(function(s){if(!s||s.length!==1)return Ie();var a=s[0];if(a.isFoundDocument())return new pc(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new pc(n._firestore,o,i._key,null,i.converter);throw Ie()})},e.prototype.set=function(t,n,i){var o=qi(t,this._firestore),s=$h(o.converter,n,i),a=Bh(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a,l=qi(t,this._firestore);return a=typeof(n=$t(n))=="string"||n instanceof zr?Vy(this._dataReader,"Transaction.update",l._key,n,i,o):My(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=qi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){if(typeof Uint8Array>"u")throw new re(B.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function n1(){if(typeof atob>"u")throw new re(B.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var TN=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return n1(),new e(es.fromBase64String(t))},e.fromUint8Array=function(t){return t1(),new e(es.fromUint8Array(t))},e.prototype.toBase64=function(){return n1(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return t1(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),HU=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){GE(i=lt(i,Gt));var s=yn(i),a=i._freezeSettings(),l=new Km;return zE(s,l,new eN(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){GE(n=lt(n,Gt));var i=yn(n),o=n._freezeSettings(),s=new Km;return zE(i,s,new wU(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new re(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new qn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return te(i,void 0,void 0,function(){var s;return Z(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return te(this,void 0,void 0,function(){var f;return Z(this,function(d){switch(d.label){case 0:return pu.yt()?(f=l+"main",[4,pu.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(my(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return s=a.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),SN=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Gf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Pf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,s,a,l){var f;l===void 0&&(l={});var d=(o=lt(o,dc))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==s&&Pf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:s+":"+a,ssl:!1})),l.mockUserToken){var p,m;if(typeof l.mockUserToken=="string")p=l.mockUserToken,m=an.MOCK_USER;else{p=dM(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var g=l.mockUserToken.sub||l.mockUserToken.user_id;if(!g)throw new re(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new an(g)}o._credentials=new TU(new oN(p,m))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return te(n,void 0,void 0,function(){var i,o;return Z(this,function(s){switch(s.label){case 0:return[4,ME(t)];case 1:return i=s.sent(),[4,VE(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=de(a);return l.Or.delete(0),xc(l)}(o))]}})})})}(yn(lt(this._delegate,Gt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return te(n,void 0,void 0,function(){var i,o;return Z(this,function(s){switch(s.label){case 0:return[4,ME(t)];case 1:return i=s.sent(),[4,VE(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!1),function(a){return te(this,void 0,void 0,function(){var l;return Z(this,function(f){switch(f.label){case 0:return(l=de(a)).Or.add(0),[4,Lu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(yn(lt(this._delegate,Gt)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&sN("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new qn;return t.asyncQueue.enqueueAndForget(function(){return te(n,void 0,void 0,function(){var o;return Z(this,function(s){switch(s.label){case 0:return o=aU,[4,iN(t)];case 1:return[2,o.apply(void 0,[s.sent(),i])]}})})}),i.promise}(yn(lt(this._delegate,Gt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,s){var a=this,l=new Vh(s);return o.asyncQueue.enqueueAndForget(function(){return te(a,void 0,void 0,function(){var f;return Z(this,function(d){switch(d.label){case 0:return f=function(p,m){de(p).Gr.add(m),m.next()},[4,wu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return te(a,void 0,void 0,function(){var f;return Z(this,function(d){switch(d.label){case 0:return f=function(p,m){de(p).Gr.delete(m)},[4,wu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(yn(n=lt(n,Gt)),bu(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new re(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Yf(this,uN(this._delegate,t))}catch(n){throw Cn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Go(this,mf(this._delegate,t))}catch(n){throw Cn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Hh(this,function(n,i){if(n=lt(n,dc),xy("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new re(B.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new rr(n,null,function(o){return new yi(ut.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw Cn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(s,a){var l=this,f=new qn;return s.asyncQueue.enqueueAndForget(function(){return te(l,void 0,void 0,function(){var d;return Z(this,function(p){switch(p.label){case 0:return[4,function(m){return Fh(m).then(function(g){return g.datastore})}(s)];case 1:return d=p.sent(),new _U(s.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(yn(i),function(s){return o(new KU(i,s))})}(this._delegate,function(i){return t(new AN(n,i))})},e.prototype.batch=function(){var t=this;return yn(this._delegate),new NN(new qU(this._delegate,function(n){return Lc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new re(B.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new re(B.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),qh=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Ce(t,e),t.prototype.convertBytes=function(n){return new TN(new es(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Go.eu(i,this.firestore,null)},t}(Uy);function zU(e){var t;t=e,Ar.setLogLevel(t)}var AN=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new qh(t)}return e.prototype.get=function(t){var n=this,i=$o(t);return this._delegate.get(i).then(function(o){return new vc(n._firestore,new fi(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=$o(t);return i?(Py("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=$o(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,kt([l,n,i],s)),this},e.prototype.delete=function(t){var n=$o(t);return this._delegate.delete(n),this},e}(),NN=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=$o(t);return i?(Py("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=$o(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,kt([l,n,i],s)),this},e.prototype.delete=function(t){var n=$o(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Kh=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Ua(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new mc(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var s=o.get(n);return s||(s=new e(t,new qh(t),n),o.set(n,s)),s},e}();Kh.su=new WeakMap;var Go=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new qh(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new re(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new St(n._delegate,i,new Te(t)))},e.eu=function(t,n,i){return new e(n,new St(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Yf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Yf(this.firestore,uN(this._delegate,t))}catch(n){throw Cn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=$t(t))instanceof St&&aN(this._delegate,t)},e.prototype.set=function(t,n){n=Py("DocumentReference.set",n);try{return n?ZE(this._delegate,t,n):ZE(this._delegate,t)}catch(i){throw Cn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?e1(this._delegate,t):e1.apply(void 0,kt([this._delegate,t,n],i))}catch(s){throw Cn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Lc(lt((t=this._delegate).firestore,Gt),[new Rc(t._key,bn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=CN(n),s=kN(n,function(a){return new vc(t.firestore,new fi(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return EN(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=lt(i,St);var o=lt(i.firestore,Gt),s=yn(o),a=new zo(o);return function(l,f){var d=this,p=new qn;return l.asyncQueue.enqueueAndForget(function(){return te(d,void 0,void 0,function(){var m;return Z(this,function(g){switch(g.label){case 0:return m=function(b,I,A){return te(this,void 0,void 0,function(){var P,C;return Z(this,function(j){switch(j.label){case 0:return j.trys.push([0,2,,3]),[4,function(F,J){var x=de(F);return x.persistence.runTransaction("read document","readonly",function(O){return x.Mn.mn(O,J)})}(b,I)];case 1:return(C=j.sent()).isFoundDocument()?A.resolve(C):C.isNoDocument()?A.resolve(null):A.reject(new re(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return P=j.sent(),C=Fu(P,"Failed to get document '"+I+" from cache"),A.reject(C),[3,3];case 3:return[2]}})})},[4,rN(l)];case 1:return[2,m.apply(void 0,[g.sent(),f,p])]}})})}),p.promise}(s,i._key).then(function(l){return new fi(o,a,i._key,l,new Bo(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=lt(i,St);var o=lt(i.firestore,Gt);return FE(yn(o),i._key,{source:"server"}).then(function(s){return zm(o,i,s)})}(this._delegate):function(i){i=lt(i,St);var o=lt(i.firestore,Gt);return FE(yn(o),i._key).then(function(s){return zm(o,i,s)})}(this._delegate)).then(function(i){return new vc(n.firestore,new fi(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Kh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Cn(e,t,n){return e.message=e.message.replace(t,n),e}function CN(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!bu(i))return i}return{}}function kN(e,t){var n,i,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=bu(e[0])?e[0]:bu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var vc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Go(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return wN(this._delegate,t._delegate)},e}(),mc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(vc),Hh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new qh(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,Ri(this._delegate,function(o,s,a){var l=s,f=Qf("where",o);return new UU(f,l,a)}(t,n,i)))}catch(o){throw Cn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ri(this._delegate,function(i,o){o===void 0&&(o="asc");var s=o,a=Qf("orderBy",i);return new BU(a,s)}(t,n)))}catch(i){throw Cn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ri(this._delegate,function(n){return KE("limit",n),new WE("limit",n,"F")}(t)))}catch(n){throw Cn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ri(this._delegate,function(n){return KE("limitToLast",n),new WE("limitToLast",n,"L")}(t)))}catch(n){throw Cn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ri(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new QE("startAt",i,!0)}.apply(void 0,t)))}catch(i){throw Cn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ri(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new QE("startAfter",i,!1)}.apply(void 0,t)))}catch(i){throw Cn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ri(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new YE("endBefore",i,!0)}.apply(void 0,t)))}catch(i){throw Cn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ri(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new YE("endAt",i,!1)}.apply(void 0,t)))}catch(i){throw Cn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return cN(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=lt(i,rr);var o=lt(i.firestore,Gt),s=yn(o),a=new zo(o);return function(l,f){var d=this,p=new qn;return l.asyncQueue.enqueueAndForget(function(){return te(d,void 0,void 0,function(){var m;return Z(this,function(g){switch(g.label){case 0:return m=function(b,I,A){return te(this,void 0,void 0,function(){var P,C,j,F,J;return Z(this,function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),[4,Kf(b,I,!0)];case 1:return J=x.sent(),P=new QA(I,J.Bn),C=P._o(J.documents),j=P.applyChanges(C,!1),A.resolve(j.snapshot),[3,3];case 2:return F=x.sent(),J=Fu(F,"Failed to execute query '"+I+" against cache"),A.reject(J),[3,3];case 3:return[2]}})})},[4,rN(l)];case 1:return[2,m.apply(void 0,[g.sent(),f,p])]}})})}),p.promise}(s,i._query).then(function(l){return new $i(o,a,i,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=lt(i,rr);var o=lt(i.firestore,Gt),s=yn(o),a=new zo(o);return jE(s,i._query,{source:"server"}).then(function(l){return new $i(o,a,i,l)})}(this._delegate):function(i){i=lt(i,rr);var o=lt(i.firestore,Gt),s=yn(o),a=new zo(o);return bN(i._query),jE(s,i._query).then(function(l){return new $i(o,a,i,l)})}(this._delegate)).then(function(i){return new Gm(n.firestore,new $i(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=CN(n),s=kN(n,function(a){return new Gm(t.firestore,new $i(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return EN(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Kh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),GU=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new mc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Gm=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Hh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new mc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new GU(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new mc(i._firestore,o))})},e.prototype.isEqual=function(t){return wN(this._delegate,t._delegate)},e}(),Yf=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return Ce(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Go(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Go(this.firestore,n===void 0?mf(this._delegate):mf(this._delegate,n))}catch(i){throw Cn(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,s){var a=lt(o.firestore,Gt),l=mf(o),f=$h(o.converter,s);return Lc(a,[Bh(cs(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,bn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Go(i.firestore,o)})},t.prototype.isEqual=function(n){return aN(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Kh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Hh);function $o(e){return lt(e,St)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WU=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(zr.bind.apply(zr,kt([void 0],t)))}return e.documentId=function(){return new e(Dr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=$t(t))instanceof zr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),QU=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new xU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ly("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new PU("arrayUnion",o)}.apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new LU("arrayRemove",o)}.apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new MU("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),YU={Firestore:SN,GeoPoint:Uh,Timestamp:Un,Blob:TN,Transaction:AN,WriteBatch:NN,DocumentReference:Go,DocumentSnapshot:vc,Query:Hh,QueryDocumentSnapshot:mc,QuerySnapshot:Gm,CollectionReference:Yf,FieldPath:WU,FieldValue:QU,setLogLevel:zU,CACHE_SIZE_UNLIMITED:kU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(e){(function(t,n){t.INTERNAL.registerComponent(new mh("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},YU)))})(e,function(t,n){return new SN(t,new Gt(t,n),new HU)}),e.registerVersion("@firebase/firestore","2.4.1")}XU(xe);const JU={apiKey:"AIzaSyBXoXGXAc7kxUr-Qh8S-NU-vQVoJAmWapw",authDomain:"takenote-app-281c4.firebaseapp.com",projectId:"takenote-app-281c4",storageBucket:"takenote-app-281c4.appspot.com",messagingSenderId:"590311108266",appId:"1:590311108266:web:ea443cdf91dfee0756aad3"};xe.initializeApp(JU);const ai=xe.auth(),By=xe.firestore(),ZU=By.collection("users"),Ba=By.collection("labels"),Xs=By.collection("notes"),$y=bT("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await ai.createUserWithEmailAndPassword(e.email,e.password);await ZU.doc(t.user.uid).set({username:e.username,email:e.email}),await t.user.updateProfile({displayName:e.username}),this.userLoggedIn=!0},async authenticate(e){await ai.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signout(){await ai.signOut(),this.userLoggedIn=!1}}});const e2={name:"Login",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:100"},login_in_submission:!1,login_show_alert:!1,login_alert_msg:"Please wait! We are logging you in."}},methods:{...gi($y,["authenticate"]),async login(e){this.login_show_alert=!0,this.login_in_submission=!0,this.login_alert_msg="Please wait! We are logging you in.";try{await this.authenticate(e),_u.push("/TakeNote"),console.log("login")}catch(t){switch(this.login_in_submission=!1,console.log(t.code),t.code){case"auth/user-not-found":this.login_alert_msg="User not found";break;case"auth/wrong-password":this.login_alert_msg="Wrong password";break;case"auth/missing-email":this.login_alert_msg="Please input an email address";break;case"auth/missing-password":this.login_alert_msg="Please input a password";break;case"auth/admin-restricted-operation":this.login_alert_msg="Please input necessary details";break;default:this.login_alert_msg="Something went wrong"}return}}}},t2={class:"form-container"},n2={class:"logo-wrapper"},r2=L("img",{src:vh,alt:"Logo",class:"logo-img"},null,-1),i2=L("p",{class:"login-register__text"},"Never forget the important things again.",-1),o2={key:0,class:"error-text login-error-text"},s2={class:"inputs"},u2={class:"input"},a2={class:"input"},c2={class:"signin-signup__wrapper"},l2=L("p",null,"Don't have an account?",-1);function f2(e,t,n,i,o,s){const a=$e("router-link"),l=$e("vee-field"),f=$e("ErrorMessage"),d=$e("base-button"),p=$e("vee-form");return Oe(),ot("div",t2,[Se(p,{"validation-schema":o.loginSchema,class:"login-form",onSubmit:s.login},{default:st(()=>[L("div",n2,[Se(a,{to:{name:"Home"}},{default:st(()=>[r2]),_:1})]),i2,o.login_show_alert?(Oe(),ot("p",o2,Ir(o.login_alert_msg),1)):Jt("",!0),L("div",s2,[L("div",u2,[Se(l,{name:"email",type:"email",placeholder:"Email",class:"email"})]),Se(f,{class:"error-text",name:"email"}),L("div",a2,[Se(l,{name:"password",type:"password",placeholder:"Password"})]),Se(f,{class:"error-text",name:"password"}),Se(d,{class:"login-register-btn yellow",type:"submit",onClick:s.login},{default:st(()=>[mn("Log in")]),_:1},8,["onClick"])]),L("div",c2,[l2,Se(a,{to:{name:"Register"}},{default:st(()=>[mn("Sign up")]),_:1})])]),_:1},8,["validation-schema","onSubmit"])])}const h2=Kt(e2,[["render",f2]]);const d2={name:"Register",data(){return{schema:{username:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",password:"required|min:9|max:100",confirm_password:"password_mismatch:@password"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_msg:"Please wait! Your account is being created."}},methods:{...gi($y,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_msg="Please wait! Your account is being created.";try{await this.createUser(e),_u.push("/login")}catch(t){switch(console.log(t.code),t.code){case"auth/email-already-in-use":this.reg_alert_msg="Email already in use";break;case"auth/invalid-email":this.reg_alert_msg="Invalid email";break;case"auth/operation-not-allowed":this.reg_alert_msg="Operation not allowed";break;case"auth/weak-password":this.reg_alert_msg="Weak password";break;case"auth/missing-email":this.reg_alert_msg="Please input an email address";break;case"auth/missing-password":this.reg_alert_msg="Please input a password";break;case"auth/admin-restricted-operation":this.reg_alert_msg="Please input necessary details";break;default:this.reg_alert_msg="Something went wrong"}return}}}},qy=e=>(dr("data-v-5a29ffa6"),e=e(),pr(),e),p2={class:"form-container"},v2={class:"logo-wrapper"},m2=qy(()=>L("img",{src:vh,alt:"Logo",class:"logo-img"},null,-1)),g2=qy(()=>L("p",{class:"login-register__text"},"Never forget the important things again.",-1)),y2={key:0,class:"error-text reg-error-text"},w2={class:"inputs"},b2={class:"input"},_2={class:"input"},I2={class:"input"},E2={class:"input"},T2={class:"signin-signup__wrapper"},S2=qy(()=>L("p",null,"Already have an account?",-1));function A2(e,t,n,i,o,s){const a=$e("router-link"),l=$e("vee-field"),f=$e("ErrorMessage"),d=$e("base-button"),p=$e("vee-form");return Oe(),ot("div",p2,[Se(p,{"validation-schema":o.schema,class:"register-form",onSubmit:s.register},{default:st(()=>[L("div",v2,[Se(a,{to:{name:"Home"}},{default:st(()=>[m2]),_:1})]),g2,o.reg_show_alert?(Oe(),ot("p",y2,Ir(o.reg_alert_msg),1)):Jt("",!0),L("div",w2,[L("div",b2,[Se(l,{name:"username",type:"text",placeholder:"Username"})]),Se(f,{class:"error-text",name:"username"}),L("div",_2,[Se(l,{name:"email",type:"email",placeholder:"Email"})]),Se(f,{class:"error-text",name:"email"}),L("div",I2,[Se(l,{name:"password",bails:!1},{default:st(({field:m,errors:g})=>[L("input",dT({type:"password",placeholder:"Enter a password (9 characters or more)"},m),null,16),(Oe(!0),ot(cn,null,wg(g,b=>(Oe(),ot("div",{class:"error-text",key:b},Ir(b),1))),128))]),_:1})]),L("div",E2,[Se(l,{name:"confirm_password",type:"password",placeholder:"Confirm Password"})]),Se(f,{class:"error-text",name:"confirm_password"}),Se(d,{class:"login-register-btn purple",type:"submit"},{default:st(()=>[mn("Sign up")]),_:1})]),L("div",T2,[S2,Se(a,{to:{name:"Login"}},{default:st(()=>[mn("Sign in")]),_:1})])]),_:1},8,["validation-schema","onSubmit"])])}const N2=Kt(d2,[["render",A2],["__scopeId","data-v-5a29ffa6"]]);const C2={},ON=e=>(dr("data-v-09d17ba7"),e=e(),pr(),e),k2={class:"form-container"},O2={class:"reset-form"},D2=ON(()=>L("h3",null,"Reset Password",-1)),R2=ON(()=>L("p",null,"Enter your email to reset it",-1)),x2={class:"inputs"},P2={class:"input"};function L2(e,t,n,i,o,s){const a=$e("base-button");return Oe(),ot("div",k2,[L("form",O2,[D2,R2,L("div",x2,[L("div",P2,[Zs(L("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=l=>e.email=l)},null,512),[[hh,e.email]])]),Se(a,{class:"login-register-btn gray"},{default:st(()=>[mn("Reset")]),_:1})])])])}const M2=Kt(C2,[["render",L2],["__scopeId","data-v-09d17ba7"]]),V2="/assets/404-adafd8c9.svg";const F2={name:"PageNotFound"},j2={class:"pageNotFound__container"},U2=Tg('<div class="image__wrapper" data-v-161fa74f><img src="'+V2+'" data-v-161fa74f></div><div class="text__wrapper" data-v-161fa74f><p class="titleText" data-v-161fa74f>Page not found</p><p class="contentText" data-v-161fa74f> The page you are looking for doesn&#39;t exist or an error occurred, go back to home page. </p></div>',2);function B2(e,t,n,i,o,s){const a=$e("router-link");return Oe(),ot("div",j2,[L("div",null,[U2,Se(a,{to:{name:"Home"},class:"signup"},{default:st(()=>[mn("Go Back")]),_:1})])])}const $2=Kt(F2,[["render",B2],["__scopeId","data-v-161fa74f"]]),pi=bT("modal",{state:()=>({isOpen:!1,modalAnimation:!1,inputLabelModal:!1,updateLabelModal:!1,updateLabelID:null,updateLabelText:"",inputNoteModal:!1,updateNoteModal:!1,updateID:null,updateColor:"yellow",updateNoteTitle:"",updateDate:"",updateContent:"",confirmDeleteFolder:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}},actions:{closeAll(){this.isOpen=!1,this.modalAnimation=!1,this.inputLabelModal=!1,this.updateLabelModal=!1,this.inputNoteModal=!1,this.updateNoteModal=!1,this.confirmDeleteFolder=!1},showInputLabelModal(){this.isOpen=!0,this.modalAnimation=!0,this.inputLabelModal=!0},showUpdateLabelModal(){this.isOpen=!0,this.modalAnimation=!0,this.updateLabelModal=!0},showInputNoteModal(){this.isOpen=!0,this.modalAnimation=!0,this.inputNoteModal=!0},showUpdateNoteModal(e,t,n,i,o){this.isOpen=!0,this.modalAnimation=!0,this.updateNoteModal=!0,this.updateID=e,this.updateColor=t,this.updateNoteTitle=n,this.updateDate=i,this.updateContent=o},showConfirmDeleteFolder(){this.isOpen=!0,this.modalAnimation=!0,this.confirmDeleteFolder=!0}}});const q2={name:"ModalWrapper",computed:{..._T(pi,["hiddenClass","modalAnimation"])}},K2=e=>(dr("data-v-cdccd2fd"),e=e(),pr(),e),H2=K2(()=>L("div",{class:"blanket-wrapper"},[L("div")],-1));function z2(e,t,n,i,o,s){return Oe(),ot("div",{class:kr(["modalWrapper__container",e.hiddenClass])},[H2,L("div",{class:kr(["modal-container",{show:e.modalAnimation,"":!e.modalAnimation}])},[bg(e.$slots,"default",{},void 0,!0)],2)],2)}const Mc=Kt(q2,[["render",z2],["__scopeId","data-v-cdccd2fd"]]);const G2={name:"InputLabel",components:{ModalWrapper:Mc},data(){return{schema:{foldername:"required|alpha_spaces"},labelTitle:"",labels:[]}},methods:{...gi(pi,["closeAll"]),async upload(e){const t=new Date,n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,weekday:"short"},i=t.toLocaleString("en-US",n),o={uid:ai.currentUser.uid,labelTitle:e.foldername,date:i};this.labels.push(o),console.log(this.labels),await Ba.add(o),this.labelTitle="",this.closeAll(),this.$emit("display-label")}}},DN=e=>(dr("data-v-8c96edd3"),e=e(),pr(),e),W2={class:"inputLabel__container"},Q2=DN(()=>L("p",null,"Input Folder Name",-1)),Y2={class:"input"},X2={class:"btn__wrapper"},J2=DN(()=>L("button",{class:"btnSave",type:"submit"},"Save",-1));function Z2(e,t,n,i,o,s){const a=$e("ErrorMessage"),l=$e("vee-field"),f=$e("vee-form"),d=$e("modal-wrapper");return Oe(),un(d,null,{default:st(()=>[Se(f,{"validation-schema":o.schema,onSubmit:s.upload},{default:st(()=>[L("div",W2,[Q2,Se(a,{class:"error-text",name:"foldername"}),L("div",Y2,[Se(l,{ref:"labelInput",name:"foldername",type:"text",placeholder:"Enter folder name",modelValue:o.labelTitle,"onUpdate:modelValue":t[0]||(t[0]=p=>o.labelTitle=p)},null,8,["modelValue"])]),L("div",X2,[J2,L("button",{class:"btnCancel",onClick:t[1]||(t[1]=Be((...p)=>e.closeAll&&e.closeAll(...p),["prevent"]))},"Cancel")])])]),_:1},8,["validation-schema","onSubmit"])]),_:1})}const eB=Kt(G2,[["render",Z2],["__scopeId","data-v-8c96edd3"]]);const tB={props:["labelID","updateTitle"],name:"UpdateLabel",components:{ModalWrapper:Mc},data(){return{schema:{labelTitle:"required|alpha_spaces"},labelTitle:this.updateTitle,labels:[]}},created(){console.log(this.labelID),console.log(this.updateTitle)},methods:{...gi(pi,["closeAll"]),async upload(e){const t=new Date,n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,weekday:"short"},i=t.toLocaleString("en-US",n),o={labelTitle:e.labelTitle,date:i};this.labels.push(o),console.log(this.labels),await Ba.doc(this.labelID).update(o),this.labelTitle="",this.closeAll(),this.$emit("display-label")}}},RN=e=>(dr("data-v-df1c7d7b"),e=e(),pr(),e),nB={class:"inputLabel__container"},rB=RN(()=>L("p",null,"Update Folder Name",-1)),iB={class:"input"},oB={class:"btn__wrapper"},sB=RN(()=>L("button",{class:"btnSave",type:"submit"},"Update",-1));function uB(e,t,n,i,o,s){const a=$e("vee-field"),l=$e("vee-form"),f=$e("modal-wrapper");return Oe(),un(f,null,{default:st(()=>[Se(l,{"validation-schema":o.schema,onSubmit:s.upload},{default:st(()=>[L("div",nB,[rB,L("div",iB,[Se(a,{ref:"labelInput",name:"labelTitle",type:"text",placeholder:"Enter folder name",modelValue:o.labelTitle,"onUpdate:modelValue":t[0]||(t[0]=d=>o.labelTitle=d)},null,8,["modelValue"])]),L("div",oB,[sB,L("button",{class:"btnCancel",onClick:t[1]||(t[1]=Be((...d)=>e.closeAll&&e.closeAll(...d),["prevent"]))},"Cancel")])])]),_:1},8,["validation-schema","onSubmit"])]),_:1})}const aB=Kt(tB,[["render",uB],["__scopeId","data-v-df1c7d7b"]]);const cB={props:["noteLabelID"],components:{ModalWrapper:Mc},name:"InputNote",data(){return{noteOption:!1,colorActive:"yellow",titleContent:"",content:"",placeholder:"Take a note...",labelId:this.labelID}},computed:{},methods:{...gi(pi,["closeAll"]),toggleNoteOptions(){this.noteOption=!this.noteOption},pickColor(e){this.colorActive=e,this.noteOption=!1},autoResize(){const e=this.$refs.myTextarea;e.style.height="1.5rem",e.style.height=`${e.scrollHeight}px`},editText(e){const t=window.getSelection(),n=t.toString();if(this.$refs.editableText.contains(t.anchorNode))if(n.length>0)document.execCommand(e,!1,null);else{const o=t.getRangeAt(0),s=document.createElement("span");s.classList.add(e),s.appendChild(o.extractContents()),o.insertNode(s)}},applyEdit(e){this.editText(e)},async save(){if(this.titleContent===""){this.closeAll();return}else{const o=this.$refs.editableText;o.innerHTML==="Take a note..."?(this.content=" ",console.log(this.content)):(this.content=o.innerHTML,console.log(this.content))}const e=new Date,t={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,weekday:"short"},n=e.toLocaleString("en-US",t),i={lid:this.noteLabelID,noteTitle:this.titleContent,date:n,color:this.colorActive,content:this.content};await Xs.add(i),this.$emit("display-note"),this.closeAll()},handleInput(e){this.content=e.target.innerHTML},handleFocus(e){e.target.innerHTML===this.placeholder&&(e.target.innerHTML="")},handleBlur(e){e.target.innerHTML===""&&(e.target.innerHTML=this.placeholder)}},mounted(){this.$refs.myTextarea.focus(),this.autoResize();const e=this.$refs.editableText;e.innerHTML===""&&(e.innerHTML=this.placeholder)}},zh=e=>(dr("data-v-d67dd64c"),e=e(),pr(),e),lB={key:0,class:"noteOption__wrapper"},fB={class:"color__wrapper"},hB={class:"noteList-header__wrapper"},dB={class:"btnStyling__wrapper"},pB=zh(()=>L("span",{class:"material-symbols-outlined"}," format_bold ",-1)),vB=[pB],mB=zh(()=>L("span",{class:"material-symbols-outlined"}," format_italic ",-1)),gB=[mB],yB=zh(()=>L("span",{class:"material-symbols-outlined"}," format_underlined ",-1)),wB=[yB],bB=zh(()=>L("span",{class:"material-symbols-outlined"}," strikethrough_s ",-1)),_B=[bB];function IB(e,t,n,i,o,s){const a=$e("vee-form"),l=$e("modal-wrapper");return Oe(),un(l,null,{default:st(()=>[Se(a,{class:"noteList__wrapper",onSubmit:s.save},{default:st(()=>[L("div",{class:kr(["top-color",o.colorActive])},[L("span",{class:"material-symbols-outlined",onClick:t[0]||(t[0]=Be((...f)=>s.toggleNoteOptions&&s.toggleNoteOptions(...f),["prevent"]))}," more_horiz "),L("span",{class:"material-symbols-outlined",onClick:t[1]||(t[1]=Be((...f)=>s.save&&s.save(...f),["prevent"]))}," close ")],2),o.noteOption?(Oe(),ot("div",lB,[L("div",fB,[L("div",{class:"yellow",onClick:t[2]||(t[2]=Be(f=>s.pickColor("yellow"),["prevent"]))}),L("div",{class:"green",onClick:t[3]||(t[3]=Be(f=>s.pickColor("green"),["prevent"]))}),L("div",{class:"red",onClick:t[4]||(t[4]=Be(f=>s.pickColor("red"),["prevent"]))}),L("div",{class:"blue",onClick:t[5]||(t[5]=Be(f=>s.pickColor("blue"),["prevent"]))}),L("div",{class:"purple",onClick:t[6]||(t[6]=Be(f=>s.pickColor("purple"),["prevent"]))}),L("div",{class:"gray",onClick:t[7]||(t[7]=Be(f=>s.pickColor("gray"),["prevent"]))})])])):Jt("",!0),L("div",hB,[Zs(L("textarea",{ref:"myTextarea","onUpdate:modelValue":t[8]||(t[8]=f=>o.titleContent=f),class:"title-textarea",onInput:t[9]||(t[9]=(...f)=>s.autoResize&&s.autoResize(...f)),onKeydown:t[10]||(t[10]=(...f)=>s.autoResize&&s.autoResize(...f)),placeholder:"Input Title"},null,544),[[hh,o.titleContent]])]),L("div",{ref:"editableText",class:"noteList-content__wrapper",contenteditable:"",onInput:t[11]||(t[11]=(...f)=>s.handleInput&&s.handleInput(...f)),onFocus:t[12]||(t[12]=(...f)=>s.handleFocus&&s.handleFocus(...f)),onBlur:t[13]||(t[13]=(...f)=>s.handleBlur&&s.handleBlur(...f)),id:"editable-text"},null,544),L("div",dB,[L("button",{onClick:t[14]||(t[14]=Be(f=>s.applyEdit("bold"),["prevent"]))},vB),L("button",{onClick:t[15]||(t[15]=Be(f=>s.applyEdit("italic"),["prevent"]))},gB),L("button",{onClick:t[16]||(t[16]=Be(f=>s.applyEdit("underline"),["prevent"]))},wB),L("button",{onClick:t[17]||(t[17]=Be(f=>s.applyEdit("strikethrough"),["prevent"]))},_B)])]),_:1},8,["onSubmit"])]),_:1})}const EB=Kt(cB,[["render",IB],["__scopeId","data-v-d67dd64c"]]);const TB={props:["noteID","color","title","date","noteContent"],components:{ModalWrapper:Mc},name:"UpdateNote",data(){return{noteOption:!1,colorActive:this.color,previousColor:this.color,titleContent:this.title,previousTitle:this.title,content:this.noteContent,labelId:this.noteID}},created(){console.log(this.content)},computed:{},methods:{...gi(pi,["closeAll"]),toggleNoteOptions(){this.noteOption=!this.noteOption},pickColor(e){this.colorActive=e,this.noteOption=!1},autoResize(){const e=this.$refs.myTextarea;e.style.height="1.5rem",e.style.height=`${e.scrollHeight}px`},editText(e){const t=window.getSelection(),n=t.toString();if(this.$refs.editableText.contains(t.anchorNode))if(n.length>0)document.execCommand(e,!1,null);else{const o=t.getRangeAt(0),s=document.createElement("span");s.classList.add(e),s.appendChild(o.extractContents()),o.insertNode(s)}},applyEdit(e){this.editText(e)},async update(){const e=this.$refs.editableText;if(this.previousTitle===this.titleContent&&this.content===e.innerHTML&&this.previousColor===this.colorActive){this.closeAll();return}else{const t=this.$refs.editableText;this.content=t.innerHTML,this.content===""?this.content=" ":this.content=t.innerHTML;const n=new Date,i={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,weekday:"short"},o=n.toLocaleString("en-US",i),s={noteTitle:this.titleContent,date:o,color:this.colorActive,content:this.content},a=this.noteID;await Xs.doc(a).update(s),this.$emit("display-note"),this.closeAll()}},async deleteNote(){const e=this.noteID;await Xs.doc(e).delete(),this.$emit("display-note"),this.closeAll()}},mounted(){this.$refs.myTextarea.focus(),this.autoResize();const e=this.$refs.editableText;e.innerHTML===""&&(e.innerHTML=this.placeholder)}},ju=e=>(dr("data-v-c4dc1f57"),e=e(),pr(),e),SB={key:0,class:"noteOption__wrapper"},AB={class:"color__wrapper"},NB=ju(()=>L("span",{class:"material-symbols-outlined"}," delete ",-1)),CB=ju(()=>L("p",null,"Delete Note",-1)),kB=[NB,CB],OB={class:"noteList-header__wrapper"},DB=["innerHTML"],RB={class:"btnStyling__wrapper"},xB=ju(()=>L("span",{class:"material-symbols-outlined"}," format_bold ",-1)),PB=[xB],LB=ju(()=>L("span",{class:"material-symbols-outlined"}," format_italic ",-1)),MB=[LB],VB=ju(()=>L("span",{class:"material-symbols-outlined"}," format_underlined ",-1)),FB=[VB],jB=ju(()=>L("span",{class:"material-symbols-outlined"}," strikethrough_s ",-1)),UB=[jB];function BB(e,t,n,i,o,s){const a=$e("vee-form"),l=$e("modal-wrapper");return Oe(),un(l,null,{default:st(()=>[Se(a,{class:"noteList__wrapper",onSubmit:s.update},{default:st(()=>[L("div",{class:kr(["top-color",o.colorActive])},[L("span",{class:"material-symbols-outlined",onClick:t[0]||(t[0]=Be((...f)=>s.toggleNoteOptions&&s.toggleNoteOptions(...f),["prevent"]))}," more_horiz "),L("span",{class:"material-symbols-outlined",onClick:t[1]||(t[1]=Be((...f)=>s.update&&s.update(...f),["prevent"]))}," close ")],2),o.noteOption?(Oe(),ot("div",SB,[L("div",AB,[L("div",{class:"yellow",onClick:t[2]||(t[2]=Be(f=>s.pickColor("yellow"),["prevent"]))}),L("div",{class:"green",onClick:t[3]||(t[3]=Be(f=>s.pickColor("green"),["prevent"]))}),L("div",{class:"red",onClick:t[4]||(t[4]=Be(f=>s.pickColor("red"),["prevent"]))}),L("div",{class:"blue",onClick:t[5]||(t[5]=Be(f=>s.pickColor("blue"),["prevent"]))}),L("div",{class:"purple",onClick:t[6]||(t[6]=Be(f=>s.pickColor("purple"),["prevent"]))}),L("div",{class:"gray",onClick:t[7]||(t[7]=Be(f=>s.pickColor("gray"),["prevent"]))})]),L("div",{class:"deleteNote__wrapper",onClick:t[8]||(t[8]=Be((...f)=>s.deleteNote&&s.deleteNote(...f),["prevent"]))},kB)])):Jt("",!0),L("div",OB,[Zs(L("textarea",{ref:"myTextarea","onUpdate:modelValue":t[9]||(t[9]=f=>o.titleContent=f),class:"title-textarea",onInput:t[10]||(t[10]=(...f)=>s.autoResize&&s.autoResize(...f)),onKeydown:t[11]||(t[11]=(...f)=>s.autoResize&&s.autoResize(...f)),placeholder:"Input Title"},null,544),[[hh,o.titleContent]])]),L("div",{ref:"editableText",class:"noteList-content__wrapper",contenteditable:"",id:"editable-text",innerHTML:n.noteContent},null,8,DB),L("div",RB,[L("button",{onClick:t[12]||(t[12]=Be(f=>s.applyEdit("bold"),["prevent"]))},PB),L("button",{onClick:t[13]||(t[13]=Be(f=>s.applyEdit("italic"),["prevent"]))},MB),L("button",{onClick:t[14]||(t[14]=Be(f=>s.applyEdit("underline"),["prevent"]))},FB),L("button",{onClick:t[15]||(t[15]=Be(f=>s.applyEdit("strikethrough"),["prevent"]))},UB)])]),_:1},8,["onSubmit"])]),_:1})}const $B=Kt(TB,[["render",BB],["__scopeId","data-v-c4dc1f57"]]);const qB={name:"ConfirmDeleteFolder",components:{ModalWrapper:Mc},methods:{...gi(pi,["closeAll"]),deleteFolder(){this.closeAll(),this.$emit("delete-folder")}}},xN=e=>(dr("data-v-0f000bf6"),e=e(),pr(),e),KB={class:"deleteFolder__container"},HB=xN(()=>L("p",{class:"headingText"},"Folder Deletion",-1)),zB=xN(()=>L("p",{class:"contentText"}," By deleting this folder, all associated notes within it will be permanently deleted as well. This action cannot be undone. ",-1)),GB={class:"btn__wrapper"};function WB(e,t,n,i,o,s){const a=$e("modal-wrapper");return Oe(),un(a,null,{default:st(()=>[L("div",KB,[HB,zB,L("div",GB,[L("button",{class:"btnDelete",onClick:t[0]||(t[0]=Be((...l)=>s.deleteFolder&&s.deleteFolder(...l),["prevent"]))},"Delete"),L("button",{class:"btnCancel",onClick:t[1]||(t[1]=Be((...l)=>e.closeAll&&e.closeAll(...l),["prevent"]))},"Cancel")])])]),_:1})}const QB=Kt(qB,[["render",WB],["__scopeId","data-v-0f000bf6"]]);const YB={props:["notes"],name:"NoteItem",methods:{...gi(pi,["showUpdateNoteModal"])}},XB=["onClick"],JB={class:"noteList-header__wrapper"},ZB={class:"notelist-title"},e$={class:"notelist-date"},t$={class:"noteList-content__wrapper"},n$=["innerHTML"];function r$(e,t,n,i,o,s){return Oe(!0),ot(cn,null,wg(n.notes,a=>(Oe(),ot("li",{class:"noteList__wrapper",key:a.docID,onClick:Be(l=>e.showUpdateNoteModal(a.docID,a.color,a.noteTitle,a.date,a.content),["prevent"])},[L("div",{class:kr(["top-color",a.color])},null,2),L("div",JB,[L("p",ZB,Ir(a.noteTitle),1),L("p",e$,Ir(a.date),1)]),L("div",t$,[L("div",{innerHTML:a.content},null,8,n$)])],8,XB))),128)}const i$=Kt(YB,[["render",r$],["__scopeId","data-v-8c89f432"]]),o$="/assets/emptynote-3beec221.svg";const s$={name:"emptyNotesUI"},PN=e=>(dr("data-v-25e70a30"),e=e(),pr(),e),u$={class:"emptyNote__container"},a$=PN(()=>L("div",{class:"emptyNote__wrapper"},[L("img",{src:o$,alt:""})],-1)),c$=PN(()=>L("p",null,"You don't have any notes yet.",-1)),l$=[a$,c$];function f$(e,t,n,i,o,s){return Oe(),ot("div",u$,l$)}const h$=Kt(s$,[["render",f$],["__scopeId","data-v-25e70a30"]]),d$="/assets/emptylabel-6d4d1318.svg";const p$={name:"emptyLabel",methods:{addLabel(){this.$emit("add-label")}}},Ky=e=>(dr("data-v-ef3a78f6"),e=e(),pr(),e),v$={class:"emptyLabel__container"},m$=Ky(()=>L("div",{class:"emptyLabel__wrapper"},[L("img",{src:d$,alt:""})],-1)),g$=Ky(()=>L("h2",null,"Add your first note",-1)),y$=Ky(()=>L("p",null,"Relax and note something beautiful",-1));function w$(e,t,n,i,o,s){const a=$e("base-button");return Oe(),ot("div",v$,[m$,g$,y$,Se(a,{class:"yellow btnAdd",onClick:Be(s.addLabel,["prevent"])},{default:st(()=>[mn("Add Folder")]),_:1},8,["onClick"])])}const b$=Kt(p$,[["render",w$],["__scopeId","data-v-ef3a78f6"]]);const _$={name:"LabelLoading"},I$={class:"loader"},E$=Tg('<p class="heading" data-v-1139df78>Loading</p><div class="loading" data-v-1139df78><div class="load" data-v-1139df78></div><div class="load" data-v-1139df78></div><div class="load" data-v-1139df78></div><div class="load" data-v-1139df78></div></div>',2),T$=[E$];function S$(e,t,n,i,o,s){return Oe(),ot("div",I$,T$)}const A$=Kt(_$,[["render",S$],["__scopeId","data-v-1139df78"]]);const N$={name:"NotesLoading"},C$={class:"loader"};function k$(e,t,n,i,o,s){return Oe(),ot("div",C$)}const O$=Kt(N$,[["render",k$],["__scopeId","data-v-ca6b6a7d"]]);const D$={name:"MainApp",components:{InputLabelModal:eB,UpdateLabelModal:aB,InputNoteModal:EB,UpdateNoteModal:$B,NoteItem:i$,EmptyNoteUI:h$,EmptyLabel:b$,LabelLoading:A$,NotesLoading:O$,ConfirmDeleteFolder:QB},data(){return{isToggleClickable:!1,year:"",mobile:!0,labelList:!1,labels:[],notes:[],emptyNotes:!1,labelTitle:"",labelID:null,searchQuery:"",searchResults:[],label_show_loading:!1,notes_show_loading:!1}},computed:{..._T(pi,["inputLabelModal","updateLabelModal","updateLabelText","inputNoteModal","updateNoteModal","updateID","updateColor","updateNoteTitle","updateDate","updateContent","confirmDeleteFolder"]),getCurrentYear(){return this.year=new Date().getFullYear()},filteredNotes(){if(this.searchQuery){const e=this.searchQuery.toLowerCase();return this.notes.filter(t=>{const n=t.noteTitle?t.noteTitle.toLowerCase():"",i=t.content?t.content.toLowerCase():"";return n.includes(e)||i.includes(e)})}else return this.notes}},mounted(){this.updateScreenSize(),this.fetchNotes(),window.addEventListener("resize",this.updateScreenSize);try{ai.currentUser.uid?console.log("logged user"):console.log("not log")}catch{_u.push("/")}},beforeUnmount(){window.removeEventListener("resize",this.updateScreenSize)},async created(){this.label_show_loading=!0;try{(await Ba.where("uid","==",ai.currentUser.uid).orderBy("date","desc").get()).forEach(this.addLabel),this.label_show_loading=!1,this.fetchNotes()}catch(e){console.log(e)}},methods:{...gi(pi,["showInputLabelModal","showUpdateLabelModal","showInputNoteModal","showUpdateNoteModal","showConfirmDeleteFolder"]),addLabel(e){const t={...e.data(),docID:e.id};this.labels.push(t);const n=this.labels[0];this.labelTitle=n.labelTitle,this.labelID=n.docID},async deleteLabel(){const e=await Xs.where("lid","==",this.labelID).get();await Ba.doc(this.labelID).delete(),e.forEach(t=>{Xs.doc(t.id).delete()}),this.labelTitle="",this.fetchLabel()},async fetchLabel(){this.label_show_loading=!0,this.labels=[],(await Ba.where("uid","==",ai.currentUser.uid).orderBy("date","desc").get()).forEach(this.addLabel),this.label_show_loading=!1,this.fetchNotes()},async fetchNotes(){this.notes_show_loading=!0,this.emptyNotes=!1;try{this.notes=[],(await Xs.where("lid","==",this.labelID).orderBy("date","desc").get()).forEach(t=>{const i={...t.data(),docID:t.id};this.notes.push(i),this.notes_show_loading=!1}),this.notes_show_loading=!1}catch(e){console.error(e)}this.notesAvailability()},displayNote(e,t){this.notes=[],this.labelTitle=t,this.labelID=e,this.fetchNotes(),this.mobile&&(this.labelList=!1),console.log(this.notes)},toggleLabelList(){this.mobile&&(this.labelList=!this.labelList)},updateScreenSize(){this.mobile=!(window.innerWidth>600),this.labelList=window.innerWidth>600},notesAvailability(){this.notes.length===0?this.emptyNotes=!0:this.emptyNotes=!1,this.notes_show_loading=!1},async logout(){try{await ai.signOut(),_u.push("/"),console.log("logout")}catch(e){console.error(e)}}}},fs=e=>(dr("data-v-6fdc4ed1"),e=e(),pr(),e),R$={class:"mainApp__container"},x$={class:"side__container"},P$={class:"header__container mobile-margin"},L$=fs(()=>L("div",{class:"logo__wrapper"},[L("img",{src:vh,alt:""})],-1)),M$={class:"cta__wrapper"},V$={class:"labels__container"},F$={class:"labels__wrapper"},j$=fs(()=>L("p",null,"FOLDERS",-1)),U$={key:1,class:"label-lists__wrapper"},B$=["onClick"],$$={class:"mobile-margin"},q$={key:0,class:"footer__wrapper"},K$={class:"logout__wrapper"},H$=fs(()=>L("span",{class:"material-symbols-outlined"}," logout ",-1)),z$=fs(()=>L("p",null,"Designed & Built by Mark Ian Reyes",-1)),G$={key:0,class:"main__container"},W$={class:"main-header__container"},Q$={class:"main-header__wrapper mobile-margin"},Y$={class:"title-note__wrapper"},X$={class:"cta-icon__wrapper"},J$={class:"action-note__wrapper"},Z$={class:"search-input__wrapper"},e3=fs(()=>L("span",{class:"material-symbols-outlined"}," search ",-1)),t3={class:"btn__wrapper"},n3={class:"main-noteList__container mobile-margin"},r3={key:1,class:"emptyLabel__container"},i3={key:2,class:"footer__wrapper"},o3={class:"logout__wrapper"},s3=fs(()=>L("span",{class:"material-symbols-outlined"}," logout ",-1)),u3=fs(()=>L("p",null,"Designed & Built by Mark Ian Reyes",-1));function a3(e,t,n,i,o,s){const a=$e("base-button"),l=$e("LabelLoading"),f=$e("EmptyNoteUI"),d=$e("NoteItem"),p=$e("NotesLoading"),m=$e("EmptyLabel"),g=$e("InputLabelModal"),b=$e("UpdateLabelModal"),I=$e("InputNoteModal"),A=$e("UpdateNoteModal"),P=$e("ConfirmDeleteFolder");return Oe(),ot(cn,null,[L("div",R$,[L("div",x$,[L("header",P$,[L$,L("div",M$,[Se(a,{class:"purple",onClick:Be(e.showInputLabelModal,["prevent"])},{default:st(()=>[mn("New Folder")]),_:1},8,["onClick"]),L("p",null,"Folder Count: "+Ir(o.labels.length),1)])]),L("nav",V$,[L("div",F$,[L("div",{class:"label-text__wrapper mobile-margin",onClick:t[0]||(t[0]=Be((...C)=>s.toggleLabelList&&s.toggleLabelList(...C),["prevent"]))},[j$,o.mobile?(Oe(),ot("span",{key:0,class:kr(["material-symbols-outlined",o.labelList?"active":""])}," expand_more ",2)):Jt("",!0)])]),o.label_show_loading?(Oe(),un(l,{key:0,class:"labelLoading"})):Jt("",!0),o.labelList?(Oe(),ot("ul",U$,[(Oe(!0),ot(cn,null,wg(o.labels,C=>(Oe(),ot("li",{class:"label-list",key:C.docID,onClick:Be(j=>s.displayNote(C.docID,C.labelTitle),["prevent"])},[L("div",$$,Ir(C.labelTitle),1)],8,B$))),128))])):Jt("",!0)]),o.mobile?Jt("",!0):(Oe(),ot("footer",q$,[L("div",K$,[H$,L("button",{onClick:t[1]||(t[1]=Be((...C)=>s.logout&&s.logout(...C),["prevent"])),class:"logoutBtn"},"Logout")]),L("p",null,"Copyright:  "+Ir(s.getCurrentYear),1),z$]))]),o.labels.length!==0?(Oe(),ot("main",G$,[L("div",W$,[L("div",Q$,[L("div",Y$,[L("h2",null,Ir(o.labelTitle),1),L("div",X$,[L("span",{class:"material-symbols-outlined",onClick:t[2]||(t[2]=Be(C=>e.showUpdateLabelModal(),["prevent"]))}," edit "),L("span",{class:"material-symbols-outlined",onClick:t[3]||(t[3]=Be((...C)=>e.showConfirmDeleteFolder&&e.showConfirmDeleteFolder(...C),["prevent"]))}," delete ")])]),L("div",J$,[L("div",Z$,[e3,Zs(L("input",{type:"text",placeholder:"Search","onUpdate:modelValue":t[4]||(t[4]=C=>o.searchQuery=C)},null,512),[[hh,o.searchQuery]])]),L("div",t3,[Se(a,{class:"yellow",onClick:Be(e.showInputNoteModal,["prevent"])},{default:st(()=>[mn("Create Note")]),_:1},8,["onClick"])])])])]),o.emptyNotes?(Oe(),un(f,{key:0,class:"emptyNote"})):Jt("",!0),L("div",n3,[L("ul",null,[Se(d,{notes:s.filteredNotes},null,8,["notes"])]),o.notes_show_loading?(Oe(),un(p,{key:0,class:"notesLoader"})):Jt("",!0)])])):(Oe(),ot("main",r3,[L("div",null,[Se(m,{class:"emptyLabel",onAddLabel:e.showInputLabelModal},null,8,["onAddLabel"])])])),o.mobile?(Oe(),ot("footer",i3,[L("div",o3,[s3,L("button",{onClick:t[5]||(t[5]=Be((...C)=>s.logout&&s.logout(...C),["prevent"])),class:"logoutBtn"},"Logout")]),L("p",null,"Copyright:  "+Ir(s.getCurrentYear),1),u3])):Jt("",!0)]),(Oe(),un(qx,{to:"body"},[e.inputLabelModal?(Oe(),un(g,{key:0,onDisplayLabel:s.fetchLabel},null,8,["onDisplayLabel"])):Jt("",!0),e.updateLabelModal?(Oe(),un(b,{key:1,labelID:o.labelID,updateTitle:o.labelTitle,onDisplayLabel:s.fetchLabel},null,8,["labelID","updateTitle","onDisplayLabel"])):Jt("",!0),e.inputNoteModal?(Oe(),un(I,{key:2,noteLabelID:o.labelID,onDisplayNote:s.fetchNotes},null,8,["noteLabelID","onDisplayNote"])):Jt("",!0),e.updateNoteModal?(Oe(),un(A,{key:3,noteID:e.updateID,color:e.updateColor,title:e.updateNoteTitle,date:e.updateDate,noteContent:e.updateContent,onDisplayNote:s.fetchNotes},null,8,["noteID","color","title","date","noteContent","onDisplayNote"])):Jt("",!0),e.confirmDeleteFolder?(Oe(),un(P,{key:4,onDeleteFolder:s.deleteLabel},null,8,["onDeleteFolder"])):Jt("",!0)]))],64)}const c3=Kt(D$,[["render",a3],["__scopeId","data-v-6fdc4ed1"]]),LN=jL({history:tL("/"),routes:[{path:"/",name:"Home",component:sM,meta:{title:"Home"}},{path:"/login",name:"Login",component:h2,meta:{title:"Login"}},{path:"/register",name:"Register",component:N2,meta:{title:"Create Account"}},{path:"/forgot-password",name:"ForgotPassword",component:M2,meta:{title:"Reset Password"}},{path:"/TakeNote",name:"mainApp",component:c3,meta:{title:"Main App",requiresAuth:!0}},{path:"/:catchAll(.*)*",name:"pageNotFound",component:$2}]});LN.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}!$y().userLoggedIn&&e.name!=="mainApp"?(n({name:"mainApp"}),window.history.pushState(null,"","/")):n()});const _u=LN;/**
  * vee-validate v4.8.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function Xr(e){return typeof e=="function"}function $a(e){return e==null}const ts=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function MN(e){return Number(e)>=0}function l3(e){const t=parseFloat(e);return isNaN(t)?e:t}const VN={};function js(e,t){h3(e,t),VN[e]=t}function f3(e){return VN[e]}function h3(e,t){if(!Xr(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const Vc=Symbol("vee-validate-form"),d3=Symbol("vee-validate-field-instance"),Xf=Symbol("Default empty value"),p3=typeof window<"u";function Wm(e){return Xr(e)&&!!e.__locatorRef}function Yi(e){return!!e&&Xr(e.parse)&&e.__type==="VVTypedSchema"}function qa(e){return!!e&&Xr(e.validate)}function Iu(e){return e==="checkbox"||e==="radio"}function v3(e){return ts(e)||Array.isArray(e)}function FN(e){return Array.isArray(e)?e.length===0:ts(e)&&Object.keys(e).length===0}function Gh(e){return/^\[.+\]$/i.test(e)}function m3(e){return jN(e)&&e.multiple}function jN(e){return e.tagName==="SELECT"}function g3(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function y3(e,t){return!g3(e,t)&&t.type!=="file"&&!Iu(t.type)}function UN(e){return Hy(e)&&e.target&&"submit"in e.target}function Hy(e){return e?!!(typeof Event<"u"&&Xr(Event)&&e instanceof Event||e&&e.srcElement):!1}function r1(e,t){return t in e&&e[t]!==Xf}function Wt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!Wt(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!Wt(i[1],t.get(i[0])))return!1;return!0}if(i1(e)&&i1(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!Wt(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function i1(e){return p3?e instanceof File:!1}function o1(e,t,n){typeof n.value=="object"&&(n.value=pt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function pt(e){if(typeof e!="object")return e;var t=0,n,i,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(pt(a))})):s==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(pt(l),pt(a))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(pt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)o1(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||o1(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function zy(e){return Gh(e)?e.replace(/\[|\]/gi,""):e}function Pt(e,t,n){return e?Gh(t)?e[zy(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>v3(o)&&s in o?o[s]:n,e):n}function Li(e,t,n){if(Gh(t)){e[zy(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<i.length;s++){if(s===i.length-1){o[i[s]]=n;return}(!(i[s]in o)||$a(o[i[s]]))&&(o[i[s]]=MN(i[s+1])?[]:{}),o=o[i[s]]}}function Yv(e,t){if(Array.isArray(e)&&MN(t)){e.splice(Number(t),1);return}ts(e)&&delete e[t]}function nf(e,t){if(Gh(t)){delete e[zy(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Yv(i,n[s]);break}if(!(n[s]in i)||$a(i[n[s]]))break;i=i[n[s]]}const o=n.map((s,a)=>Pt(e,n.slice(0,a).join(".")));for(let s=o.length-1;s>=0;s--)if(FN(o[s])){if(s===0){Yv(e,n[0]);continue}Yv(o[s-1],n[s-1])}}function on(e){return Object.keys(e)}function Gy(e,t=void 0){const n=ro();return(n==null?void 0:n.provides[e])||jn(e,t)}function Qm(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(s=>Wt(s,t));return o>=0?i.splice(o,1):i.push(t),i}return Wt(e,t)?n:t}function s1(e,t=0){let n=null,i=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...o);i.forEach(a=>a(s)),i=[]},t),new Promise(s=>i.push(s))}}function w3(e,t){return ts(t)&&t.number?l3(e):e}function Ym(e,t){let n;return async function(...o){const s=e(...o);n=s;const a=await s;return s!==n||(n=void 0,t(a,o)),a}}function b3({get:e,set:t}){const n=wt(pt(e()));return ct(e,i=>{Wt(i,n.value)||(n.value=pt(i))},{deep:!0}),ct(n,i=>{Wt(i,e())||t(pt(i))},{deep:!0}),n}function _3(e){return Xr(e)?e():K(e)}function I3(e){return ke(()=>_3(e))}const Wh=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default;function Xv(e){if(BN(e))return e._value}function BN(e){return"_value"in e}function Wy(e){if(!Hy(e))return e;const t=e.target;if(Iu(t.type)&&BN(t))return Xv(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(m3(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Xv);if(jN(t)){const n=Array.from(t.options).find(i=>i.selected);return n?Xv(n):t.value}return t.value}function $N(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?ts(e)&&e._$$isNormalized?e:ts(e)?Object.keys(e).reduce((n,i)=>{const o=E3(e[i]);return e[i]!==!1&&(n[i]=u1(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=T3(i);return o.name&&(n[o.name]=u1(o.params)),n},t):t}function E3(e){return e===!0?[]:Array.isArray(e)||ts(e)?e:[e]}function u1(e){const t=n=>typeof n=="string"&&n[0]==="@"?S3(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const T3=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function S3(e){const t=n=>Pt(n,e)||n[e];return t.__locatorRef=e,t}function A3(e){return Array.isArray(e)?e.filter(Wm):on(e).filter(t=>Wm(e[t])).map(t=>e[t])}const N3={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let C3=Object.assign({},N3);const Qy=()=>C3;async function qN(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await k3(o,e)).errors;return{errors:a,valid:!a.length}}async function k3(e,t){if(Yi(e.rules)||qa(e.rules))return D3(t,e.rules);if(Xr(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let p=0;p<f;p++){const m=l[p],g=await m(t,a);if(typeof g!="string"&&g)continue;const I=typeof g=="string"?g:HN(a);if(d.push(I),e.bails)return{errors:d}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:$N(e.rules)}),i=[],o=Object.keys(n.rules),s=o.length;for(let a=0;a<s;a++){const l=o[a],f=await R3(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}function O3(e){return!!e&&e.name==="ValidationError"}function KN(e){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!O3(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(s)}}}}}async function D3(e,t){const i=await(Yi(t)?t:KN(t)).parse(e),o=[];for(const s of i.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function R3(e,t,n){const i=f3(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=x3(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(t,o,s);return typeof a=="string"?{error:a}:{error:a?void 0:HN(s)}}function HN(e){const t=Qy().generateMessage;return t?t(e):"Field is invalid"}function x3(e,t){const n=i=>Wm(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function P3(e,t){const i=await(Yi(e)?e:KN(e)).parse(t),o={},s={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,p)=>`[${p}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!i.errors.length,results:o,errors:s,values:i.value}}async function L3(e,t,n){const o=on(e).map(async d=>{var p,m,g;const b=(p=n==null?void 0:n.names)===null||p===void 0?void 0:p[d],I=await qN(Pt(t,d),e[d],{name:(b==null?void 0:b.name)||d,label:b==null?void 0:b.label,values:t,bails:(g=(m=n==null?void 0:n.bailsMap)===null||m===void 0?void 0:m[d])!==null&&g!==void 0?g:!0});return Object.assign(Object.assign({},I),{path:d})});let s=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:l,errors:f}}let a1=0;function M3(e,t){const{value:n,initialValue:i,setInitialValue:o}=zN(e,t.modelValue,t.form),{errorMessage:s,errors:a,setErrors:l}=j3(e,t.form),f=F3(n,i,a),d=a1>=Number.MAX_SAFE_INTEGER?0:++a1;function p(m){var g;"value"in m&&(n.value=m.value),"errors"in m&&l(m.errors),"touched"in m&&(f.touched=(g=m.touched)!==null&&g!==void 0?g:f.touched),"initialValue"in m&&o(m.initialValue)}return{id:d,path:e,value:n,initialValue:i,meta:f,errors:a,errorMessage:s,setState:p}}function zN(e,t,n){const i=wt(K(t));function o(){return n?Pt(n.meta.value.initialValues,K(e),K(i)):K(i)}function s(d){if(!n){i.value=d;return}n.stageInitialValue(K(e),d,!0)}const a=ke(o);if(!n)return{value:wt(o()),initialValue:a,setInitialValue:s};const l=V3(t,n,a,e);return n.stageInitialValue(K(e),l,!0),{value:ke({get(){return Pt(n.values,K(e))},set(d){n.setFieldValue(K(e),d)}}),initialValue:a,setInitialValue:s}}function V3(e,t,n,i){return at(e)?K(e):e!==void 0?e:Pt(t.values,K(i),K(n))}function F3(e,t,n){const i=hr({touched:!1,pending:!1,valid:!0,validated:!!K(n).length,initialValue:ke(()=>K(t)),dirty:ke(()=>!Wt(K(e),K(t)))});return ct(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function j3(e,t){function n(o){return o?Array.isArray(o)?o:[o]:[]}if(!t){const o=wt([]);return{errors:o,errorMessage:ke(()=>o.value[0]),setErrors:s=>{o.value=n(s)}}}const i=ke(()=>t.errorBag.value[K(e)]||[]);return{errors:i,errorMessage:ke(()=>i.value[0]),setErrors:o=>{t.setFieldErrorBag(K(e),n(o))}}}function U3(e,t,n){return Iu(n==null?void 0:n.type)?q3(e,t,n):GN(e,t,n)}function GN(e,t,n){const{initialValue:i,validateOnMount:o,bails:s,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:p,controlled:m,keepValueOnUnmount:g,modelPropName:b,syncVModel:I,form:A}=B3(n),P=m?Gy(Vc):void 0,C=A||P,j=I3(e);let F=!1;const{id:J,value:x,initialValue:O,meta:M,setState:k,errors:$,errorMessage:T}=M3(j,{modelValue:i,form:C});I&&K3({value:x,prop:b,handleChange:fe});const Ee=()=>{M.touched=!0},Ne=ke(()=>{let R=K(t);const H=K(C==null?void 0:C.schema);return H&&!qa(H)&&!Yi(H)&&(R=$3(H,K(j))||R),qa(R)||Yi(R)||Xr(R)||Array.isArray(R)?R:$N(R)});async function Ke(R){var H,pe;return C!=null&&C.validateSchema?(H=(await C.validateSchema(R)).results[K(j)])!==null&&H!==void 0?H:{valid:!0,errors:[]}:qN(x.value,Ne.value,{name:K(j),label:K(f),values:(pe=C==null?void 0:C.values)!==null&&pe!==void 0?pe:{},bails:s})}const Le=Ym(async()=>(M.pending=!0,M.validated=!0,Ke("validated-only")),R=>(F&&(R.valid=!0,R.errors=[]),k({errors:R.errors}),M.pending=!1,R)),be=Ym(async()=>Ke("silent"),R=>(F&&(R.valid=!0),M.valid=R.valid,R));function he(R){return(R==null?void 0:R.mode)==="silent"?be():Le()}function fe(R,H=!0){const pe=Wy(R);x.value=pe,!d&&H&&Le()}Nu(()=>{if(o)return Le();(!C||!C.validateSchema)&&be()});function me(R){M.touched=R}let We,tt=pt(x.value);function it(){We=ct(x,(R,H)=>{if(Wt(R,H)&&Wt(R,tt))return;(d?Le:be)(),tt=pt(R)},{deep:!0})}it();function Ze(R){var H;We==null||We();const pe=R&&"value"in R?R.value:O.value;k({value:pt(pe),initialValue:pt(pe),touched:(H=R==null?void 0:R.touched)!==null&&H!==void 0?H:!1,errors:(R==null?void 0:R.errors)||[]}),M.pending=!1,M.validated=!1,be(),er(()=>{it()})}function Ot(R){x.value=R}function tn(R){k({errors:Array.isArray(R)?R:[R]})}const W={id:J,name:j,label:f,value:x,meta:M,errors:$,errorMessage:T,type:a,checkedValue:l,uncheckedValue:p,bails:s,keepValueOnUnmount:g,resetField:Ze,handleReset:()=>Ze(),validate:he,handleChange:fe,handleBlur:Ee,setState:k,setTouched:me,setErrors:tn,setValue:Ot};if(Gi(d3,W),at(t)&&typeof K(t)!="function"&&ct(t,(R,H)=>{Wt(R,H)||(M.validated?Le():be())},{deep:!0}),!C)return W;C.register(W),Cu(()=>{F=!0,C.unregister(W)});const ce=ke(()=>{const R=Ne.value;return!R||Xr(R)||qa(R)||Yi(R)||Array.isArray(R)?{}:Object.keys(R).reduce((H,pe)=>{const Qe=A3(R[pe]).map(_e=>_e.__locatorRef).reduce((_e,E)=>{const D=Pt(C.values,E)||C.values[E];return D!==void 0&&(_e[E]=D),_e},{});return Object.assign(H,Qe),H},{})});return ct(ce,(R,H)=>{if(!Object.keys(R).length)return;!Wt(R,H)&&(M.validated?Le():be())}),W}function B3(e){var t;const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),o=((t=e==null?void 0:e.syncVModel)!==null&&t!==void 0?t:!0)&&!("initialValue"in(e||{}))?Xm(ro(),(e==null?void 0:e.modelPropName)||"modelValue"):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},n()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled;return Object.assign(Object.assign(Object.assign({},n()),e||{}),{initialValue:o,controlled:a??!0,checkedValue:s})}function $3(e,t){if(e)return e[t]}function q3(e,t,n){const i=n!=null&&n.standalone?void 0:Gy(Vc),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=ke(()=>{const m=K(l.value),g=K(o);return Array.isArray(m)?m.findIndex(b=>Wt(b,g))>=0:Wt(g,m)});function p(m,g=!0){var b;if(d.value===((b=m==null?void 0:m.target)===null||b===void 0?void 0:b.checked)){g&&l.validate();return}let I=Wy(m);i||(I=Qm(K(l.value),K(o),K(s))),f(I,g)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:p})}return a(GN(e,t,n))}function K3({prop:e,value:t,handleChange:n}){const i=ro();if(!i)return;const o=e||"modelValue",s=`update:${o}`;o in i.props&&(ct(t,a=>{Wt(a,Xm(i,o))||i.emit(s,a)}),ct(()=>Xm(i,o),a=>{if(a===Xf&&t.value===void 0)return;const l=a===Xf?void 0:a;Wt(l,w3(t.value,i.props.modelModifiers))||n(l)}))}function Xm(e,t){if(e)return e.props[t]}const H3=Jr({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Qy().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Xf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=zt(e,"rules"),i=zt(e,"name"),o=zt(e,"label"),s=zt(e,"uncheckedValue"),a=zt(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:p,handleChange:m,handleBlur:g,setTouched:b,resetField:I,handleReset:A,meta:P,checked:C,setErrors:j}=U3(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:G3(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a}),F=function($,T=!0){m($,T),t.emit("update:modelValue",f.value)},J=k=>{Iu(t.attrs.type)||(f.value=Wy(k))},x=function($){J($),t.emit("update:modelValue",f.value)},O=ke(()=>{const{validateOnInput:k,validateOnChange:$,validateOnBlur:T,validateOnModelUpdate:Ee}=z3(e),Ne=[g,t.attrs.onBlur,T?p:void 0].filter(Boolean),Ke=[fe=>F(fe,k),t.attrs.onInput].filter(Boolean),Le=[fe=>F(fe,$),t.attrs.onChange].filter(Boolean),be={name:e.name,onBlur:Ne,onInput:Ke,onChange:Le};be["onUpdate:modelValue"]=fe=>F(fe,Ee),Iu(t.attrs.type)&&C&&(be.checked=C.value);const he=c1(e,t);return y3(he,t.attrs)&&(be.value=f.value),be});function M(){return{field:O.value,value:f.value,meta:P,errors:l.value,errorMessage:d.value,validate:p,resetField:I,handleChange:F,handleInput:x,handleReset:A,handleBlur:g,setTouched:b,setErrors:j}}return t.expose({setErrors:j,setTouched:b,reset:I,validate:p,handleChange:m}),()=>{const k=ku(c1(e,t)),$=Wh(k,t,M);return k?Wr(k,Object.assign(Object.assign({},t.attrs),O.value),$):$}}});function c1(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function z3(e){var t,n,i,o;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Qy();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function G3(e,t){return Iu(t.attrs.type)?r1(e,"modelValue")?e.modelValue:void 0:r1(e,"modelValue")?e.modelValue:t.attrs.value}const W3=H3;let Q3=0;function WN(e){const t=K(e==null?void 0:e.initialValues)||{},n=K(e==null?void 0:e.validationSchema);return n&&Yi(n)&&Xr(n.cast)?pt(n.cast(t)||{}):pt(t)}function Y3(e){var t;const n=Q3++,i=new Set;let o=!1;const s=wt({}),a=wt(!1),l=wt(0),f=[],d=hr(WN(e)),{errorBag:p,setErrorBag:m,setFieldErrorBag:g}=Z3(e==null?void 0:e.initialErrors),b=ke(()=>on(p.value).reduce((_,N)=>{const V=p.value[N];return V&&V.length&&(_[N]=V[0]),_},{}));function I(_){const N=s.value[_];return Array.isArray(N)?N[0]:N}function A(_){return!!s.value[_]}const P=ke(()=>on(s.value).reduce((_,N)=>{const V=I(N);return V&&(_[N]={name:K(V.name)||"",label:K(V.label)||""}),_},{})),C=ke(()=>on(s.value).reduce((_,N)=>{var V;const q=I(N);return q&&(_[N]=(V=q.bails)!==null&&V!==void 0?V:!0),_},{})),j=Object.assign({},(e==null?void 0:e.initialErrors)||{}),F=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:J,originalInitialValues:x,setInitialValues:O}=J3(s,d,e),M=X3(s,d,x,b),k=ke(()=>[...i,...on(s.value)].reduce((_,N)=>{const V=Pt(d,N);return Li(_,N,V),_},{})),$=e==null?void 0:e.validationSchema,T=s1(ie,5),Ee=s1(ie,5),Ne=Ym(async _=>await _==="silent"?T():Ee(),(_,[N])=>{const V=he.fieldsByPath.value||{},q=on(he.errorBag.value);return[...new Set([...on(_.results),...on(V),...q])].reduce((X,Q)=>{const ve=V[Q],Re=(_.results[Q]||{errors:[]}).errors,Fe={errors:Re,valid:!Re.length};if(X.results[Q]=Fe,Fe.valid||(X.errors[Q]=Fe.errors[0]),!ve)return tt(Q,Re),X;if(me(ve,Ye=>Ye.meta.valid=Fe.valid),N==="silent")return X;const Hn=Array.isArray(ve)?ve.some(Ye=>Ye.meta.validated):ve.meta.validated;return N==="validated-only"&&!Hn||me(ve,Ye=>Ye.setState({errors:Fe.errors})),X},{valid:_.valid,results:{},errors:{}})});function Ke(_){return function(V,q){return function(X){return X instanceof Event&&(X.preventDefault(),X.stopPropagation()),R(on(s.value).reduce((Q,ve)=>(Q[ve]=!0,Q),{})),a.value=!0,l.value++,U().then(Q=>{const ve=pt(d);if(Q.valid&&typeof V=="function"){const Re=pt(k.value);let Fe=_?Re:ve;return Q.values&&(Fe=Q.values),V(Fe,{evt:X,controlledValues:Re,setErrors:it,setFieldError:tt,setTouched:R,setFieldTouched:ce,setValues:Ot,setFieldValue:Ze,resetForm:pe,resetField:H})}!Q.valid&&typeof q=="function"&&q({values:ve,evt:X,errors:Q.errors,results:Q.results})}).then(Q=>(a.value=!1,Q),Q=>{throw a.value=!1,Q})}}}const be=Ke(!1);be.withControlled=Ke(!0);const he={formId:n,fieldsByPath:s,values:d,controlledValues:k,errorBag:p,errors:b,schema:$,submitCount:l,meta:M,isSubmitting:a,fieldArrays:f,keepValuesOnUnmount:F,validateSchema:K($)?Ne:void 0,validate:U,register:E,unregister:D,setFieldErrorBag:g,validateField:G,setFieldValue:Ze,setValues:Ot,setErrors:it,setFieldError:tt,setFieldTouched:ce,setTouched:R,resetForm:pe,resetField:H,handleSubmit:be,stageInitialValue:se,unsetInitialValue:Y,setFieldInitialValue:ae,useFieldModel:W};function fe(_){return Array.isArray(_)}function me(_,N){return Array.isArray(_)?_.forEach(N):N(_)}function We(_){Object.values(s.value).forEach(N=>{N&&me(N,_)})}function tt(_,N){g(_,N)}function it(_){m(_)}function Ze(_,N,{force:V}={force:!1}){var q;const ne=s.value[_],X=pt(N);if(!ne){Li(d,_,X);return}if(fe(ne)&&((q=ne[0])===null||q===void 0?void 0:q.type)==="checkbox"&&!Array.isArray(N)){const ve=pt(Qm(Pt(d,_)||[],N,void 0));Li(d,_,ve);return}let Q=X;!fe(ne)&&ne.type==="checkbox"&&!V&&!o&&(Q=pt(Qm(Pt(d,_),N,K(ne.uncheckedValue)))),Li(d,_,Q)}function Ot(_){on(d).forEach(N=>{delete d[N]}),on(_).forEach(N=>{Ze(N,_[N])}),f.forEach(N=>N&&N.reset())}function tn(_){const{value:N}=zN(_,void 0,he);return ct(N,()=>{A(K(_))||U({mode:"validated-only"})},{deep:!0}),i.add(K(_)),N}function W(_){return Array.isArray(_)?_.map(tn):tn(_)}function ce(_,N){const V=s.value[_];V&&me(V,q=>q.setTouched(N))}function R(_){on(_).forEach(N=>{ce(N,!!_[N])})}function H(_,N){const V=s.value[_];V&&me(V,q=>q.resetField(N))}function pe(_){o=!0,We(V=>V.resetField());const N=_!=null&&_.values?_.values:x.value;O(N),Ot(N),_!=null&&_.touched&&R(_.touched),it((_==null?void 0:_.errors)||{}),l.value=(_==null?void 0:_.submitCount)||0,er(()=>{o=!1})}function Qe(_,N){const V=Zi(_),q=N;if(!s.value[q]){s.value[q]=V;return}const ne=s.value[q];ne&&!Array.isArray(ne)&&(s.value[q]=[ne]),s.value[q]=[...s.value[q],V]}function _e(_,N){const V=N,q=s.value[V];if(q){if(!fe(q)&&_.id===q.id){delete s.value[V];return}if(fe(q)){const ne=q.findIndex(X=>X.id===_.id);if(ne===-1)return;q.splice(ne,1),q.length||delete s.value[V]}}}function E(_){const N=K(_.name);Qe(_,N),at(_.name)&&ct(_.name,async(q,ne)=>{await er(),_e(_,ne),Qe(_,q),(b.value[ne]||b.value[q])&&(tt(ne,void 0),G(q)),await er(),A(ne)||nf(d,ne)});const V=K(_.errorMessage);V&&(j==null?void 0:j[N])!==V&&G(N),delete j[N]}function D(_){const N=K(_.name),V=s.value[N],q=!!V&&fe(V);_e(_,N),er(()=>{var ne;const X=(ne=K(_.keepValueOnUnmount))!==null&&ne!==void 0?ne:K(F),Q=Pt(d,N);if(q&&(V===s.value[N]||!s.value[N])&&!X)if(Array.isArray(Q)){const Re=Q.findIndex(Fe=>Wt(Fe,K(_.checkedValue)));if(Re>-1){const Fe=[...Q];Fe.splice(Re,1),Ze(N,Fe,{force:!0})}}else Q===K(_.checkedValue)&&nf(d,N);if(!A(N)){if(tt(N,void 0),X||q&&Array.isArray(Q)&&!FN(Q))return;nf(d,N)}})}async function U(_){const N=(_==null?void 0:_.mode)||"force";if(N==="force"&&We(X=>X.meta.validated=!0),he.validateSchema)return he.validateSchema(N);const V=await Promise.all(Object.values(s.value).map(X=>{const Q=Array.isArray(X)?X[0]:X;return Q?Q.validate(_).then(ve=>({key:K(Q.name),valid:ve.valid,errors:ve.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),q={},ne={};for(const X of V)q[X.key]={valid:X.valid,errors:X.errors},X.errors.length&&(ne[X.key]=X.errors[0]);return{valid:V.every(X=>X.valid),results:q,errors:ne}}async function G(_){const N=s.value[_];return N?Array.isArray(N)?N.map(V=>V.validate())[0]:N.validate():Promise.resolve({errors:[],valid:!0})}function Y(_){nf(J.value,_)}function se(_,N,V=!1){Li(d,_,N),ae(_,N),V&&!(e!=null&&e.initialValues)&&Li(x.value,_,pt(N))}function ae(_,N){Li(J.value,_,pt(N))}async function ie(){const _=K($);return _?qa(_)||Yi(_)?await P3(_,d):await L3(_,d,{names:P.value,bailsMap:C.value}):{valid:!0,results:{},errors:{}}}const le=be((_,{evt:N})=>{UN(N)&&N.target.submit()});return Nu(()=>{if(e!=null&&e.initialErrors&&it(e.initialErrors),e!=null&&e.initialTouched&&R(e.initialTouched),e!=null&&e.validateOnMount){U();return}he.validateSchema&&he.validateSchema("silent")}),at($)&&ct($,()=>{var _;(_=he.validateSchema)===null||_===void 0||_.call(he,"validated-only")}),Gi(Vc,he),Object.assign(Object.assign({},he),{handleReset:()=>pe(),submitForm:le})}function X3(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},s=ke(()=>!Wt(t,K(n)));function a(){const f=Object.values(e.value).flat(1).filter(Boolean);return on(o).reduce((d,p)=>{const m=o[p];return d[p]=f[m](g=>g.meta[p]),d},{})}const l=hr(a());return W1(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),ke(()=>Object.assign(Object.assign({initialValues:K(n)},l),{valid:l.valid&&!on(i.value).length,dirty:s.value}))}function J3(e,t,n){const i=WN(n),o=n==null?void 0:n.initialValues,s=wt(i),a=wt(pt(i));function l(f,d=!1){s.value=pt(f),a.value=pt(f),d&&on(e.value).forEach(p=>{const m=e.value[p],g=Array.isArray(m)?m.some(I=>I.meta.touched):m==null?void 0:m.meta.touched;if(!m||g)return;const b=Pt(s.value,p);Li(t,p,pt(b))})}return at(o)&&ct(o,f=>{l(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:a,setInitialValues:l}}function Z3(e){const t=wt({});function n(s){return Array.isArray(s)?s:s?[s]:[]}function i(s,a){if(!a){delete t.value[s];return}t.value[s]=n(a)}function o(s){t.value=on(s).reduce((a,l)=>{const f=s[l];return f&&(a[l]=n(f)),a},{})}return e&&o(e),{errorBag:t,setErrorBag:o,setFieldErrorBag:i}}const eq=Jr({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=zt(e,"initialValues"),i=zt(e,"validationSchema"),o=zt(e,"keepValues"),{errors:s,errorBag:a,values:l,meta:f,isSubmitting:d,submitCount:p,controlledValues:m,validate:g,validateField:b,handleReset:I,resetForm:A,handleSubmit:P,setErrors:C,setFieldError:j,setFieldValue:F,setValues:J,setFieldTouched:x,setTouched:O,resetField:M}=Y3({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),k=P((he,{evt:fe})=>{UN(fe)&&fe.target.submit()},e.onInvalidSubmit),$=e.onSubmit?P(e.onSubmit,e.onInvalidSubmit):k;function T(he){Hy(he)&&he.preventDefault(),I(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function Ee(he,fe){return P(typeof he=="function"&&!fe?he:fe,e.onInvalidSubmit)(he)}function Ne(){return pt(l)}function Ke(){return pt(f.value)}function Le(){return pt(s.value)}function be(){return{meta:f.value,errors:s.value,errorBag:a.value,values:l,isSubmitting:d.value,submitCount:p.value,controlledValues:m.value,validate:g,validateField:b,handleSubmit:Ee,handleReset:I,submitForm:k,setErrors:C,setFieldError:j,setFieldValue:F,setValues:J,setFieldTouched:x,setTouched:O,resetForm:A,resetField:M,getValues:Ne,getMeta:Ke,getErrors:Le}}return t.expose({setFieldError:j,setErrors:C,setFieldValue:F,setValues:J,setFieldTouched:x,setTouched:O,resetForm:A,validate:g,validateField:b,resetField:M,getValues:Ne,getMeta:Ke,getErrors:Le}),function(){const fe=e.as==="form"?e.as:ku(e.as),me=Wh(fe,t,be);if(!e.as)return me;const We=e.as==="form"?{novalidate:!0}:{};return Wr(fe,Object.assign(Object.assign(Object.assign({},We),t.attrs),{onSubmit:$,onReset:T}),me)}}}),tq=eq;function nq(e){const t=Gy(Vc,void 0),n=wt([]),i=()=>{},o={fields:n,remove:i,push:i,swap:i,insert:i,update:i,replace:i,prepend:i,move:i};if(!t||!K(e))return o;const s=t.fieldArrays.find(x=>K(x.path)===K(e));if(s)return s;let a=0;function l(){return Pt(t==null?void 0:t.values,K(e),[])||[]}function f(){const x=l();n.value=x.map(p),d()}f();function d(){const x=n.value.length;for(let O=0;O<x;O++){const M=n.value[O];M.isFirst=O===0,M.isLast=O===x-1}}function p(x){const O=a++;return{key:O,value:b3({get(){const k=Pt(t==null?void 0:t.values,K(e),[])||[],$=n.value.findIndex(T=>T.key===O);return $===-1?x:k[$]},set(k){const $=n.value.findIndex(T=>T.key===O);$!==-1&&C($,k)}}),isFirst:!1,isLast:!1}}function m(){d(),t==null||t.validate({mode:"silent"})}function g(x){const O=K(e),M=Pt(t==null?void 0:t.values,O);if(!M||!Array.isArray(M))return;const k=[...M];k.splice(x,1),t==null||t.unsetInitialValue(O+`[${x}]`),t==null||t.setFieldValue(O,k),n.value.splice(x,1),m()}function b(x){const O=K(e),M=Pt(t==null?void 0:t.values,O),k=$a(M)?[]:M;if(!Array.isArray(k))return;const $=[...k];$.push(x),t==null||t.stageInitialValue(O+`[${$.length-1}]`,x),t==null||t.setFieldValue(O,$),n.value.push(p(x)),m()}function I(x,O){const M=K(e),k=Pt(t==null?void 0:t.values,M);if(!Array.isArray(k)||!(x in k)||!(O in k))return;const $=[...k],T=[...n.value],Ee=$[x];$[x]=$[O],$[O]=Ee;const Ne=T[x];T[x]=T[O],T[O]=Ne,t==null||t.setFieldValue(M,$),n.value=T,d()}function A(x,O){const M=K(e),k=Pt(t==null?void 0:t.values,M);if(!Array.isArray(k)||k.length<x)return;const $=[...k],T=[...n.value];$.splice(x,0,O),T.splice(x,0,p(O)),t==null||t.setFieldValue(M,$),n.value=T,m()}function P(x){const O=K(e);t==null||t.setFieldValue(O,x),f(),m()}function C(x,O){const M=K(e),k=Pt(t==null?void 0:t.values,M);!Array.isArray(k)||k.length-1<x||(t==null||t.setFieldValue(`${M}[${x}]`,O),t==null||t.validate({mode:"validated-only"}))}function j(x){const O=K(e),M=Pt(t==null?void 0:t.values,O),k=$a(M)?[]:M;if(!Array.isArray(k))return;const $=[x,...k];t==null||t.stageInitialValue(O+`[${$.length-1}]`,x),t==null||t.setFieldValue(O,$),n.value.unshift(p(x)),m()}function F(x,O){const M=K(e),k=Pt(t==null?void 0:t.values,M),$=$a(k)?[]:[...k];if(!Array.isArray(k)||!(x in k)||!(O in k))return;const T=[...n.value],Ee=T[x];T.splice(x,1),T.splice(O,0,Ee);const Ne=$[x];$.splice(x,1),$.splice(O,0,Ne),t==null||t.setFieldValue(M,$),n.value=T,m()}const J={fields:n,remove:g,push:b,swap:I,insert:A,update:C,replace:P,prepend:j,move:F};return t.fieldArrays.push(Object.assign({path:e,reset:f},J)),Cu(()=>{const x=t.fieldArrays.findIndex(O=>K(O.path)===K(e));x>=0&&t.fieldArrays.splice(x,1)}),ct(l,x=>{const O=n.value.map(M=>M.value);Wt(x,O)||f()}),J}Jr({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:i,swap:o,insert:s,replace:a,update:l,prepend:f,move:d,fields:p}=nq(zt(e,"name"));function m(){return{fields:p.value,push:n,remove:i,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}}return t.expose({push:n,remove:i,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}),()=>Wh(void 0,t,m)}});const rq=Jr({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=jn(Vc,void 0),i=ke(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const s=e.as?ku(e.as):e.as,a=Wh(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Wr(s||"span",l,i.value):Wr(s,l,a)}}}),iq=rq;/**
  * vee-validate v4.8.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const rf={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},oq=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Yy(e,t){return Array.isArray(e)?e[0]:e[t]}function Qh(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const QN=(e,t)=>{if(Qh(e))return!0;const n=oq(t);if(Array.isArray(e))return e.every(o=>QN(o,{locale:n}));const i=String(e);return n?(rf[n]||rf.en).test(i):Object.keys(rf).some(o=>rf[o].test(i))},sq=(e,t)=>{const n=Yy(t,"target");return String(e)===String(n)},uq=e=>{if(Qh(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function aq(e){return e==null}function cq(e){return Array.isArray(e)&&e.length===0}const YN=(e,t)=>{if(Qh(e))return!0;const n=Yy(t,"length");return Array.isArray(e)?e.every(i=>YN(i,{length:n})):String(e).length<=Number(n)},XN=(e,t)=>{if(Qh(e))return!0;const n=Yy(t,"length");return Array.isArray(e)?e.every(i=>XN(i,{length:n})):String(e).length>=Number(n)},lq=e=>aq(e)||cq(e)||e===!1?!1:!!String(e).trim().length;/**
  * vee-validate v4.8.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function vi(e){return typeof e=="function"}function Ka(e){return e==null}const ns=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function JN(e){return Number(e)>=0}function fq(e){const t=parseFloat(e);return isNaN(t)?e:t}const hq={};function dq(e){return hq[e]}const Fc=Symbol("vee-validate-form"),pq=Symbol("vee-validate-field-instance"),Jf=Symbol("Default empty value"),vq=typeof window<"u";function Jm(e){return vi(e)&&!!e.__locatorRef}function Xi(e){return!!e&&vi(e.parse)&&e.__type==="VVTypedSchema"}function Ha(e){return!!e&&vi(e.validate)}function Eu(e){return e==="checkbox"||e==="radio"}function mq(e){return ns(e)||Array.isArray(e)}function ZN(e){return Array.isArray(e)?e.length===0:ns(e)&&Object.keys(e).length===0}function Yh(e){return/^\[.+\]$/i.test(e)}function gq(e){return eC(e)&&e.multiple}function eC(e){return e.tagName==="SELECT"}function yq(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function wq(e,t){return!yq(e,t)&&t.type!=="file"&&!Eu(t.type)}function tC(e){return Xy(e)&&e.target&&"submit"in e.target}function Xy(e){return e?!!(typeof Event<"u"&&vi(Event)&&e instanceof Event||e&&e.srcElement):!1}function l1(e,t){return t in e&&e[t]!==Jf}function Qt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!Qt(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!Qt(i[1],t.get(i[0])))return!1;return!0}if(f1(e)&&f1(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!Qt(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function f1(e){return vq?e instanceof File:!1}function h1(e,t,n){typeof n.value=="object"&&(n.value=vt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function vt(e){if(typeof e!="object")return e;var t=0,n,i,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(vt(a))})):s==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(vt(l),vt(a))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(vt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)h1(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||h1(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function Jy(e){return Yh(e)?e.replace(/\[|\]/gi,""):e}function Lt(e,t,n){return e?Yh(t)?e[Jy(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>mq(o)&&s in o?o[s]:n,e):n}function Mi(e,t,n){if(Yh(t)){e[Jy(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<i.length;s++){if(s===i.length-1){o[i[s]]=n;return}(!(i[s]in o)||Ka(o[i[s]]))&&(o[i[s]]=JN(i[s+1])?[]:{}),o=o[i[s]]}}function Jv(e,t){if(Array.isArray(e)&&JN(t)){e.splice(Number(t),1);return}ns(e)&&delete e[t]}function of(e,t){if(Yh(t)){delete e[Jy(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Jv(i,n[s]);break}if(!(n[s]in i)||Ka(i[n[s]]))break;i=i[n[s]]}const o=n.map((s,a)=>Lt(e,n.slice(0,a).join(".")));for(let s=o.length-1;s>=0;s--)if(ZN(o[s])){if(s===0){Jv(e,n[0]);continue}Jv(o[s-1],n[s-1])}}function sn(e){return Object.keys(e)}function Zy(e,t=void 0){const n=ro();return(n==null?void 0:n.provides[e])||jn(e,t)}function Zm(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(s=>Qt(s,t));return o>=0?i.splice(o,1):i.push(t),i}return Qt(e,t)?n:t}function d1(e,t=0){let n=null,i=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...o);i.forEach(a=>a(s)),i=[]},t),new Promise(s=>i.push(s))}}function bq(e,t){return ns(t)&&t.number?fq(e):e}function eg(e,t){let n;return async function(...o){const s=e(...o);n=s;const a=await s;return s!==n||(n=void 0,t(a,o)),a}}function _q({get:e,set:t}){const n=wt(vt(e()));return ct(e,i=>{Qt(i,n.value)||(n.value=vt(i))},{deep:!0}),ct(n,i=>{Qt(i,e())||t(vt(i))},{deep:!0}),n}function Iq(e){return vi(e)?e():K(e)}function Eq(e){return ke(()=>Iq(e))}const Xh=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default;function Zv(e){if(nC(e))return e._value}function nC(e){return"_value"in e}function ew(e){if(!Xy(e))return e;const t=e.target;if(Eu(t.type)&&nC(t))return Zv(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(gq(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Zv);if(eC(t)){const n=Array.from(t.options).find(i=>i.selected);return n?Zv(n):t.value}return t.value}function rC(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?ns(e)&&e._$$isNormalized?e:ns(e)?Object.keys(e).reduce((n,i)=>{const o=Tq(e[i]);return e[i]!==!1&&(n[i]=p1(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=Sq(i);return o.name&&(n[o.name]=p1(o.params)),n},t):t}function Tq(e){return e===!0?[]:Array.isArray(e)||ns(e)?e:[e]}function p1(e){const t=n=>typeof n=="string"&&n[0]==="@"?Aq(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const Sq=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function Aq(e){const t=n=>Lt(n,e)||n[e];return t.__locatorRef=e,t}function Nq(e){return Array.isArray(e)?e.filter(Jm):sn(e).filter(t=>Jm(e[t])).map(t=>e[t])}const Cq={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let kq=Object.assign({},Cq);const tw=()=>kq;async function iC(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await Oq(o,e)).errors;return{errors:a,valid:!a.length}}async function Oq(e,t){if(Xi(e.rules)||Ha(e.rules))return Rq(t,e.rules);if(vi(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let p=0;p<f;p++){const m=l[p],g=await m(t,a);if(typeof g!="string"&&g)continue;const I=typeof g=="string"?g:sC(a);if(d.push(I),e.bails)return{errors:d}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:rC(e.rules)}),i=[],o=Object.keys(n.rules),s=o.length;for(let a=0;a<s;a++){const l=o[a],f=await xq(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}function Dq(e){return!!e&&e.name==="ValidationError"}function oC(e){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!Dq(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(s)}}}}}async function Rq(e,t){const i=await(Xi(t)?t:oC(t)).parse(e),o=[];for(const s of i.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function xq(e,t,n){const i=dq(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=Pq(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(t,o,s);return typeof a=="string"?{error:a}:{error:a?void 0:sC(s)}}function sC(e){const t=tw().generateMessage;return t?t(e):"Field is invalid"}function Pq(e,t){const n=i=>Jm(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function Lq(e,t){const i=await(Xi(e)?e:oC(e)).parse(t),o={},s={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,p)=>`[${p}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!i.errors.length,results:o,errors:s,values:i.value}}async function Mq(e,t,n){const o=sn(e).map(async d=>{var p,m,g;const b=(p=n==null?void 0:n.names)===null||p===void 0?void 0:p[d],I=await iC(Lt(t,d),e[d],{name:(b==null?void 0:b.name)||d,label:b==null?void 0:b.label,values:t,bails:(g=(m=n==null?void 0:n.bailsMap)===null||m===void 0?void 0:m[d])!==null&&g!==void 0?g:!0});return Object.assign(Object.assign({},I),{path:d})});let s=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:l,errors:f}}let v1=0;function Vq(e,t){const{value:n,initialValue:i,setInitialValue:o}=uC(e,t.modelValue,t.form),{errorMessage:s,errors:a,setErrors:l}=Uq(e,t.form),f=jq(n,i,a),d=v1>=Number.MAX_SAFE_INTEGER?0:++v1;function p(m){var g;"value"in m&&(n.value=m.value),"errors"in m&&l(m.errors),"touched"in m&&(f.touched=(g=m.touched)!==null&&g!==void 0?g:f.touched),"initialValue"in m&&o(m.initialValue)}return{id:d,path:e,value:n,initialValue:i,meta:f,errors:a,errorMessage:s,setState:p}}function uC(e,t,n){const i=wt(K(t));function o(){return n?Lt(n.meta.value.initialValues,K(e),K(i)):K(i)}function s(d){if(!n){i.value=d;return}n.stageInitialValue(K(e),d,!0)}const a=ke(o);if(!n)return{value:wt(o()),initialValue:a,setInitialValue:s};const l=Fq(t,n,a,e);return n.stageInitialValue(K(e),l,!0),{value:ke({get(){return Lt(n.values,K(e))},set(d){n.setFieldValue(K(e),d)}}),initialValue:a,setInitialValue:s}}function Fq(e,t,n,i){return at(e)?K(e):e!==void 0?e:Lt(t.values,K(i),K(n))}function jq(e,t,n){const i=hr({touched:!1,pending:!1,valid:!0,validated:!!K(n).length,initialValue:ke(()=>K(t)),dirty:ke(()=>!Qt(K(e),K(t)))});return ct(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function Uq(e,t){function n(o){return o?Array.isArray(o)?o:[o]:[]}if(!t){const o=wt([]);return{errors:o,errorMessage:ke(()=>o.value[0]),setErrors:s=>{o.value=n(s)}}}const i=ke(()=>t.errorBag.value[K(e)]||[]);return{errors:i,errorMessage:ke(()=>i.value[0]),setErrors:o=>{t.setFieldErrorBag(K(e),n(o))}}}function Bq(e,t,n){return Eu(n==null?void 0:n.type)?Kq(e,t,n):aC(e,t,n)}function aC(e,t,n){const{initialValue:i,validateOnMount:o,bails:s,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:p,controlled:m,keepValueOnUnmount:g,modelPropName:b,syncVModel:I,form:A}=$q(n),P=m?Zy(Fc):void 0,C=A||P,j=Eq(e);let F=!1;const{id:J,value:x,initialValue:O,meta:M,setState:k,errors:$,errorMessage:T}=Vq(j,{modelValue:i,form:C});I&&Hq({value:x,prop:b,handleChange:fe});const Ee=()=>{M.touched=!0},Ne=ke(()=>{let R=K(t);const H=K(C==null?void 0:C.schema);return H&&!Ha(H)&&!Xi(H)&&(R=qq(H,K(j))||R),Ha(R)||Xi(R)||vi(R)||Array.isArray(R)?R:rC(R)});async function Ke(R){var H,pe;return C!=null&&C.validateSchema?(H=(await C.validateSchema(R)).results[K(j)])!==null&&H!==void 0?H:{valid:!0,errors:[]}:iC(x.value,Ne.value,{name:K(j),label:K(f),values:(pe=C==null?void 0:C.values)!==null&&pe!==void 0?pe:{},bails:s})}const Le=eg(async()=>(M.pending=!0,M.validated=!0,Ke("validated-only")),R=>(F&&(R.valid=!0,R.errors=[]),k({errors:R.errors}),M.pending=!1,R)),be=eg(async()=>Ke("silent"),R=>(F&&(R.valid=!0),M.valid=R.valid,R));function he(R){return(R==null?void 0:R.mode)==="silent"?be():Le()}function fe(R,H=!0){const pe=ew(R);x.value=pe,!d&&H&&Le()}Nu(()=>{if(o)return Le();(!C||!C.validateSchema)&&be()});function me(R){M.touched=R}let We,tt=vt(x.value);function it(){We=ct(x,(R,H)=>{if(Qt(R,H)&&Qt(R,tt))return;(d?Le:be)(),tt=vt(R)},{deep:!0})}it();function Ze(R){var H;We==null||We();const pe=R&&"value"in R?R.value:O.value;k({value:vt(pe),initialValue:vt(pe),touched:(H=R==null?void 0:R.touched)!==null&&H!==void 0?H:!1,errors:(R==null?void 0:R.errors)||[]}),M.pending=!1,M.validated=!1,be(),er(()=>{it()})}function Ot(R){x.value=R}function tn(R){k({errors:Array.isArray(R)?R:[R]})}const W={id:J,name:j,label:f,value:x,meta:M,errors:$,errorMessage:T,type:a,checkedValue:l,uncheckedValue:p,bails:s,keepValueOnUnmount:g,resetField:Ze,handleReset:()=>Ze(),validate:he,handleChange:fe,handleBlur:Ee,setState:k,setTouched:me,setErrors:tn,setValue:Ot};if(Gi(pq,W),at(t)&&typeof K(t)!="function"&&ct(t,(R,H)=>{Qt(R,H)||(M.validated?Le():be())},{deep:!0}),!C)return W;C.register(W),Cu(()=>{F=!0,C.unregister(W)});const ce=ke(()=>{const R=Ne.value;return!R||vi(R)||Ha(R)||Xi(R)||Array.isArray(R)?{}:Object.keys(R).reduce((H,pe)=>{const Qe=Nq(R[pe]).map(_e=>_e.__locatorRef).reduce((_e,E)=>{const D=Lt(C.values,E)||C.values[E];return D!==void 0&&(_e[E]=D),_e},{});return Object.assign(H,Qe),H},{})});return ct(ce,(R,H)=>{if(!Object.keys(R).length)return;!Qt(R,H)&&(M.validated?Le():be())}),W}function $q(e){var t;const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),o=((t=e==null?void 0:e.syncVModel)!==null&&t!==void 0?t:!0)&&!("initialValue"in(e||{}))?tg(ro(),(e==null?void 0:e.modelPropName)||"modelValue"):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},n()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled;return Object.assign(Object.assign(Object.assign({},n()),e||{}),{initialValue:o,controlled:a??!0,checkedValue:s})}function qq(e,t){if(e)return e[t]}function Kq(e,t,n){const i=n!=null&&n.standalone?void 0:Zy(Fc),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=ke(()=>{const m=K(l.value),g=K(o);return Array.isArray(m)?m.findIndex(b=>Qt(b,g))>=0:Qt(g,m)});function p(m,g=!0){var b;if(d.value===((b=m==null?void 0:m.target)===null||b===void 0?void 0:b.checked)){g&&l.validate();return}let I=ew(m);i||(I=Zm(K(l.value),K(o),K(s))),f(I,g)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:p})}return a(aC(e,t,n))}function Hq({prop:e,value:t,handleChange:n}){const i=ro();if(!i)return;const o=e||"modelValue",s=`update:${o}`;o in i.props&&(ct(t,a=>{Qt(a,tg(i,o))||i.emit(s,a)}),ct(()=>tg(i,o),a=>{if(a===Jf&&t.value===void 0)return;const l=a===Jf?void 0:a;Qt(l,bq(t.value,i.props.modelModifiers))||n(l)}))}function tg(e,t){if(e)return e.props[t]}Jr({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>tw().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Jf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=zt(e,"rules"),i=zt(e,"name"),o=zt(e,"label"),s=zt(e,"uncheckedValue"),a=zt(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:p,handleChange:m,handleBlur:g,setTouched:b,resetField:I,handleReset:A,meta:P,checked:C,setErrors:j}=Bq(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:Gq(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a}),F=function($,T=!0){m($,T),t.emit("update:modelValue",f.value)},J=k=>{Eu(t.attrs.type)||(f.value=ew(k))},x=function($){J($),t.emit("update:modelValue",f.value)},O=ke(()=>{const{validateOnInput:k,validateOnChange:$,validateOnBlur:T,validateOnModelUpdate:Ee}=zq(e),Ne=[g,t.attrs.onBlur,T?p:void 0].filter(Boolean),Ke=[fe=>F(fe,k),t.attrs.onInput].filter(Boolean),Le=[fe=>F(fe,$),t.attrs.onChange].filter(Boolean),be={name:e.name,onBlur:Ne,onInput:Ke,onChange:Le};be["onUpdate:modelValue"]=fe=>F(fe,Ee),Eu(t.attrs.type)&&C&&(be.checked=C.value);const he=m1(e,t);return wq(he,t.attrs)&&(be.value=f.value),be});function M(){return{field:O.value,value:f.value,meta:P,errors:l.value,errorMessage:d.value,validate:p,resetField:I,handleChange:F,handleInput:x,handleReset:A,handleBlur:g,setTouched:b,setErrors:j}}return t.expose({setErrors:j,setTouched:b,reset:I,validate:p,handleChange:m}),()=>{const k=ku(m1(e,t)),$=Xh(k,t,M);return k?Wr(k,Object.assign(Object.assign({},t.attrs),O.value),$):$}}});function m1(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function zq(e){var t,n,i,o;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=tw();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function Gq(e,t){return Eu(t.attrs.type)?l1(e,"modelValue")?e.modelValue:void 0:l1(e,"modelValue")?e.modelValue:t.attrs.value}let Wq=0;function cC(e){const t=K(e==null?void 0:e.initialValues)||{},n=K(e==null?void 0:e.validationSchema);return n&&Xi(n)&&vi(n.cast)?vt(n.cast(t)||{}):vt(t)}function Qq(e){var t;const n=Wq++,i=new Set;let o=!1;const s=wt({}),a=wt(!1),l=wt(0),f=[],d=hr(cC(e)),{errorBag:p,setErrorBag:m,setFieldErrorBag:g}=Jq(e==null?void 0:e.initialErrors),b=ke(()=>sn(p.value).reduce((_,N)=>{const V=p.value[N];return V&&V.length&&(_[N]=V[0]),_},{}));function I(_){const N=s.value[_];return Array.isArray(N)?N[0]:N}function A(_){return!!s.value[_]}const P=ke(()=>sn(s.value).reduce((_,N)=>{const V=I(N);return V&&(_[N]={name:K(V.name)||"",label:K(V.label)||""}),_},{})),C=ke(()=>sn(s.value).reduce((_,N)=>{var V;const q=I(N);return q&&(_[N]=(V=q.bails)!==null&&V!==void 0?V:!0),_},{})),j=Object.assign({},(e==null?void 0:e.initialErrors)||{}),F=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:J,originalInitialValues:x,setInitialValues:O}=Xq(s,d,e),M=Yq(s,d,x,b),k=ke(()=>[...i,...sn(s.value)].reduce((_,N)=>{const V=Lt(d,N);return Mi(_,N,V),_},{})),$=e==null?void 0:e.validationSchema,T=d1(ie,5),Ee=d1(ie,5),Ne=eg(async _=>await _==="silent"?T():Ee(),(_,[N])=>{const V=he.fieldsByPath.value||{},q=sn(he.errorBag.value);return[...new Set([...sn(_.results),...sn(V),...q])].reduce((X,Q)=>{const ve=V[Q],Re=(_.results[Q]||{errors:[]}).errors,Fe={errors:Re,valid:!Re.length};if(X.results[Q]=Fe,Fe.valid||(X.errors[Q]=Fe.errors[0]),!ve)return tt(Q,Re),X;if(me(ve,Ye=>Ye.meta.valid=Fe.valid),N==="silent")return X;const Hn=Array.isArray(ve)?ve.some(Ye=>Ye.meta.validated):ve.meta.validated;return N==="validated-only"&&!Hn||me(ve,Ye=>Ye.setState({errors:Fe.errors})),X},{valid:_.valid,results:{},errors:{}})});function Ke(_){return function(V,q){return function(X){return X instanceof Event&&(X.preventDefault(),X.stopPropagation()),R(sn(s.value).reduce((Q,ve)=>(Q[ve]=!0,Q),{})),a.value=!0,l.value++,U().then(Q=>{const ve=vt(d);if(Q.valid&&typeof V=="function"){const Re=vt(k.value);let Fe=_?Re:ve;return Q.values&&(Fe=Q.values),V(Fe,{evt:X,controlledValues:Re,setErrors:it,setFieldError:tt,setTouched:R,setFieldTouched:ce,setValues:Ot,setFieldValue:Ze,resetForm:pe,resetField:H})}!Q.valid&&typeof q=="function"&&q({values:ve,evt:X,errors:Q.errors,results:Q.results})}).then(Q=>(a.value=!1,Q),Q=>{throw a.value=!1,Q})}}}const be=Ke(!1);be.withControlled=Ke(!0);const he={formId:n,fieldsByPath:s,values:d,controlledValues:k,errorBag:p,errors:b,schema:$,submitCount:l,meta:M,isSubmitting:a,fieldArrays:f,keepValuesOnUnmount:F,validateSchema:K($)?Ne:void 0,validate:U,register:E,unregister:D,setFieldErrorBag:g,validateField:G,setFieldValue:Ze,setValues:Ot,setErrors:it,setFieldError:tt,setFieldTouched:ce,setTouched:R,resetForm:pe,resetField:H,handleSubmit:be,stageInitialValue:se,unsetInitialValue:Y,setFieldInitialValue:ae,useFieldModel:W};function fe(_){return Array.isArray(_)}function me(_,N){return Array.isArray(_)?_.forEach(N):N(_)}function We(_){Object.values(s.value).forEach(N=>{N&&me(N,_)})}function tt(_,N){g(_,N)}function it(_){m(_)}function Ze(_,N,{force:V}={force:!1}){var q;const ne=s.value[_],X=vt(N);if(!ne){Mi(d,_,X);return}if(fe(ne)&&((q=ne[0])===null||q===void 0?void 0:q.type)==="checkbox"&&!Array.isArray(N)){const ve=vt(Zm(Lt(d,_)||[],N,void 0));Mi(d,_,ve);return}let Q=X;!fe(ne)&&ne.type==="checkbox"&&!V&&!o&&(Q=vt(Zm(Lt(d,_),N,K(ne.uncheckedValue)))),Mi(d,_,Q)}function Ot(_){sn(d).forEach(N=>{delete d[N]}),sn(_).forEach(N=>{Ze(N,_[N])}),f.forEach(N=>N&&N.reset())}function tn(_){const{value:N}=uC(_,void 0,he);return ct(N,()=>{A(K(_))||U({mode:"validated-only"})},{deep:!0}),i.add(K(_)),N}function W(_){return Array.isArray(_)?_.map(tn):tn(_)}function ce(_,N){const V=s.value[_];V&&me(V,q=>q.setTouched(N))}function R(_){sn(_).forEach(N=>{ce(N,!!_[N])})}function H(_,N){const V=s.value[_];V&&me(V,q=>q.resetField(N))}function pe(_){o=!0,We(V=>V.resetField());const N=_!=null&&_.values?_.values:x.value;O(N),Ot(N),_!=null&&_.touched&&R(_.touched),it((_==null?void 0:_.errors)||{}),l.value=(_==null?void 0:_.submitCount)||0,er(()=>{o=!1})}function Qe(_,N){const V=Zi(_),q=N;if(!s.value[q]){s.value[q]=V;return}const ne=s.value[q];ne&&!Array.isArray(ne)&&(s.value[q]=[ne]),s.value[q]=[...s.value[q],V]}function _e(_,N){const V=N,q=s.value[V];if(q){if(!fe(q)&&_.id===q.id){delete s.value[V];return}if(fe(q)){const ne=q.findIndex(X=>X.id===_.id);if(ne===-1)return;q.splice(ne,1),q.length||delete s.value[V]}}}function E(_){const N=K(_.name);Qe(_,N),at(_.name)&&ct(_.name,async(q,ne)=>{await er(),_e(_,ne),Qe(_,q),(b.value[ne]||b.value[q])&&(tt(ne,void 0),G(q)),await er(),A(ne)||of(d,ne)});const V=K(_.errorMessage);V&&(j==null?void 0:j[N])!==V&&G(N),delete j[N]}function D(_){const N=K(_.name),V=s.value[N],q=!!V&&fe(V);_e(_,N),er(()=>{var ne;const X=(ne=K(_.keepValueOnUnmount))!==null&&ne!==void 0?ne:K(F),Q=Lt(d,N);if(q&&(V===s.value[N]||!s.value[N])&&!X)if(Array.isArray(Q)){const Re=Q.findIndex(Fe=>Qt(Fe,K(_.checkedValue)));if(Re>-1){const Fe=[...Q];Fe.splice(Re,1),Ze(N,Fe,{force:!0})}}else Q===K(_.checkedValue)&&of(d,N);if(!A(N)){if(tt(N,void 0),X||q&&Array.isArray(Q)&&!ZN(Q))return;of(d,N)}})}async function U(_){const N=(_==null?void 0:_.mode)||"force";if(N==="force"&&We(X=>X.meta.validated=!0),he.validateSchema)return he.validateSchema(N);const V=await Promise.all(Object.values(s.value).map(X=>{const Q=Array.isArray(X)?X[0]:X;return Q?Q.validate(_).then(ve=>({key:K(Q.name),valid:ve.valid,errors:ve.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),q={},ne={};for(const X of V)q[X.key]={valid:X.valid,errors:X.errors},X.errors.length&&(ne[X.key]=X.errors[0]);return{valid:V.every(X=>X.valid),results:q,errors:ne}}async function G(_){const N=s.value[_];return N?Array.isArray(N)?N.map(V=>V.validate())[0]:N.validate():Promise.resolve({errors:[],valid:!0})}function Y(_){of(J.value,_)}function se(_,N,V=!1){Mi(d,_,N),ae(_,N),V&&!(e!=null&&e.initialValues)&&Mi(x.value,_,vt(N))}function ae(_,N){Mi(J.value,_,vt(N))}async function ie(){const _=K($);return _?Ha(_)||Xi(_)?await Lq(_,d):await Mq(_,d,{names:P.value,bailsMap:C.value}):{valid:!0,results:{},errors:{}}}const le=be((_,{evt:N})=>{tC(N)&&N.target.submit()});return Nu(()=>{if(e!=null&&e.initialErrors&&it(e.initialErrors),e!=null&&e.initialTouched&&R(e.initialTouched),e!=null&&e.validateOnMount){U();return}he.validateSchema&&he.validateSchema("silent")}),at($)&&ct($,()=>{var _;(_=he.validateSchema)===null||_===void 0||_.call(he,"validated-only")}),Gi(Fc,he),Object.assign(Object.assign({},he),{handleReset:()=>pe(),submitForm:le})}function Yq(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},s=ke(()=>!Qt(t,K(n)));function a(){const f=Object.values(e.value).flat(1).filter(Boolean);return sn(o).reduce((d,p)=>{const m=o[p];return d[p]=f[m](g=>g.meta[p]),d},{})}const l=hr(a());return W1(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),ke(()=>Object.assign(Object.assign({initialValues:K(n)},l),{valid:l.valid&&!sn(i.value).length,dirty:s.value}))}function Xq(e,t,n){const i=cC(n),o=n==null?void 0:n.initialValues,s=wt(i),a=wt(vt(i));function l(f,d=!1){s.value=vt(f),a.value=vt(f),d&&sn(e.value).forEach(p=>{const m=e.value[p],g=Array.isArray(m)?m.some(I=>I.meta.touched):m==null?void 0:m.meta.touched;if(!m||g)return;const b=Lt(s.value,p);Mi(t,p,vt(b))})}return at(o)&&ct(o,f=>{l(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:a,setInitialValues:l}}function Jq(e){const t=wt({});function n(s){return Array.isArray(s)?s:s?[s]:[]}function i(s,a){if(!a){delete t.value[s];return}t.value[s]=n(a)}function o(s){t.value=sn(s).reduce((a,l)=>{const f=s[l];return f&&(a[l]=n(f)),a},{})}return e&&o(e),{errorBag:t,setErrorBag:o,setFieldErrorBag:i}}Jr({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=zt(e,"initialValues"),i=zt(e,"validationSchema"),o=zt(e,"keepValues"),{errors:s,errorBag:a,values:l,meta:f,isSubmitting:d,submitCount:p,controlledValues:m,validate:g,validateField:b,handleReset:I,resetForm:A,handleSubmit:P,setErrors:C,setFieldError:j,setFieldValue:F,setValues:J,setFieldTouched:x,setTouched:O,resetField:M}=Qq({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),k=P((he,{evt:fe})=>{tC(fe)&&fe.target.submit()},e.onInvalidSubmit),$=e.onSubmit?P(e.onSubmit,e.onInvalidSubmit):k;function T(he){Xy(he)&&he.preventDefault(),I(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function Ee(he,fe){return P(typeof he=="function"&&!fe?he:fe,e.onInvalidSubmit)(he)}function Ne(){return vt(l)}function Ke(){return vt(f.value)}function Le(){return vt(s.value)}function be(){return{meta:f.value,errors:s.value,errorBag:a.value,values:l,isSubmitting:d.value,submitCount:p.value,controlledValues:m.value,validate:g,validateField:b,handleSubmit:Ee,handleReset:I,submitForm:k,setErrors:C,setFieldError:j,setFieldValue:F,setValues:J,setFieldTouched:x,setTouched:O,resetForm:A,resetField:M,getValues:Ne,getMeta:Ke,getErrors:Le}}return t.expose({setFieldError:j,setErrors:C,setFieldValue:F,setValues:J,setFieldTouched:x,setTouched:O,resetForm:A,validate:g,validateField:b,resetField:M,getValues:Ne,getMeta:Ke,getErrors:Le}),function(){const fe=e.as==="form"?e.as:ku(e.as),me=Xh(fe,t,be);if(!e.as)return me;const We=e.as==="form"?{novalidate:!0}:{};return Wr(fe,Object.assign(Object.assign(Object.assign({},We),t.attrs),{onSubmit:$,onReset:T}),me)}}});function Zq(e){const t=Zy(Fc,void 0),n=wt([]),i=()=>{},o={fields:n,remove:i,push:i,swap:i,insert:i,update:i,replace:i,prepend:i,move:i};if(!t||!K(e))return o;const s=t.fieldArrays.find(x=>K(x.path)===K(e));if(s)return s;let a=0;function l(){return Lt(t==null?void 0:t.values,K(e),[])||[]}function f(){const x=l();n.value=x.map(p),d()}f();function d(){const x=n.value.length;for(let O=0;O<x;O++){const M=n.value[O];M.isFirst=O===0,M.isLast=O===x-1}}function p(x){const O=a++;return{key:O,value:_q({get(){const k=Lt(t==null?void 0:t.values,K(e),[])||[],$=n.value.findIndex(T=>T.key===O);return $===-1?x:k[$]},set(k){const $=n.value.findIndex(T=>T.key===O);$!==-1&&C($,k)}}),isFirst:!1,isLast:!1}}function m(){d(),t==null||t.validate({mode:"silent"})}function g(x){const O=K(e),M=Lt(t==null?void 0:t.values,O);if(!M||!Array.isArray(M))return;const k=[...M];k.splice(x,1),t==null||t.unsetInitialValue(O+`[${x}]`),t==null||t.setFieldValue(O,k),n.value.splice(x,1),m()}function b(x){const O=K(e),M=Lt(t==null?void 0:t.values,O),k=Ka(M)?[]:M;if(!Array.isArray(k))return;const $=[...k];$.push(x),t==null||t.stageInitialValue(O+`[${$.length-1}]`,x),t==null||t.setFieldValue(O,$),n.value.push(p(x)),m()}function I(x,O){const M=K(e),k=Lt(t==null?void 0:t.values,M);if(!Array.isArray(k)||!(x in k)||!(O in k))return;const $=[...k],T=[...n.value],Ee=$[x];$[x]=$[O],$[O]=Ee;const Ne=T[x];T[x]=T[O],T[O]=Ne,t==null||t.setFieldValue(M,$),n.value=T,d()}function A(x,O){const M=K(e),k=Lt(t==null?void 0:t.values,M);if(!Array.isArray(k)||k.length<x)return;const $=[...k],T=[...n.value];$.splice(x,0,O),T.splice(x,0,p(O)),t==null||t.setFieldValue(M,$),n.value=T,m()}function P(x){const O=K(e);t==null||t.setFieldValue(O,x),f(),m()}function C(x,O){const M=K(e),k=Lt(t==null?void 0:t.values,M);!Array.isArray(k)||k.length-1<x||(t==null||t.setFieldValue(`${M}[${x}]`,O),t==null||t.validate({mode:"validated-only"}))}function j(x){const O=K(e),M=Lt(t==null?void 0:t.values,O),k=Ka(M)?[]:M;if(!Array.isArray(k))return;const $=[x,...k];t==null||t.stageInitialValue(O+`[${$.length-1}]`,x),t==null||t.setFieldValue(O,$),n.value.unshift(p(x)),m()}function F(x,O){const M=K(e),k=Lt(t==null?void 0:t.values,M),$=Ka(k)?[]:[...k];if(!Array.isArray(k)||!(x in k)||!(O in k))return;const T=[...n.value],Ee=T[x];T.splice(x,1),T.splice(O,0,Ee);const Ne=$[x];$.splice(x,1),$.splice(O,0,Ne),t==null||t.setFieldValue(M,$),n.value=T,m()}const J={fields:n,remove:g,push:b,swap:I,insert:A,update:C,replace:P,prepend:j,move:F};return t.fieldArrays.push(Object.assign({path:e,reset:f},J)),Cu(()=>{const x=t.fieldArrays.findIndex(O=>K(O.path)===K(e));x>=0&&t.fieldArrays.splice(x,1)}),ct(l,x=>{const O=n.value.map(M=>M.value);Qt(x,O)||f()}),J}Jr({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:i,swap:o,insert:s,replace:a,update:l,prepend:f,move:d,fields:p}=Zq(zt(e,"name"));function m(){return{fields:p.value,push:n,remove:i,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}}return t.expose({push:n,remove:i,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}),()=>Xh(void 0,t,m)}});Jr({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=jn(Fc,void 0),i=ke(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const s=e.as?ku(e.as):e.as,a=Xh(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Wr(s||"span",l,i.value):Wr(s,l,a)}}});const e4={install(e){e.component("VeeForm",tq),e.component("VeeField",W3),e.component("ErrorMessage",iq),js("required",lq),js("min",XN),js("max",YN),js("alpha_spaces",QN),js("email",uq),js("password_mismatch",sq)}};const t4={props:["color"]},n4={class:"btn"};function r4(e,t,n,i,o,s){return Oe(),ot("button",n4,[bg(e.$slots,"default",{},void 0,!0)])}const i4=Kt(t4,[["render",r4],["__scopeId","data-v-75398aea"]]);const o4={},s4={class:"card-wrapper"};function u4(e,t){return Oe(),ot("div",s4,[bg(e.$slots,"default",{},void 0,!0)])}const a4=Kt(o4,[["render",u4],["__scopeId","data-v-24965033"]]);let xi;ai.onAuthStateChanged(()=>{xi||(xi=NP(VP),xi.use(OP()),xi.use(_u),xi.use(e4),xi.component("base-button",i4),xi.component("base-card",a4),xi.mount("#app"))});_u.beforeEach((e,t,n)=>{document.title=`TakeNote | ${e.meta.title}`,n()});
