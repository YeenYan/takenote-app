(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function ng(e,t){const n=Object.create(null),i=e.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function rg(e){if(Ve(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=Vt(i)?iR(i):rg(i);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Vt(e))return e;if(Et(e))return e}}const tR=/;(?![^(]*\))/g,nR=/:([^]+)/,rR=/\/\*.*?\*\//gs;function iR(e){const t={};return e.replace(rR,"").split(tR).forEach(n=>{if(n){const i=n.split(nR);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Nr(e){let t="";if(Vt(e))t=e;else if(Ve(e))for(let n=0;n<e.length;n++){const i=Nr(e[n]);i&&(t+=i+" ")}else if(Et(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const oR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sR=ng(oR);function m1(e){return!!e||e===""}const br=e=>Vt(e)?e:e==null?"":Ve(e)||Et(e)&&(e.toString===b1||!Ue(e.toString))?JSON.stringify(e,g1,2):String(e),g1=(e,t)=>t&&t.__v_isRef?g1(e,t.value):Ws(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:y1(t)?{[`Set(${t.size})`]:[...t.values()]}:Et(t)&&!Ve(t)&&!_1(t)?String(t):t,yt={},Gs=[],Er=()=>{},uR=()=>!1,aR=/^on[^a-z]/,Jf=e=>aR.test(e),ig=e=>e.startsWith("onUpdate:"),bn=Object.assign,og=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},cR=Object.prototype.hasOwnProperty,et=(e,t)=>cR.call(e,t),Ve=Array.isArray,Ws=e=>Zf(e)==="[object Map]",y1=e=>Zf(e)==="[object Set]",Ue=e=>typeof e=="function",Vt=e=>typeof e=="string",sg=e=>typeof e=="symbol",Et=e=>e!==null&&typeof e=="object",w1=e=>Et(e)&&Ue(e.then)&&Ue(e.catch),b1=Object.prototype.toString,Zf=e=>b1.call(e),lR=e=>Zf(e).slice(8,-1),_1=e=>Zf(e)==="[object Object]",ug=e=>Vt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,of=ng(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),eh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},fR=/-(\w)/g,Gr=eh(e=>e.replace(fR,(t,n)=>n?n.toUpperCase():"")),hR=/\B([A-Z])/g,Tu=eh(e=>e.replace(hR,"-$1").toLowerCase()),th=eh(e=>e.charAt(0).toUpperCase()+e.slice(1)),Av=eh(e=>e?`on${th(e)}`:""),za=(e,t)=>!Object.is(e,t),sf=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},mf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},em=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let M_;const dR=()=>M_||(M_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Yn;class I1{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Yn,!t&&Yn&&(this.index=(Yn.scopes||(Yn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Yn;try{return Yn=this,t()}finally{Yn=n}}}on(){Yn=this}off(){Yn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function E1(e){return new I1(e)}function pR(e,t=Yn){t&&t.active&&t.effects.push(e)}function T1(){return Yn}function vR(e){Yn&&Yn.cleanups.push(e)}const ag=e=>{const t=new Set(e);return t.w=0,t.n=0,t},S1=e=>(e.w&Yi)>0,A1=e=>(e.n&Yi)>0,mR=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Yi},gR=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const o=t[i];S1(o)&&!A1(o)?o.delete(e):t[n++]=o,o.w&=~Yi,o.n&=~Yi}t.length=n}},gf=new WeakMap;let Aa=0,Yi=1;const tm=30;let _r;const qo=Symbol(""),nm=Symbol("");class cg{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,pR(this,i)}run(){if(!this.active)return this.fn();let t=_r,n=$i;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=_r,_r=this,$i=!0,Yi=1<<++Aa,Aa<=tm?mR(this):V_(this),this.fn()}finally{Aa<=tm&&gR(this),Yi=1<<--Aa,_r=this.parent,$i=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){_r===this?this.deferStop=!0:this.active&&(V_(this),this.onStop&&this.onStop(),this.active=!1)}}function V_(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let $i=!0;const N1=[];function Su(){N1.push($i),$i=!1}function Au(){const e=N1.pop();$i=e===void 0?!0:e}function Bn(e,t,n){if($i&&_r){let i=gf.get(e);i||gf.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=ag()),k1(o)}}function k1(e,t){let n=!1;Aa<=tm?A1(e)||(e.n|=Yi,n=!S1(e)):n=!e.has(_r),n&&(e.add(_r),_r.deps.push(e))}function hi(e,t,n,i,o,s){const a=gf.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&Ve(e)){const f=Number(i);a.forEach((d,p)=>{(p==="length"||p>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":Ve(e)?ug(n)&&l.push(a.get("length")):(l.push(a.get(qo)),Ws(e)&&l.push(a.get(nm)));break;case"delete":Ve(e)||(l.push(a.get(qo)),Ws(e)&&l.push(a.get(nm)));break;case"set":Ws(e)&&l.push(a.get(qo));break}if(l.length===1)l[0]&&rm(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);rm(ag(f))}}function rm(e,t){const n=Ve(e)?e:[...e];for(const i of n)i.computed&&F_(i);for(const i of n)i.computed||F_(i)}function F_(e,t){(e!==_r||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function yR(e,t){var n;return(n=gf.get(e))===null||n===void 0?void 0:n.get(t)}const wR=ng("__proto__,__v_isRef,__isVue"),C1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(sg)),bR=lg(),_R=lg(!1,!0),IR=lg(!0),j_=ER();function ER(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Je(this);for(let s=0,a=this.length;s<a;s++)Bn(i,"get",s+"");const o=i[t](...n);return o===-1||o===!1?i[t](...n.map(Je)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Su();const i=Je(this)[t].apply(this,n);return Au(),i}}),e}function TR(e){const t=Je(this);return Bn(t,"has",e),t.hasOwnProperty(e)}function lg(e=!1,t=!1){return function(i,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?UR:x1:t?P1:R1).get(i))return i;const a=Ve(i);if(!e){if(a&&et(j_,o))return Reflect.get(j_,o,s);if(o==="hasOwnProperty")return TR}const l=Reflect.get(i,o,s);return(sg(o)?C1.has(o):wR(o))||(e||Bn(i,"get",o),t)?l:st(l)?a&&ug(o)?l:l.value:Et(l)?e?L1(l):hr(l):l}}const SR=O1(),AR=O1(!0);function O1(e=!1){return function(n,i,o,s){let a=n[i];if(Js(a)&&st(a)&&!st(o))return!1;if(!e&&(!yf(o)&&!Js(o)&&(a=Je(a),o=Je(o)),!Ve(n)&&st(a)&&!st(o)))return a.value=o,!0;const l=Ve(n)&&ug(i)?Number(i)<n.length:et(n,i),f=Reflect.set(n,i,o,s);return n===Je(s)&&(l?za(o,a)&&hi(n,"set",i,o):hi(n,"add",i,o)),f}}function NR(e,t){const n=et(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&hi(e,"delete",t,void 0),i}function kR(e,t){const n=Reflect.has(e,t);return(!sg(t)||!C1.has(t))&&Bn(e,"has",t),n}function CR(e){return Bn(e,"iterate",Ve(e)?"length":qo),Reflect.ownKeys(e)}const D1={get:bR,set:SR,deleteProperty:NR,has:kR,ownKeys:CR},OR={get:IR,set(e,t){return!0},deleteProperty(e,t){return!0}},DR=bn({},D1,{get:_R,set:AR}),fg=e=>e,nh=e=>Reflect.getPrototypeOf(e);function jl(e,t,n=!1,i=!1){e=e.__v_raw;const o=Je(e),s=Je(t);n||(t!==s&&Bn(o,"get",t),Bn(o,"get",s));const{has:a}=nh(o),l=i?fg:n?pg:Ga;if(a.call(o,t))return l(e.get(t));if(a.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function Ul(e,t=!1){const n=this.__v_raw,i=Je(n),o=Je(e);return t||(e!==o&&Bn(i,"has",e),Bn(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Bl(e,t=!1){return e=e.__v_raw,!t&&Bn(Je(e),"iterate",qo),Reflect.get(e,"size",e)}function U_(e){e=Je(e);const t=Je(this);return nh(t).has.call(t,e)||(t.add(e),hi(t,"add",e,e)),this}function B_(e,t){t=Je(t);const n=Je(this),{has:i,get:o}=nh(n);let s=i.call(n,e);s||(e=Je(e),s=i.call(n,e));const a=o.call(n,e);return n.set(e,t),s?za(t,a)&&hi(n,"set",e,t):hi(n,"add",e,t),this}function $_(e){const t=Je(this),{has:n,get:i}=nh(t);let o=n.call(t,e);o||(e=Je(e),o=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return o&&hi(t,"delete",e,void 0),s}function q_(){const e=Je(this),t=e.size!==0,n=e.clear();return t&&hi(e,"clear",void 0,void 0),n}function $l(e,t){return function(i,o){const s=this,a=s.__v_raw,l=Je(a),f=t?fg:e?pg:Ga;return!e&&Bn(l,"iterate",qo),a.forEach((d,p)=>i.call(o,f(d),f(p),s))}}function ql(e,t,n){return function(...i){const o=this.__v_raw,s=Je(o),a=Ws(s),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,d=o[e](...i),p=n?fg:t?pg:Ga;return!t&&Bn(s,"iterate",f?nm:qo),{next(){const{value:m,done:g}=d.next();return g?{value:m,done:g}:{value:l?[p(m[0]),p(m[1])]:p(m),done:g}},[Symbol.iterator](){return this}}}}function Ai(e){return function(...t){return e==="delete"?!1:this}}function RR(){const e={get(s){return jl(this,s)},get size(){return Bl(this)},has:Ul,add:U_,set:B_,delete:$_,clear:q_,forEach:$l(!1,!1)},t={get(s){return jl(this,s,!1,!0)},get size(){return Bl(this)},has:Ul,add:U_,set:B_,delete:$_,clear:q_,forEach:$l(!1,!0)},n={get(s){return jl(this,s,!0)},get size(){return Bl(this,!0)},has(s){return Ul.call(this,s,!0)},add:Ai("add"),set:Ai("set"),delete:Ai("delete"),clear:Ai("clear"),forEach:$l(!0,!1)},i={get(s){return jl(this,s,!0,!0)},get size(){return Bl(this,!0)},has(s){return Ul.call(this,s,!0)},add:Ai("add"),set:Ai("set"),delete:Ai("delete"),clear:Ai("clear"),forEach:$l(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=ql(s,!1,!1),n[s]=ql(s,!0,!1),t[s]=ql(s,!1,!0),i[s]=ql(s,!0,!0)}),[e,n,t,i]}const[PR,xR,LR,MR]=RR();function hg(e,t){const n=t?e?MR:LR:e?xR:PR;return(i,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(et(n,o)&&o in i?n:i,o,s)}const VR={get:hg(!1,!1)},FR={get:hg(!1,!0)},jR={get:hg(!0,!1)},R1=new WeakMap,P1=new WeakMap,x1=new WeakMap,UR=new WeakMap;function BR(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $R(e){return e.__v_skip||!Object.isExtensible(e)?0:BR(lR(e))}function hr(e){return Js(e)?e:dg(e,!1,D1,VR,R1)}function qR(e){return dg(e,!1,DR,FR,P1)}function L1(e){return dg(e,!0,OR,jR,x1)}function dg(e,t,n,i,o){if(!Et(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=$R(e);if(a===0)return e;const l=new Proxy(e,a===2?i:n);return o.set(e,l),l}function qi(e){return Js(e)?qi(e.__v_raw):!!(e&&e.__v_isReactive)}function Js(e){return!!(e&&e.__v_isReadonly)}function yf(e){return!!(e&&e.__v_isShallow)}function M1(e){return qi(e)||Js(e)}function Je(e){const t=e&&e.__v_raw;return t?Je(t):e}function Xi(e){return mf(e,"__v_skip",!0),e}const Ga=e=>Et(e)?hr(e):e,pg=e=>Et(e)?L1(e):e;function V1(e){$i&&_r&&(e=Je(e),k1(e.dep||(e.dep=ag())))}function F1(e,t){e=Je(e);const n=e.dep;n&&rm(n)}function st(e){return!!(e&&e.__v_isRef===!0)}function wt(e){return j1(e,!1)}function KR(e){return j1(e,!0)}function j1(e,t){return st(e)?e:new HR(e,t)}class HR{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Je(t),this._value=n?t:Ga(t)}get value(){return V1(this),this._value}set value(t){const n=this.__v_isShallow||yf(t)||Js(t);t=n?t:Je(t),za(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ga(t),F1(this))}}function K(e){return st(e)?e.value:e}const zR={get:(e,t,n)=>K(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return st(o)&&!st(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function U1(e){return qi(e)?e:new Proxy(e,zR)}function GR(e){const t=Ve(e)?new Array(e.length):{};for(const n in e)t[n]=Ht(e,n);return t}class WR{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return yR(Je(this._object),this._key)}}function Ht(e,t,n){const i=e[t];return st(i)?i:new WR(e,t,n)}var B1;class QR{constructor(t,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[B1]=!1,this._dirty=!0,this.effect=new cg(t,()=>{this._dirty||(this._dirty=!0,F1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=Je(this);return V1(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}B1="__v_isReadonly";function YR(e,t,n=!1){let i,o;const s=Ue(e);return s?(i=e,o=Er):(i=e.get,o=e.set),new QR(i,o,s||!o,n)}function Ki(e,t,n,i){let o;try{o=i?e(...i):e()}catch(s){rh(s,t,n)}return o}function lr(e,t,n,i){if(Ue(e)){const s=Ki(e,t,n,i);return s&&w1(s)&&s.catch(a=>{rh(a,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(lr(e[s],t,n,i));return o}function rh(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,l=n;for(;s;){const d=s.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,a,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){Ki(f,null,10,[e,a,l]);return}}XR(e,n,o,i)}function XR(e,t,n,i=!0){console.error(e)}let Wa=!1,im=!1;const gn=[];let Kr=0;const Qs=[];let oi=null,xo=0;const $1=Promise.resolve();let vg=null;function er(e){const t=vg||$1;return e?t.then(this?e.bind(this):e):t}function JR(e){let t=Kr+1,n=gn.length;for(;t<n;){const i=t+n>>>1;Qa(gn[i])<e?t=i+1:n=i}return t}function mg(e){(!gn.length||!gn.includes(e,Wa&&e.allowRecurse?Kr+1:Kr))&&(e.id==null?gn.push(e):gn.splice(JR(e.id),0,e),q1())}function q1(){!Wa&&!im&&(im=!0,vg=$1.then(H1))}function ZR(e){const t=gn.indexOf(e);t>Kr&&gn.splice(t,1)}function eP(e){Ve(e)?Qs.push(...e):(!oi||!oi.includes(e,e.allowRecurse?xo+1:xo))&&Qs.push(e),q1()}function K_(e,t=Wa?Kr+1:0){for(;t<gn.length;t++){const n=gn[t];n&&n.pre&&(gn.splice(t,1),t--,n())}}function K1(e){if(Qs.length){const t=[...new Set(Qs)];if(Qs.length=0,oi){oi.push(...t);return}for(oi=t,oi.sort((n,i)=>Qa(n)-Qa(i)),xo=0;xo<oi.length;xo++)oi[xo]();oi=null,xo=0}}const Qa=e=>e.id==null?1/0:e.id,tP=(e,t)=>{const n=Qa(e)-Qa(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function H1(e){im=!1,Wa=!0,gn.sort(tP);const t=Er;try{for(Kr=0;Kr<gn.length;Kr++){const n=gn[Kr];n&&n.active!==!1&&Ki(n,null,14)}}finally{Kr=0,gn.length=0,K1(),Wa=!1,vg=null,(gn.length||Qs.length)&&H1()}}function nP(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||yt;let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in i){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:m,trim:g}=i[p]||yt;g&&(o=n.map(b=>Vt(b)?b.trim():b)),m&&(o=n.map(em))}let l,f=i[l=Av(t)]||i[l=Av(Gr(t))];!f&&s&&(f=i[l=Av(Tu(t))]),f&&lr(f,e,6,o);const d=i[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,lr(d,e,6,o)}}function z1(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const s=e.emits;let a={},l=!1;if(!Ue(e)){const f=d=>{const p=z1(d,t,!0);p&&(l=!0,bn(a,p))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(Et(e)&&i.set(e,null),null):(Ve(s)?s.forEach(f=>a[f]=null):bn(a,s),Et(e)&&i.set(e,a),a)}function ih(e,t){return!e||!Jf(t)?!1:(t=t.slice(2).replace(/Once$/,""),et(e,t[0].toLowerCase()+t.slice(1))||et(e,Tu(t))||et(e,t))}let cn=null,oh=null;function wf(e){const t=cn;return cn=e,oh=e&&e.type.__scopeId||null,t}function Or(e){oh=e}function Dr(){oh=null}function ht(e,t=cn,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&tI(-1);const s=wf(t);let a;try{a=e(...o)}finally{wf(s),i._d&&tI(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Nv(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[a],slots:l,attrs:f,emit:d,render:p,renderCache:m,data:g,setupState:b,ctx:I,inheritAttrs:A}=e;let P,C;const j=wf(e);try{if(n.shapeFlag&4){const J=o||i;P=qr(p.call(J,J,m,s,b,g,I)),C=f}else{const J=t;P=qr(J.length>1?J(s,{attrs:f,slots:l,emit:d}):J(s,null)),C=t.props?f:rP(f)}}catch(J){Ra.length=0,rh(J,e,1),P=Ae(fr)}let F=P;if(C&&A!==!1){const J=Object.keys(C),{shapeFlag:x}=F;J.length&&x&7&&(a&&J.some(ig)&&(C=iP(C,a)),F=Ji(F,C))}return n.dirs&&(F=Ji(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),P=F,wf(j),P}const rP=e=>{let t;for(const n in e)(n==="class"||n==="style"||Jf(n))&&((t||(t={}))[n]=e[n]);return t},iP=(e,t)=>{const n={};for(const i in e)(!ig(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function oP(e,t,n){const{props:i,children:o,component:s}=e,{props:a,children:l,patchFlag:f}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?H_(i,a,d):!!a;if(f&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const g=p[m];if(a[g]!==i[g]&&!ih(d,g))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?H_(i,a,d):!0:!!a;return!1}function H_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const s=i[o];if(t[s]!==e[s]&&!ih(n,s))return!0}return!1}function sP({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const uP=e=>e.__isSuspense;function aP(e,t){t&&t.pendingBranch?Ve(e)?t.effects.push(...e):t.effects.push(e):eP(e)}function Hi(e,t){if(Mt){let n=Mt.provides;const i=Mt.parent&&Mt.parent.provides;i===n&&(n=Mt.provides=Object.create(i)),n[e]=t}}function jn(e,t,n=!1){const i=Mt||cn;if(i){const o=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Ue(t)?t.call(i.proxy):t}}function G1(e,t){return gg(e,null,t)}const Kl={};function ut(e,t,n){return gg(e,t,n)}function gg(e,t,{immediate:n,deep:i,flush:o,onTrack:s,onTrigger:a}=yt){const l=T1()===(Mt==null?void 0:Mt.scope)?Mt:null;let f,d=!1,p=!1;if(st(e)?(f=()=>e.value,d=yf(e)):qi(e)?(f=()=>e,i=!0):Ve(e)?(p=!0,d=e.some(F=>qi(F)||yf(F)),f=()=>e.map(F=>{if(st(F))return F.value;if(qi(F))return Fo(F);if(Ue(F))return Ki(F,l,2)})):Ue(e)?t?f=()=>Ki(e,l,2):f=()=>{if(!(l&&l.isUnmounted))return m&&m(),lr(e,l,3,[g])}:f=Er,t&&i){const F=f;f=()=>Fo(F())}let m,g=F=>{m=C.onStop=()=>{Ki(F,l,4)}},b;if(Xa)if(g=Er,t?n&&lr(t,l,3,[f(),p?[]:void 0,g]):f(),o==="sync"){const F=nx();b=F.__watcherHandles||(F.__watcherHandles=[])}else return Er;let I=p?new Array(e.length).fill(Kl):Kl;const A=()=>{if(C.active)if(t){const F=C.run();(i||d||(p?F.some((J,x)=>za(J,I[x])):za(F,I)))&&(m&&m(),lr(t,l,3,[F,I===Kl?void 0:p&&I[0]===Kl?[]:I,g]),I=F)}else C.run()};A.allowRecurse=!!t;let P;o==="sync"?P=A:o==="post"?P=()=>Vn(A,l&&l.suspense):(A.pre=!0,l&&(A.id=l.uid),P=()=>mg(A));const C=new cg(f,P);t?n?A():I=C.run():o==="post"?Vn(C.run.bind(C),l&&l.suspense):C.run();const j=()=>{C.stop(),l&&l.scope&&og(l.scope.effects,C)};return b&&b.push(j),j}function cP(e,t,n){const i=this.proxy,o=Vt(e)?e.includes(".")?W1(i,e):()=>i[e]:e.bind(i,i);let s;Ue(t)?s=t:(s=t.handler,n=t);const a=Mt;eu(this);const l=gg(o,s.bind(i),n);return a?eu(a):Ko(),l}function W1(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function Fo(e,t){if(!Et(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),st(e))Fo(e.value,t);else if(Ve(e))for(let n=0;n<e.length;n++)Fo(e[n],t);else if(y1(e)||Ws(e))e.forEach(n=>{Fo(n,t)});else if(_1(e))for(const n in e)Fo(e[n],t);return e}function lP(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nu(()=>{e.isMounted=!0}),ku(()=>{e.isUnmounting=!0}),e}const cr=[Function,Array],fP={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:cr,onEnter:cr,onAfterEnter:cr,onEnterCancelled:cr,onBeforeLeave:cr,onLeave:cr,onAfterLeave:cr,onLeaveCancelled:cr,onBeforeAppear:cr,onAppear:cr,onAfterAppear:cr,onAppearCancelled:cr},setup(e,{slots:t}){const n=no(),i=lP();let o;return()=>{const s=t.default&&Y1(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const A of s)if(A.type!==fr){a=A;break}}const l=Je(e),{mode:f}=l;if(i.isLeaving)return kv(a);const d=z_(a);if(!d)return kv(a);const p=om(d,l,i,n);sm(d,p);const m=n.subTree,g=m&&z_(m);let b=!1;const{getTransitionKey:I}=d.type;if(I){const A=I();o===void 0?o=A:A!==o&&(o=A,b=!0)}if(g&&g.type!==fr&&(!Lo(d,g)||b)){const A=om(g,l,i,n);if(sm(g,A),f==="out-in")return i.isLeaving=!0,A.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},kv(a);f==="in-out"&&d.type!==fr&&(A.delayLeave=(P,C,j)=>{const F=Q1(i,g);F[String(g.key)]=g,P._leaveCb=()=>{C(),P._leaveCb=void 0,delete p.delayedLeave},p.delayedLeave=j})}return a}}},hP=fP;function Q1(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function om(e,t,n,i){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:m,onLeave:g,onAfterLeave:b,onLeaveCancelled:I,onBeforeAppear:A,onAppear:P,onAfterAppear:C,onAppearCancelled:j}=t,F=String(e.key),J=Q1(n,e),x=(k,$)=>{k&&lr(k,i,9,$)},O=(k,$)=>{const T=$[1];x(k,$),Ve(k)?k.every(Ee=>Ee.length<=1)&&T():k.length<=1&&T()},L={mode:s,persisted:a,beforeEnter(k){let $=l;if(!n.isMounted)if(o)$=A||l;else return;k._leaveCb&&k._leaveCb(!0);const T=J[F];T&&Lo(e,T)&&T.el._leaveCb&&T.el._leaveCb(),x($,[k])},enter(k){let $=f,T=d,Ee=p;if(!n.isMounted)if(o)$=P||f,T=C||d,Ee=j||p;else return;let Ne=!1;const $e=k._enterCb=xe=>{Ne||(Ne=!0,xe?x(Ee,[k]):x(T,[k]),L.delayedLeave&&L.delayedLeave(),k._enterCb=void 0)};$?O($,[k,$e]):$e()},leave(k,$){const T=String(e.key);if(k._enterCb&&k._enterCb(!0),n.isUnmounting)return $();x(m,[k]);let Ee=!1;const Ne=k._leaveCb=$e=>{Ee||(Ee=!0,$(),$e?x(I,[k]):x(b,[k]),k._leaveCb=void 0,J[T]===e&&delete J[T])};J[T]=e,g?O(g,[k,Ne]):Ne()},clone(k){return om(k,t,n,i)}};return L}function kv(e){if(sh(e))return e=Ji(e),e.children=null,e}function z_(e){return sh(e)?e.children?e.children[0]:void 0:e}function sm(e,t){e.shapeFlag&6&&e.component?sm(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Y1(e,t=!1,n){let i=[],o=0;for(let s=0;s<e.length;s++){let a=e[s];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===an?(a.patchFlag&128&&o++,i=i.concat(Y1(a.children,t,l))):(t||a.type!==fr)&&i.push(l!=null?Ji(a,{key:l}):a)}if(o>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function Jr(e){return Ue(e)?{setup:e,name:e.name}:e}const Ca=e=>!!e.type.__asyncLoader,sh=e=>e.type.__isKeepAlive;function dP(e,t){X1(e,"a",t)}function pP(e,t){X1(e,"da",t)}function X1(e,t,n=Mt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(uh(t,i,n),n){let o=n.parent;for(;o&&o.parent;)sh(o.parent.vnode)&&vP(i,t,n,o),o=o.parent}}function vP(e,t,n,i){const o=uh(t,e,i,!0);J1(()=>{og(i[t],o)},n)}function uh(e,t,n=Mt,i=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Su(),eu(n);const l=lr(t,n,e,a);return Ko(),Au(),l});return i?o.unshift(s):o.push(s),s}}const vi=e=>(t,n=Mt)=>(!Xa||e==="sp")&&uh(e,(...i)=>t(...i),n),mP=vi("bm"),Nu=vi("m"),gP=vi("bu"),yP=vi("u"),ku=vi("bum"),J1=vi("um"),wP=vi("sp"),bP=vi("rtg"),_P=vi("rtc");function IP(e,t=Mt){uh("ec",e,t)}function Zs(e,t){const n=cn;if(n===null)return e;const i=lh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,l,f,d=yt]=t[s];a&&(Ue(a)&&(a={mounted:a,updated:a}),a.deep&&Fo(l),o.push({dir:a,instance:i,value:l,oldValue:void 0,arg:f,modifiers:d}))}return e}function Co(e,t,n,i){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let f=l.dir[i];f&&(Su(),lr(f,n,8,[e.el,l,e,t]),Au())}}const yg="components";function Xe(e,t){return eT(yg,e,!0,t)||e}const Z1=Symbol();function Cu(e){return Vt(e)?eT(yg,e,!1)||e:e||Z1}function eT(e,t,n=!0,i=!1){const o=cn||Mt;if(o){const s=o.type;if(e===yg){const l=ZP(s,!1);if(l&&(l===t||l===Gr(t)||l===th(Gr(t))))return s}const a=G_(o[e]||s[e],t)||G_(o.appContext[e],t);return!a&&i?s:a}}function G_(e,t){return e&&(e[t]||e[Gr(t)]||e[th(Gr(t))])}function wg(e,t,n,i){let o;const s=n&&n[i];if(Ve(e)||Vt(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,s&&s[a])}else if(Et(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=t(e[d],d,l,s&&s[l])}}else o=[];return n&&(n[i]=o),o}function bg(e,t,n={},i,o){if(cn.isCE||cn.parent&&Ca(cn.parent)&&cn.parent.isCE)return t!=="default"&&(n.name=t),Ae("slot",n,i&&i());let s=e[t];s&&s._c&&(s._d=!1),Le();const a=s&&tT(s(n)),l=An(an,{key:n.key||a&&a.key||`_${t}`},a||(i?i():[]),a&&e._===1?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function tT(e){return e.some(t=>_f(t)?!(t.type===fr||t.type===an&&!tT(t.children)):!0)?e:null}const um=e=>e?pT(e)?lh(e)||e.proxy:um(e.parent):null,Oa=bn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>um(e.parent),$root:e=>um(e.root),$emit:e=>e.emit,$options:e=>_g(e),$forceUpdate:e=>e.f||(e.f=()=>mg(e.update)),$nextTick:e=>e.n||(e.n=er.bind(e.proxy)),$watch:e=>cP.bind(e)}),Cv=(e,t)=>e!==yt&&!e.__isScriptSetup&&et(e,t),EP={get({_:e},t){const{ctx:n,setupState:i,data:o,props:s,accessCache:a,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Cv(i,t))return a[t]=1,i[t];if(o!==yt&&et(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&et(d,t))return a[t]=3,s[t];if(n!==yt&&et(n,t))return a[t]=4,n[t];am&&(a[t]=0)}}const p=Oa[t];let m,g;if(p)return t==="$attrs"&&Bn(e,"get",t),p(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==yt&&et(n,t))return a[t]=4,n[t];if(g=f.config.globalProperties,et(g,t))return g[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;return Cv(o,t)?(o[t]=n,!0):i!==yt&&et(i,t)?(i[t]=n,!0):et(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==yt&&et(e,a)||Cv(t,a)||(l=s[0])&&et(l,a)||et(i,a)||et(Oa,a)||et(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:et(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let am=!0;function TP(e){const t=_g(e),n=e.proxy,i=e.ctx;am=!1,t.beforeCreate&&W_(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:l,provide:f,inject:d,created:p,beforeMount:m,mounted:g,beforeUpdate:b,updated:I,activated:A,deactivated:P,beforeDestroy:C,beforeUnmount:j,destroyed:F,unmounted:J,render:x,renderTracked:O,renderTriggered:L,errorCaptured:k,serverPrefetch:$,expose:T,inheritAttrs:Ee,components:Ne,directives:$e,filters:xe}=t;if(d&&SP(d,i,null,e.appContext.config.unwrapInjectedRef),a)for(const fe in a){const me=a[fe];Ue(me)&&(i[fe]=me.bind(n))}if(o){const fe=o.call(n,n);Et(fe)&&(e.data=hr(fe))}if(am=!0,s)for(const fe in s){const me=s[fe],Ge=Ue(me)?me.bind(n,n):Ue(me.get)?me.get.bind(n,n):Er,tt=!Ue(me)&&Ue(me.set)?me.set.bind(n):Er,it=Ce({get:Ge,set:tt});Object.defineProperty(i,fe,{enumerable:!0,configurable:!0,get:()=>it.value,set:Ze=>it.value=Ze})}if(l)for(const fe in l)nT(l[fe],i,n,fe);if(f){const fe=Ue(f)?f.call(n):f;Reflect.ownKeys(fe).forEach(me=>{Hi(me,fe[me])})}p&&W_(p,e,"c");function he(fe,me){Ve(me)?me.forEach(Ge=>fe(Ge.bind(n))):me&&fe(me.bind(n))}if(he(mP,m),he(Nu,g),he(gP,b),he(yP,I),he(dP,A),he(pP,P),he(IP,k),he(_P,O),he(bP,L),he(ku,j),he(J1,J),he(wP,$),Ve(T))if(T.length){const fe=e.exposed||(e.exposed={});T.forEach(me=>{Object.defineProperty(fe,me,{get:()=>n[me],set:Ge=>n[me]=Ge})})}else e.exposed||(e.exposed={});x&&e.render===Er&&(e.render=x),Ee!=null&&(e.inheritAttrs=Ee),Ne&&(e.components=Ne),$e&&(e.directives=$e)}function SP(e,t,n=Er,i=!1){Ve(e)&&(e=cm(e));for(const o in e){const s=e[o];let a;Et(s)?"default"in s?a=jn(s.from||o,s.default,!0):a=jn(s.from||o):a=jn(s),st(a)&&i?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function W_(e,t,n){lr(Ve(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function nT(e,t,n,i){const o=i.includes(".")?W1(n,i):()=>n[i];if(Vt(e)){const s=t[e];Ue(s)&&ut(o,s)}else if(Ue(e))ut(o,e.bind(n));else if(Et(e))if(Ve(e))e.forEach(s=>nT(s,t,n,i));else{const s=Ue(e.handler)?e.handler.bind(n):t[e.handler];Ue(s)&&ut(o,s,e)}}function _g(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!i?f=t:(f={},o.length&&o.forEach(d=>bf(f,d,a,!0)),bf(f,t,a)),Et(t)&&s.set(t,f),f}function bf(e,t,n,i=!1){const{mixins:o,extends:s}=t;s&&bf(e,s,n,!0),o&&o.forEach(a=>bf(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const l=AP[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const AP={data:Q_,props:Ro,emits:Ro,methods:Ro,computed:Ro,beforeCreate:Sn,created:Sn,beforeMount:Sn,mounted:Sn,beforeUpdate:Sn,updated:Sn,beforeDestroy:Sn,beforeUnmount:Sn,destroyed:Sn,unmounted:Sn,activated:Sn,deactivated:Sn,errorCaptured:Sn,serverPrefetch:Sn,components:Ro,directives:Ro,watch:kP,provide:Q_,inject:NP};function Q_(e,t){return t?e?function(){return bn(Ue(e)?e.call(this,this):e,Ue(t)?t.call(this,this):t)}:t:e}function NP(e,t){return Ro(cm(e),cm(t))}function cm(e){if(Ve(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Sn(e,t){return e?[...new Set([].concat(e,t))]:t}function Ro(e,t){return e?bn(bn(Object.create(null),e),t):t}function kP(e,t){if(!e)return t;if(!t)return e;const n=bn(Object.create(null),e);for(const i in t)n[i]=Sn(e[i],t[i]);return n}function CP(e,t,n,i=!1){const o={},s={};mf(s,ch,1),e.propsDefaults=Object.create(null),rT(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=i?o:qR(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function OP(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,l=Je(o),[f]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let m=0;m<p.length;m++){let g=p[m];if(ih(e.emitsOptions,g))continue;const b=t[g];if(f)if(et(s,g))b!==s[g]&&(s[g]=b,d=!0);else{const I=Gr(g);o[I]=lm(f,l,I,b,e,!1)}else b!==s[g]&&(s[g]=b,d=!0)}}}else{rT(e,t,o,s)&&(d=!0);let p;for(const m in l)(!t||!et(t,m)&&((p=Tu(m))===m||!et(t,p)))&&(f?n&&(n[m]!==void 0||n[p]!==void 0)&&(o[m]=lm(f,l,m,void 0,e,!0)):delete o[m]);if(s!==l)for(const m in s)(!t||!et(t,m))&&(delete s[m],d=!0)}d&&hi(e,"set","$attrs")}function rT(e,t,n,i){const[o,s]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(of(f))continue;const d=t[f];let p;o&&et(o,p=Gr(f))?!s||!s.includes(p)?n[p]=d:(l||(l={}))[p]=d:ih(e.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(s){const f=Je(n),d=l||yt;for(let p=0;p<s.length;p++){const m=s[p];n[m]=lm(o,f,m,d[m],e,!et(d,m))}}return a}function lm(e,t,n,i,o,s){const a=e[n];if(a!=null){const l=et(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&Ue(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(eu(o),i=d[n]=f.call(null,t),Ko())}else i=f}a[0]&&(s&&!l?i=!1:a[1]&&(i===""||i===Tu(n))&&(i=!0))}return i}function iT(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const s=e.props,a={},l=[];let f=!1;if(!Ue(e)){const p=m=>{f=!0;const[g,b]=iT(m,t,!0);bn(a,g),b&&l.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!s&&!f)return Et(e)&&i.set(e,Gs),Gs;if(Ve(s))for(let p=0;p<s.length;p++){const m=Gr(s[p]);Y_(m)&&(a[m]=yt)}else if(s)for(const p in s){const m=Gr(p);if(Y_(m)){const g=s[p],b=a[m]=Ve(g)||Ue(g)?{type:g}:Object.assign({},g);if(b){const I=Z_(Boolean,b.type),A=Z_(String,b.type);b[0]=I>-1,b[1]=A<0||I<A,(I>-1||et(b,"default"))&&l.push(m)}}}const d=[a,l];return Et(e)&&i.set(e,d),d}function Y_(e){return e[0]!=="$"}function X_(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function J_(e,t){return X_(e)===X_(t)}function Z_(e,t){return Ve(t)?t.findIndex(n=>J_(n,e)):Ue(t)&&J_(t,e)?0:-1}const oT=e=>e[0]==="_"||e==="$stable",Ig=e=>Ve(e)?e.map(qr):[qr(e)],DP=(e,t,n)=>{if(t._n)return t;const i=ht((...o)=>Ig(t(...o)),n);return i._c=!1,i},sT=(e,t,n)=>{const i=e._ctx;for(const o in e){if(oT(o))continue;const s=e[o];if(Ue(s))t[o]=DP(o,s,i);else if(s!=null){const a=Ig(s);t[o]=()=>a}}},uT=(e,t)=>{const n=Ig(t);e.slots.default=()=>n},RP=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Je(t),mf(t,"_",n)):sT(t,e.slots={})}else e.slots={},t&&uT(e,t);mf(e.slots,ch,1)},PP=(e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,a=yt;if(i.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(bn(o,t),!n&&l===1&&delete o._):(s=!t.$stable,sT(t,o)),a=t}else t&&(uT(e,t),a={default:1});if(s)for(const l in o)!oT(l)&&!(l in a)&&delete o[l]};function aT(){return{app:null,config:{isNativeTag:uR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xP=0;function LP(e,t){return function(i,o=null){Ue(i)||(i=Object.assign({},i)),o!=null&&!Et(o)&&(o=null);const s=aT(),a=new Set;let l=!1;const f=s.app={_uid:xP++,_component:i,_props:o,_container:null,_context:s,_instance:null,version:rx,get config(){return s.config},set config(d){},use(d,...p){return a.has(d)||(d&&Ue(d.install)?(a.add(d),d.install(f,...p)):Ue(d)&&(a.add(d),d(f,...p))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,p){return p?(s.components[d]=p,f):s.components[d]},directive(d,p){return p?(s.directives[d]=p,f):s.directives[d]},mount(d,p,m){if(!l){const g=Ae(i,o);return g.appContext=s,p&&t?t(g,d):e(g,d,m),l=!0,f._container=d,d.__vue_app__=f,lh(g.component)||g.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,p){return s.provides[d]=p,f}};return f}}function fm(e,t,n,i,o=!1){if(Ve(e)){e.forEach((g,b)=>fm(g,t&&(Ve(t)?t[b]:t),n,i,o));return}if(Ca(i)&&!o)return;const s=i.shapeFlag&4?lh(i.component)||i.component.proxy:i.el,a=o?null:s,{i:l,r:f}=e,d=t&&t.r,p=l.refs===yt?l.refs={}:l.refs,m=l.setupState;if(d!=null&&d!==f&&(Vt(d)?(p[d]=null,et(m,d)&&(m[d]=null)):st(d)&&(d.value=null)),Ue(f))Ki(f,l,12,[a,p]);else{const g=Vt(f),b=st(f);if(g||b){const I=()=>{if(e.f){const A=g?et(m,f)?m[f]:p[f]:f.value;o?Ve(A)&&og(A,s):Ve(A)?A.includes(s)||A.push(s):g?(p[f]=[s],et(m,f)&&(m[f]=p[f])):(f.value=[s],e.k&&(p[e.k]=f.value))}else g?(p[f]=a,et(m,f)&&(m[f]=a)):b&&(f.value=a,e.k&&(p[e.k]=a))};a?(I.id=-1,Vn(I,n)):I()}}}const Vn=aP;function MP(e){return VP(e)}function VP(e,t){const n=dR();n.__VUE__=!0;const{insert:i,remove:o,patchProp:s,createElement:a,createText:l,createComment:f,setText:d,setElementText:p,parentNode:m,nextSibling:g,setScopeId:b=Er,insertStaticContent:I}=e,A=(E,D,U,G=null,Y=null,se=null,ae=!1,ie=null,le=!!D.dynamicChildren)=>{if(E===D)return;E&&!Lo(E,D)&&(G=R(E),Ze(E,Y,se,!0),E=null),D.patchFlag===-2&&(le=!1,D.dynamicChildren=null);const{type:_,ref:N,shapeFlag:M}=D;switch(_){case ah:P(E,D,U,G);break;case fr:C(E,D,U,G);break;case uf:E==null&&j(D,U,G,ae);break;case an:Ne(E,D,U,G,Y,se,ae,ie,le);break;default:M&1?x(E,D,U,G,Y,se,ae,ie,le):M&6?$e(E,D,U,G,Y,se,ae,ie,le):(M&64||M&128)&&_.process(E,D,U,G,Y,se,ae,ie,le,pe)}N!=null&&Y&&fm(N,E&&E.ref,se,D||E,!D)},P=(E,D,U,G)=>{if(E==null)i(D.el=l(D.children),U,G);else{const Y=D.el=E.el;D.children!==E.children&&d(Y,D.children)}},C=(E,D,U,G)=>{E==null?i(D.el=f(D.children||""),U,G):D.el=E.el},j=(E,D,U,G)=>{[E.el,E.anchor]=I(E.children,D,U,G,E.el,E.anchor)},F=({el:E,anchor:D},U,G)=>{let Y;for(;E&&E!==D;)Y=g(E),i(E,U,G),E=Y;i(D,U,G)},J=({el:E,anchor:D})=>{let U;for(;E&&E!==D;)U=g(E),o(E),E=U;o(D)},x=(E,D,U,G,Y,se,ae,ie,le)=>{ae=ae||D.type==="svg",E==null?O(D,U,G,Y,se,ae,ie,le):$(E,D,Y,se,ae,ie,le)},O=(E,D,U,G,Y,se,ae,ie)=>{let le,_;const{type:N,props:M,shapeFlag:q,transition:ne,dirs:X}=E;if(le=E.el=a(E.type,se,M&&M.is,M),q&8?p(le,E.children):q&16&&k(E.children,le,null,G,Y,se&&N!=="foreignObject",ae,ie),X&&Co(E,null,G,"created"),L(le,E,E.scopeId,ae,G),M){for(const ve in M)ve!=="value"&&!of(ve)&&s(le,ve,null,M[ve],se,E.children,G,Y,ce);"value"in M&&s(le,"value",null,M.value),(_=M.onVnodeBeforeMount)&&Br(_,G,E)}X&&Co(E,null,G,"beforeMount");const Q=(!Y||Y&&!Y.pendingBranch)&&ne&&!ne.persisted;Q&&ne.beforeEnter(le),i(le,D,U),((_=M&&M.onVnodeMounted)||Q||X)&&Vn(()=>{_&&Br(_,G,E),Q&&ne.enter(le),X&&Co(E,null,G,"mounted")},Y)},L=(E,D,U,G,Y)=>{if(U&&b(E,U),G)for(let se=0;se<G.length;se++)b(E,G[se]);if(Y){let se=Y.subTree;if(D===se){const ae=Y.vnode;L(E,ae,ae.scopeId,ae.slotScopeIds,Y.parent)}}},k=(E,D,U,G,Y,se,ae,ie,le=0)=>{for(let _=le;_<E.length;_++){const N=E[_]=ie?Li(E[_]):qr(E[_]);A(null,N,D,U,G,Y,se,ae,ie)}},$=(E,D,U,G,Y,se,ae)=>{const ie=D.el=E.el;let{patchFlag:le,dynamicChildren:_,dirs:N}=D;le|=E.patchFlag&16;const M=E.props||yt,q=D.props||yt;let ne;U&&Oo(U,!1),(ne=q.onVnodeBeforeUpdate)&&Br(ne,U,D,E),N&&Co(D,E,U,"beforeUpdate"),U&&Oo(U,!0);const X=Y&&D.type!=="foreignObject";if(_?T(E.dynamicChildren,_,ie,U,G,X,se):ae||me(E,D,ie,null,U,G,X,se,!1),le>0){if(le&16)Ee(ie,D,M,q,U,G,Y);else if(le&2&&M.class!==q.class&&s(ie,"class",null,q.class,Y),le&4&&s(ie,"style",M.style,q.style,Y),le&8){const Q=D.dynamicProps;for(let ve=0;ve<Q.length;ve++){const De=Q[ve],Fe=M[De],Hn=q[De];(Hn!==Fe||De==="value")&&s(ie,De,Fe,Hn,Y,E.children,U,G,ce)}}le&1&&E.children!==D.children&&p(ie,D.children)}else!ae&&_==null&&Ee(ie,D,M,q,U,G,Y);((ne=q.onVnodeUpdated)||N)&&Vn(()=>{ne&&Br(ne,U,D,E),N&&Co(D,E,U,"updated")},G)},T=(E,D,U,G,Y,se,ae)=>{for(let ie=0;ie<D.length;ie++){const le=E[ie],_=D[ie],N=le.el&&(le.type===an||!Lo(le,_)||le.shapeFlag&70)?m(le.el):U;A(le,_,N,null,G,Y,se,ae,!0)}},Ee=(E,D,U,G,Y,se,ae)=>{if(U!==G){if(U!==yt)for(const ie in U)!of(ie)&&!(ie in G)&&s(E,ie,U[ie],null,ae,D.children,Y,se,ce);for(const ie in G){if(of(ie))continue;const le=G[ie],_=U[ie];le!==_&&ie!=="value"&&s(E,ie,_,le,ae,D.children,Y,se,ce)}"value"in G&&s(E,"value",U.value,G.value)}},Ne=(E,D,U,G,Y,se,ae,ie,le)=>{const _=D.el=E?E.el:l(""),N=D.anchor=E?E.anchor:l("");let{patchFlag:M,dynamicChildren:q,slotScopeIds:ne}=D;ne&&(ie=ie?ie.concat(ne):ne),E==null?(i(_,U,G),i(N,U,G),k(D.children,U,N,Y,se,ae,ie,le)):M>0&&M&64&&q&&E.dynamicChildren?(T(E.dynamicChildren,q,U,Y,se,ae,ie),(D.key!=null||Y&&D===Y.subTree)&&Eg(E,D,!0)):me(E,D,U,N,Y,se,ae,ie,le)},$e=(E,D,U,G,Y,se,ae,ie,le)=>{D.slotScopeIds=ie,E==null?D.shapeFlag&512?Y.ctx.activate(D,U,G,ae,le):xe(D,U,G,Y,se,ae,le):be(E,D,le)},xe=(E,D,U,G,Y,se,ae)=>{const ie=E.component=WP(E,G,Y);if(sh(E)&&(ie.ctx.renderer=pe),QP(ie),ie.asyncDep){if(Y&&Y.registerDep(ie,he),!E.el){const le=ie.subTree=Ae(fr);C(null,le,D,U)}return}he(ie,E,D,U,Y,se,ae)},be=(E,D,U)=>{const G=D.component=E.component;if(oP(E,D,U))if(G.asyncDep&&!G.asyncResolved){fe(G,D,U);return}else G.next=D,ZR(G.update),G.update();else D.el=E.el,G.vnode=D},he=(E,D,U,G,Y,se,ae)=>{const ie=()=>{if(E.isMounted){let{next:N,bu:M,u:q,parent:ne,vnode:X}=E,Q=N,ve;Oo(E,!1),N?(N.el=X.el,fe(E,N,ae)):N=X,M&&sf(M),(ve=N.props&&N.props.onVnodeBeforeUpdate)&&Br(ve,ne,N,X),Oo(E,!0);const De=Nv(E),Fe=E.subTree;E.subTree=De,A(Fe,De,m(Fe.el),R(Fe),E,Y,se),N.el=De.el,Q===null&&sP(E,De.el),q&&Vn(q,Y),(ve=N.props&&N.props.onVnodeUpdated)&&Vn(()=>Br(ve,ne,N,X),Y)}else{let N;const{el:M,props:q}=D,{bm:ne,m:X,parent:Q}=E,ve=Ca(D);if(Oo(E,!1),ne&&sf(ne),!ve&&(N=q&&q.onVnodeBeforeMount)&&Br(N,Q,D),Oo(E,!0),M&&_e){const De=()=>{E.subTree=Nv(E),_e(M,E.subTree,E,Y,null)};ve?D.type.__asyncLoader().then(()=>!E.isUnmounted&&De()):De()}else{const De=E.subTree=Nv(E);A(null,De,U,G,E,Y,se),D.el=De.el}if(X&&Vn(X,Y),!ve&&(N=q&&q.onVnodeMounted)){const De=D;Vn(()=>Br(N,Q,De),Y)}(D.shapeFlag&256||Q&&Ca(Q.vnode)&&Q.vnode.shapeFlag&256)&&E.a&&Vn(E.a,Y),E.isMounted=!0,D=U=G=null}},le=E.effect=new cg(ie,()=>mg(_),E.scope),_=E.update=()=>le.run();_.id=E.uid,Oo(E,!0),_()},fe=(E,D,U)=>{D.component=E;const G=E.vnode.props;E.vnode=D,E.next=null,OP(E,D.props,G,U),PP(E,D.children,U),Su(),K_(),Au()},me=(E,D,U,G,Y,se,ae,ie,le=!1)=>{const _=E&&E.children,N=E?E.shapeFlag:0,M=D.children,{patchFlag:q,shapeFlag:ne}=D;if(q>0){if(q&128){tt(_,M,U,G,Y,se,ae,ie,le);return}else if(q&256){Ge(_,M,U,G,Y,se,ae,ie,le);return}}ne&8?(N&16&&ce(_,Y,se),M!==_&&p(U,M)):N&16?ne&16?tt(_,M,U,G,Y,se,ae,ie,le):ce(_,Y,se,!0):(N&8&&p(U,""),ne&16&&k(M,U,G,Y,se,ae,ie,le))},Ge=(E,D,U,G,Y,se,ae,ie,le)=>{E=E||Gs,D=D||Gs;const _=E.length,N=D.length,M=Math.min(_,N);let q;for(q=0;q<M;q++){const ne=D[q]=le?Li(D[q]):qr(D[q]);A(E[q],ne,U,null,Y,se,ae,ie,le)}_>N?ce(E,Y,se,!0,!1,M):k(D,U,G,Y,se,ae,ie,le,M)},tt=(E,D,U,G,Y,se,ae,ie,le)=>{let _=0;const N=D.length;let M=E.length-1,q=N-1;for(;_<=M&&_<=q;){const ne=E[_],X=D[_]=le?Li(D[_]):qr(D[_]);if(Lo(ne,X))A(ne,X,U,null,Y,se,ae,ie,le);else break;_++}for(;_<=M&&_<=q;){const ne=E[M],X=D[q]=le?Li(D[q]):qr(D[q]);if(Lo(ne,X))A(ne,X,U,null,Y,se,ae,ie,le);else break;M--,q--}if(_>M){if(_<=q){const ne=q+1,X=ne<N?D[ne].el:G;for(;_<=q;)A(null,D[_]=le?Li(D[_]):qr(D[_]),U,X,Y,se,ae,ie,le),_++}}else if(_>q)for(;_<=M;)Ze(E[_],Y,se,!0),_++;else{const ne=_,X=_,Q=new Map;for(_=X;_<=q;_++){const At=D[_]=le?Li(D[_]):qr(D[_]);At.key!=null&&Q.set(At.key,_)}let ve,De=0;const Fe=q-X+1;let Hn=!1,Qe=0;const gi=new Array(Fe);for(_=0;_<Fe;_++)gi[_]=0;for(_=ne;_<=M;_++){const At=E[_];if(De>=Fe){Ze(At,Y,se,!0);continue}let zn;if(At.key!=null)zn=Q.get(At.key);else for(ve=X;ve<=q;ve++)if(gi[ve-X]===0&&Lo(At,D[ve])){zn=ve;break}zn===void 0?Ze(At,Y,se,!0):(gi[zn-X]=_+1,zn>=Qe?Qe=zn:Hn=!0,A(At,D[zn],U,null,Y,se,ae,ie,le),De++)}const Rr=Hn?FP(gi):Gs;for(ve=Rr.length-1,_=Fe-1;_>=0;_--){const At=X+_,zn=D[At],tn=At+1<N?D[At+1].el:G;gi[_]===0?A(null,zn,U,tn,Y,se,ae,ie,le):Hn&&(ve<0||_!==Rr[ve]?it(zn,U,tn,2):ve--)}}},it=(E,D,U,G,Y=null)=>{const{el:se,type:ae,transition:ie,children:le,shapeFlag:_}=E;if(_&6){it(E.component.subTree,D,U,G);return}if(_&128){E.suspense.move(D,U,G);return}if(_&64){ae.move(E,D,U,pe);return}if(ae===an){i(se,D,U);for(let M=0;M<le.length;M++)it(le[M],D,U,G);i(E.anchor,D,U);return}if(ae===uf){F(E,D,U);return}if(G!==2&&_&1&&ie)if(G===0)ie.beforeEnter(se),i(se,D,U),Vn(()=>ie.enter(se),Y);else{const{leave:M,delayLeave:q,afterLeave:ne}=ie,X=()=>i(se,D,U),Q=()=>{M(se,()=>{X(),ne&&ne()})};q?q(se,X,Q):Q()}else i(se,D,U)},Ze=(E,D,U,G=!1,Y=!1)=>{const{type:se,props:ae,ref:ie,children:le,dynamicChildren:_,shapeFlag:N,patchFlag:M,dirs:q}=E;if(ie!=null&&fm(ie,null,U,E,!0),N&256){D.ctx.deactivate(E);return}const ne=N&1&&q,X=!Ca(E);let Q;if(X&&(Q=ae&&ae.onVnodeBeforeUnmount)&&Br(Q,D,E),N&6)W(E.component,U,G);else{if(N&128){E.suspense.unmount(U,G);return}ne&&Co(E,null,D,"beforeUnmount"),N&64?E.type.remove(E,D,U,Y,pe,G):_&&(se!==an||M>0&&M&64)?ce(_,D,U,!1,!0):(se===an&&M&384||!Y&&N&16)&&ce(le,D,U),G&&Ot(E)}(X&&(Q=ae&&ae.onVnodeUnmounted)||ne)&&Vn(()=>{Q&&Br(Q,D,E),ne&&Co(E,null,D,"unmounted")},U)},Ot=E=>{const{type:D,el:U,anchor:G,transition:Y}=E;if(D===an){en(U,G);return}if(D===uf){J(E);return}const se=()=>{o(U),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(E.shapeFlag&1&&Y&&!Y.persisted){const{leave:ae,delayLeave:ie}=Y,le=()=>ae(U,se);ie?ie(E.el,se,le):le()}else se()},en=(E,D)=>{let U;for(;E!==D;)U=g(E),o(E),E=U;o(D)},W=(E,D,U)=>{const{bum:G,scope:Y,update:se,subTree:ae,um:ie}=E;G&&sf(G),Y.stop(),se&&(se.active=!1,Ze(ae,E,D,U)),ie&&Vn(ie,D),Vn(()=>{E.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},ce=(E,D,U,G=!1,Y=!1,se=0)=>{for(let ae=se;ae<E.length;ae++)Ze(E[ae],D,U,G,Y)},R=E=>E.shapeFlag&6?R(E.component.subTree):E.shapeFlag&128?E.suspense.next():g(E.anchor||E.el),H=(E,D,U)=>{E==null?D._vnode&&Ze(D._vnode,null,null,!0):A(D._vnode||null,E,D,null,null,null,U),K_(),K1(),D._vnode=E},pe={p:A,um:Ze,m:it,r:Ot,mt:xe,mc:k,pc:me,pbc:T,n:R,o:e};let We,_e;return t&&([We,_e]=t(pe)),{render:H,hydrate:We,createApp:LP(H,We)}}function Oo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Eg(e,t,n=!1){const i=e.children,o=t.children;if(Ve(i)&&Ve(o))for(let s=0;s<i.length;s++){const a=i[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Li(o[s]),l.el=a.el),n||Eg(a,l)),l.type===ah&&(l.el=a.el)}}function FP(e){const t=e.slice(),n=[0];let i,o,s,a,l;const f=e.length;for(i=0;i<f;i++){const d=e[i];if(d!==0){if(o=n[n.length-1],e[o]<d){t[i]=o,n.push(i);continue}for(s=0,a=n.length-1;s<a;)l=s+a>>1,e[n[l]]<d?s=l+1:a=l;d<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const jP=e=>e.__isTeleport,Da=e=>e&&(e.disabled||e.disabled===""),eI=e=>typeof SVGElement<"u"&&e instanceof SVGElement,hm=(e,t)=>{const n=e&&e.to;return Vt(n)?t?t(n):null:n},UP={__isTeleport:!0,process(e,t,n,i,o,s,a,l,f,d){const{mc:p,pc:m,pbc:g,o:{insert:b,querySelector:I,createText:A,createComment:P}}=d,C=Da(t.props);let{shapeFlag:j,children:F,dynamicChildren:J}=t;if(e==null){const x=t.el=A(""),O=t.anchor=A("");b(x,n,i),b(O,n,i);const L=t.target=hm(t.props,I),k=t.targetAnchor=A("");L&&(b(k,L),a=a||eI(L));const $=(T,Ee)=>{j&16&&p(F,T,Ee,o,s,a,l,f)};C?$(n,O):L&&$(L,k)}else{t.el=e.el;const x=t.anchor=e.anchor,O=t.target=e.target,L=t.targetAnchor=e.targetAnchor,k=Da(e.props),$=k?n:O,T=k?x:L;if(a=a||eI(O),J?(g(e.dynamicChildren,J,$,o,s,a,l),Eg(e,t,!0)):f||m(e,t,$,T,o,s,a,l,!1),C)k||Hl(t,n,x,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Ee=t.target=hm(t.props,I);Ee&&Hl(t,Ee,null,d,0)}else k&&Hl(t,O,L,d,1)}cT(t)},remove(e,t,n,i,{um:o,o:{remove:s}},a){const{shapeFlag:l,children:f,anchor:d,targetAnchor:p,target:m,props:g}=e;if(m&&s(p),(a||!Da(g))&&(s(d),l&16))for(let b=0;b<f.length;b++){const I=f[b];o(I,t,n,!0,!!I.dynamicChildren)}},move:Hl,hydrate:BP};function Hl(e,t,n,{o:{insert:i},m:o},s=2){s===0&&i(e.targetAnchor,t,n);const{el:a,anchor:l,shapeFlag:f,children:d,props:p}=e,m=s===2;if(m&&i(a,t,n),(!m||Da(p))&&f&16)for(let g=0;g<d.length;g++)o(d[g],t,n,2);m&&i(l,t,n)}function BP(e,t,n,i,o,s,{o:{nextSibling:a,parentNode:l,querySelector:f}},d){const p=t.target=hm(t.props,f);if(p){const m=p._lpa||p.firstChild;if(t.shapeFlag&16)if(Da(t.props))t.anchor=d(a(e),t,l(e),n,i,o,s),t.targetAnchor=m;else{t.anchor=a(e);let g=m;for(;g;)if(g=a(g),g&&g.nodeType===8&&g.data==="teleport anchor"){t.targetAnchor=g,p._lpa=t.targetAnchor&&a(t.targetAnchor);break}d(m,t,p,n,i,o,s)}cT(t)}return t.anchor&&a(t.anchor)}const $P=UP;function cT(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const an=Symbol(void 0),ah=Symbol(void 0),fr=Symbol(void 0),uf=Symbol(void 0),Ra=[];let Ir=null;function Le(e=!1){Ra.push(Ir=e?null:[])}function qP(){Ra.pop(),Ir=Ra[Ra.length-1]||null}let Ya=1;function tI(e){Ya+=e}function lT(e){return e.dynamicChildren=Ya>0?Ir||Gs:null,qP(),Ya>0&&Ir&&Ir.push(e),e}function at(e,t,n,i,o,s){return lT(V(e,t,n,i,o,s,!0))}function An(e,t,n,i,o){return lT(Ae(e,t,n,i,o,!0))}function _f(e){return e?e.__v_isVNode===!0:!1}function Lo(e,t){return e.type===t.type&&e.key===t.key}const ch="__vInternal",fT=({key:e})=>e??null,af=({ref:e,ref_key:t,ref_for:n})=>e!=null?Vt(e)||st(e)||Ue(e)?{i:cn,r:e,k:t,f:!!n}:e:null;function V(e,t=null,n=null,i=0,o=null,s=e===an?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&fT(t),ref:t&&af(t),scopeId:oh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:cn};return l?(Tg(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Vt(n)?8:16),Ya>0&&!a&&Ir&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Ir.push(f),f}const Ae=KP;function KP(e,t=null,n=null,i=0,o=null,s=!1){if((!e||e===Z1)&&(e=fr),_f(e)){const l=Ji(e,t,!0);return n&&Tg(l,n),Ya>0&&!s&&Ir&&(l.shapeFlag&6?Ir[Ir.indexOf(e)]=l:Ir.push(l)),l.patchFlag|=-2,l}if(ex(e)&&(e=e.__vccOpts),t){t=HP(t);let{class:l,style:f}=t;l&&!Vt(l)&&(t.class=Nr(l)),Et(f)&&(M1(f)&&!Ve(f)&&(f=bn({},f)),t.style=rg(f))}const a=Vt(e)?1:uP(e)?128:jP(e)?64:Et(e)?4:Ue(e)?2:0;return V(e,t,n,i,o,a,s,!0)}function HP(e){return e?M1(e)||ch in e?bn({},e):e:null}function Ji(e,t,n=!1){const{props:i,ref:o,patchFlag:s,children:a}=e,l=t?dT(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&fT(l),ref:t&&t.ref?n&&o?Ve(o)?o.concat(af(t)):[o,af(t)]:af(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==an?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ji(e.ssContent),ssFallback:e.ssFallback&&Ji(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function kn(e=" ",t=0){return Ae(ah,null,e,t)}function hT(e,t){const n=Ae(uf,null,e);return n.staticCount=t,n}function rn(e="",t=!1){return t?(Le(),An(fr,null,e)):Ae(fr,null,e)}function qr(e){return e==null||typeof e=="boolean"?Ae(fr):Ve(e)?Ae(an,null,e.slice()):typeof e=="object"?Li(e):Ae(ah,null,String(e))}function Li(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ji(e)}function Tg(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ve(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),Tg(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(ch in t)?t._ctx=cn:o===3&&cn&&(cn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ue(t)?(t={default:t,_ctx:cn},n=32):(t=String(t),i&64?(n=16,t=[kn(t)]):n=8);e.children=t,e.shapeFlag|=n}function dT(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=Nr([t.class,i.class]));else if(o==="style")t.style=rg([t.style,i.style]);else if(Jf(o)){const s=t[o],a=i[o];a&&s!==a&&!(Ve(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=i[o])}return t}function Br(e,t,n,i=null){lr(e,t,7,[n,i])}const zP=aT();let GP=0;function WP(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||zP,s={uid:GP++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new I1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:iT(i,o),emitsOptions:z1(i,o),emit:null,emitted:null,propsDefaults:yt,inheritAttrs:i.inheritAttrs,ctx:yt,data:yt,props:yt,attrs:yt,slots:yt,refs:yt,setupState:yt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=nP.bind(null,s),e.ce&&e.ce(s),s}let Mt=null;const no=()=>Mt||cn,eu=e=>{Mt=e,e.scope.on()},Ko=()=>{Mt&&Mt.scope.off(),Mt=null};function pT(e){return e.vnode.shapeFlag&4}let Xa=!1;function QP(e,t=!1){Xa=t;const{props:n,children:i}=e.vnode,o=pT(e);CP(e,n,o,t),RP(e,i);const s=o?YP(e,t):void 0;return Xa=!1,s}function YP(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Xi(new Proxy(e.ctx,EP));const{setup:i}=n;if(i){const o=e.setupContext=i.length>1?JP(e):null;eu(e),Su();const s=Ki(i,e,0,[e.props,o]);if(Au(),Ko(),w1(s)){if(s.then(Ko,Ko),t)return s.then(a=>{nI(e,a,t)}).catch(a=>{rh(a,e,0)});e.asyncDep=s}else nI(e,s,t)}else vT(e,t)}function nI(e,t,n){Ue(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Et(t)&&(e.setupState=U1(t)),vT(e,n)}let rI;function vT(e,t,n){const i=e.type;if(!e.render){if(!t&&rI&&!i.render){const o=i.template||_g(e).template;if(o){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=i,d=bn(bn({isCustomElement:s,delimiters:l},a),f);i.render=rI(o,d)}}e.render=i.render||Er}eu(e),Su(),TP(e),Au(),Ko()}function XP(e){return new Proxy(e.attrs,{get(t,n){return Bn(e,"get","$attrs"),t[n]}})}function JP(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=XP(e))},slots:e.slots,emit:e.emit,expose:t}}function lh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(U1(Xi(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Oa)return Oa[n](e)},has(t,n){return n in t||n in Oa}}))}function ZP(e,t=!0){return Ue(e)?e.displayName||e.name:e.name||t&&e.__name}function ex(e){return Ue(e)&&"__vccOpts"in e}const Ce=(e,t)=>YR(e,t,Xa);function Wr(e,t,n){const i=arguments.length;return i===2?Et(t)&&!Ve(t)?_f(t)?Ae(e,null,[t]):Ae(e,t):Ae(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&_f(n)&&(n=[n]),Ae(e,t,n))}const tx=Symbol(""),nx=()=>jn(tx),rx="3.2.47",ix="http://www.w3.org/2000/svg",Mo=typeof document<"u"?document:null,iI=Mo&&Mo.createElement("template"),ox={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t?Mo.createElementNS(ix,e):Mo.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>Mo.createTextNode(e),createComment:e=>Mo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Mo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,s){const a=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{iI.innerHTML=i?`<svg>${e}</svg>`:e;const l=iI.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function sx(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function ux(e,t,n){const i=e.style,o=Vt(n);if(n&&!o){if(t&&!Vt(t))for(const s in t)n[s]==null&&dm(i,s,"");for(const s in n)dm(i,s,n[s])}else{const s=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=s)}}const oI=/\s*!important$/;function dm(e,t,n){if(Ve(n))n.forEach(i=>dm(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=ax(e,t);oI.test(n)?e.setProperty(Tu(i),n.replace(oI,""),"important"):e[i]=n}}const sI=["Webkit","Moz","ms"],Ov={};function ax(e,t){const n=Ov[t];if(n)return n;let i=Gr(t);if(i!=="filter"&&i in e)return Ov[t]=i;i=th(i);for(let o=0;o<sI.length;o++){const s=sI[o]+i;if(s in e)return Ov[t]=s}return t}const uI="http://www.w3.org/1999/xlink";function cx(e,t,n,i,o){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(uI,t.slice(6,t.length)):e.setAttributeNS(uI,t,n);else{const s=sR(t);n==null||s&&!m1(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function lx(e,t,n,i,o,s,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,o,s),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const f=n??"";(e.value!==f||e.tagName==="OPTION")&&(e.value=f),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=m1(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Us(e,t,n,i){e.addEventListener(t,n,i)}function fx(e,t,n,i){e.removeEventListener(t,n,i)}function hx(e,t,n,i,o=null){const s=e._vei||(e._vei={}),a=s[t];if(i&&a)a.value=i;else{const[l,f]=dx(t);if(i){const d=s[t]=mx(i,o);Us(e,l,d,f)}else a&&(fx(e,l,a,f),s[t]=void 0)}}const aI=/(?:Once|Passive|Capture)$/;function dx(e){let t;if(aI.test(e)){t={};let i;for(;i=e.match(aI);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Tu(e.slice(2)),t]}let Dv=0;const px=Promise.resolve(),vx=()=>Dv||(px.then(()=>Dv=0),Dv=Date.now());function mx(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;lr(gx(i,n.value),t,5,[i])};return n.value=e,n.attached=vx(),n}function gx(e,t){if(Ve(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const cI=/^on[a-z]/,yx=(e,t,n,i,o=!1,s,a,l,f)=>{t==="class"?sx(e,i,o):t==="style"?ux(e,n,i):Jf(t)?ig(t)||hx(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):wx(e,t,i,o))?lx(e,t,i,s,a,l,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),cx(e,t,i,o))};function wx(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&cI.test(t)&&Ue(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||cI.test(t)&&Vt(n)?!1:t in e}const bx={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};hP.props;const lI=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ve(t)?n=>sf(t,n):t};function _x(e){e.target.composing=!0}function fI(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const fh={created(e,{modifiers:{lazy:t,trim:n,number:i}},o){e._assign=lI(o);const s=i||o.props&&o.props.type==="number";Us(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n&&(l=l.trim()),s&&(l=em(l)),e._assign(l)}),n&&Us(e,"change",()=>{e.value=e.value.trim()}),t||(Us(e,"compositionstart",_x),Us(e,"compositionend",fI),Us(e,"change",fI))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:o}},s){if(e._assign=lI(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===t||(o||e.type==="number")&&em(e.value)===t))return;const a=t??"";e.value!==a&&(e.value=a)}},Ix=["ctrl","shift","alt","meta"],Ex={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ix.some(n=>e[`${n}Key`]&&!t.includes(n))},Ke=(e,t)=>(n,...i)=>{for(let o=0;o<t.length;o++){const s=Ex[t[o]];if(s&&s(n,t))return}return e(n,...i)},hI={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ia(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Ia(e,!0),i.enter(e)):i.leave(e,()=>{Ia(e,!1)}):Ia(e,t))},beforeUnmount(e,{value:t}){Ia(e,t)}};function Ia(e,t){e.style.display=t?e._vod:"none"}const Tx=bn({patchProp:yx},ox);let dI;function Sx(){return dI||(dI=MP(Tx))}const Ax=(...e)=>{const t=Sx().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=Nx(i);if(!o)return;const s=t._component;!Ue(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function Nx(e){return Vt(e)?document.querySelector(e):e}var kx=!1;/*!
  * pinia v2.0.35
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let mT;const hh=e=>mT=e,gT=Symbol();function pm(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Pa;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Pa||(Pa={}));function Cx(){const e=E1(!0),t=e.run(()=>wt({}));let n=[],i=[];const o=Xi({install(s){hh(o),o._a=s,s.provide(gT,o),s.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(s){return!this._a&&!kx?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const yT=()=>{};function pI(e,t,n,i=yT){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&T1()&&vR(o),o}function Ls(e,...t){e.slice().forEach(n=>{n(...t)})}function vm(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];pm(o)&&pm(i)&&e.hasOwnProperty(n)&&!st(i)&&!qi(i)?e[n]=vm(o,i):e[n]=i}return e}const Ox=Symbol();function Dx(e){return!pm(e)||!e.hasOwnProperty(Ox)}const{assign:Ri}=Object;function Rx(e){return!!(st(e)&&e.effect)}function Px(e,t,n,i){const{state:o,actions:s,getters:a}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const p=GR(n.state.value[e]);return Ri(p,s,Object.keys(a||{}).reduce((m,g)=>(m[g]=Xi(Ce(()=>{hh(n);const b=n._s.get(e);return a[g].call(b,b)})),m),{}))}return f=wT(e,d,t,n,i,!0),f}function wT(e,t,n={},i,o,s){let a;const l=Ri({actions:{}},n),f={deep:!0};let d,p,m=Xi([]),g=Xi([]),b;const I=i.state.value[e];!s&&!I&&(i.state.value[e]={}),wt({});let A;function P(L){let k;d=p=!1,typeof L=="function"?(L(i.state.value[e]),k={type:Pa.patchFunction,storeId:e,events:b}):(vm(i.state.value[e],L),k={type:Pa.patchObject,payload:L,storeId:e,events:b});const $=A=Symbol();er().then(()=>{A===$&&(d=!0)}),p=!0,Ls(m,k,i.state.value[e])}const C=s?function(){const{state:k}=n,$=k?k():{};this.$patch(T=>{Ri(T,$)})}:yT;function j(){a.stop(),m=[],g=[],i._s.delete(e)}function F(L,k){return function(){hh(i);const $=Array.from(arguments),T=[],Ee=[];function Ne(be){T.push(be)}function $e(be){Ee.push(be)}Ls(g,{args:$,name:L,store:x,after:Ne,onError:$e});let xe;try{xe=k.apply(this&&this.$id===e?this:x,$)}catch(be){throw Ls(Ee,be),be}return xe instanceof Promise?xe.then(be=>(Ls(T,be),be)).catch(be=>(Ls(Ee,be),Promise.reject(be))):(Ls(T,xe),xe)}}const J={_p:i,$id:e,$onAction:pI.bind(null,g),$patch:P,$reset:C,$subscribe(L,k={}){const $=pI(m,L,k.detached,()=>T()),T=a.run(()=>ut(()=>i.state.value[e],Ee=>{(k.flush==="sync"?p:d)&&L({storeId:e,type:Pa.direct,events:b},Ee)},Ri({},f,k)));return $},$dispose:j},x=hr(J);i._s.set(e,x);const O=i._e.run(()=>(a=E1(),a.run(()=>t())));for(const L in O){const k=O[L];if(st(k)&&!Rx(k)||qi(k))s||(I&&Dx(k)&&(st(k)?k.value=I[L]:vm(k,I[L])),i.state.value[e][L]=k);else if(typeof k=="function"){const $=F(L,k);O[L]=$,l.actions[L]=k}}return Ri(x,O),Ri(Je(x),O),Object.defineProperty(x,"$state",{get:()=>i.state.value[e],set:L=>{P(k=>{Ri(k,L)})}}),i._p.forEach(L=>{Ri(x,a.run(()=>L({store:x,app:i._a,pinia:i,options:l})))}),I&&s&&n.hydrate&&n.hydrate(x.$state,I),d=!0,p=!0,x}function bT(e,t,n){let i,o;const s=typeof t=="function";typeof e=="string"?(i=e,o=s?n:t):(o=e,i=e.id);function a(l,f){const d=no();return l=l||d&&jn(gT,null),l&&hh(l),l=mT,l._s.has(i)||(s?wT(i,t,o,l):Px(i,o,l)),l._s.get(i)}return a.$id=i,a}function _T(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(){return e(this.$pinia)[i]},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(){const o=e(this.$pinia),s=t[i];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function ro(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[i](...o)},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[t[i]](...o)},n),{})}const Zt=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},xx={};function Lx(e,t,n,i,o,s){const a=Xe("router-view");return Le(),An(a)}const Mx=Zt(xx,[["render",Lx]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Bs=typeof window<"u";function Vx(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ft=Object.assign;function Rv(e,t){const n={};for(const i in t){const o=t[i];n[i]=kr(o)?o.map(e):e(o)}return n}const xa=()=>{},kr=Array.isArray,Fx=/\/$/,jx=e=>e.replace(Fx,"");function Pv(e,t,n="/"){let i,o={},s="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=qx(i??t,n),{fullPath:i+(s&&"?")+s+a,path:i,query:o,hash:a}}function Ux(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function vI(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Bx(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&tu(t.matched[i],n.matched[o])&&IT(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function tu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function IT(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!$x(e[n],t[n]))return!1;return!0}function $x(e,t){return kr(e)?mI(e,t):kr(t)?mI(t,e):e===t}function mI(e,t){return kr(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function qx(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let o=n.length-1,s,a;for(s=0;s<i.length;s++)if(a=i[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(s-(s===i.length?1:0)).join("/")}var Ja;(function(e){e.pop="pop",e.push="push"})(Ja||(Ja={}));var La;(function(e){e.back="back",e.forward="forward",e.unknown=""})(La||(La={}));function Kx(e){if(!e)if(Bs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),jx(e)}const Hx=/^[^#]+#/;function zx(e,t){return e.replace(Hx,"#")+t}function Gx(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const dh=()=>({left:window.pageXOffset,top:window.pageYOffset});function Wx(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Gx(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function gI(e,t){return(history.state?history.state.position-t:-1)+e}const mm=new Map;function Qx(e,t){mm.set(e,t)}function Yx(e){const t=mm.get(e);return mm.delete(e),t}let Xx=()=>location.protocol+"//"+location.host;function ET(e,t){const{pathname:n,search:i,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),vI(f,"")}return vI(n,e)+i+o}function Jx(e,t,n,i){let o=[],s=[],a=null;const l=({state:g})=>{const b=ET(e,location),I=n.value,A=t.value;let P=0;if(g){if(n.value=b,t.value=g,a&&a===I){a=null;return}P=A?g.position-A.position:0}else i(b);o.forEach(C=>{C(n.value,I,{delta:P,type:Ja.pop,direction:P?P>0?La.forward:La.back:La.unknown})})};function f(){a=n.value}function d(g){o.push(g);const b=()=>{const I=o.indexOf(g);I>-1&&o.splice(I,1)};return s.push(b),b}function p(){const{history:g}=window;g.state&&g.replaceState(ft({},g.state,{scroll:dh()}),"")}function m(){for(const g of s)g();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p),{pauseListeners:f,listen:d,destroy:m}}function yI(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?dh():null}}function Zx(e){const{history:t,location:n}=window,i={value:ET(e,n)},o={value:t.state};o.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,d,p){const m=e.indexOf("#"),g=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+f:Xx()+e+f;try{t[p?"replaceState":"pushState"](d,"",g),o.value=d}catch(b){console.error(b),n[p?"replace":"assign"](g)}}function a(f,d){const p=ft({},t.state,yI(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});s(f,p,!0),i.value=f}function l(f,d){const p=ft({},o.value,t.state,{forward:f,scroll:dh()});s(p.current,p,!0);const m=ft({},yI(i.value,f,null),{position:p.position+1},d);s(f,m,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function eL(e){e=Kx(e);const t=Zx(e),n=Jx(e,t.state,t.location,t.replace);function i(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=ft({location:"",base:e,go:i,createHref:zx.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function tL(e){return typeof e=="string"||e&&typeof e=="object"}function TT(e){return typeof e=="string"||typeof e=="symbol"}const Ni={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ST=Symbol("");var wI;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(wI||(wI={}));function nu(e,t){return ft(new Error,{type:e,[ST]:!0},t)}function ii(e,t){return e instanceof Error&&ST in e&&(t==null||!!(e.type&t))}const bI="[^/]+?",nL={sensitive:!1,strict:!1,start:!0,end:!0},rL=/[.+*?^${}()[\]/\\]/g;function iL(e,t){const n=ft({},nL,t),i=[];let o=n.start?"^":"";const s=[];for(const d of e){const p=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let m=0;m<d.length;m++){const g=d[m];let b=40+(n.sensitive?.25:0);if(g.type===0)m||(o+="/"),o+=g.value.replace(rL,"\\$&"),b+=40;else if(g.type===1){const{value:I,repeatable:A,optional:P,regexp:C}=g;s.push({name:I,repeatable:A,optional:P});const j=C||bI;if(j!==bI){b+=10;try{new RegExp(`(${j})`)}catch(J){throw new Error(`Invalid custom RegExp for param "${I}" (${j}): `+J.message)}}let F=A?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;m||(F=P&&d.length<2?`(?:/${F})`:"/"+F),P&&(F+="?"),o+=F,b+=20,P&&(b+=-8),A&&(b+=-20),j===".*"&&(b+=-50)}p.push(b)}i.push(p)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const p=d.match(a),m={};if(!p)return null;for(let g=1;g<p.length;g++){const b=p[g]||"",I=s[g-1];m[I.name]=b&&I.repeatable?b.split("/"):b}return m}function f(d){let p="",m=!1;for(const g of e){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const b of g)if(b.type===0)p+=b.value;else if(b.type===1){const{value:I,repeatable:A,optional:P}=b,C=I in d?d[I]:"";if(kr(C)&&!A)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const j=kr(C)?C.join("/"):C;if(!j)if(P)g.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${I}"`);p+=j}}return p||"/"}return{re:a,score:i,keys:s,parse:l,stringify:f}}function oL(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function sL(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const s=oL(i[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-i.length)===1){if(_I(i))return 1;if(_I(o))return-1}return o.length-i.length}function _I(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const uL={type:0,value:""},aL=/[a-zA-Z0-9_]/;function cL(e){if(!e)return[[]];if(e==="/")return[[uL]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let l=0,f,d="",p="";function m(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:p,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function g(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&m(),a()):f===":"?(m(),n=1):g();break;case 4:g(),n=i;break;case 1:f==="("?n=2:aL.test(f)?g():(m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+f:n=3:p+=f;break;case 3:m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),m(),a(),o}function lL(e,t,n){const i=iL(cL(e.path),n),o=ft(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function fL(e,t){const n=[],i=new Map;t=TI({strict:!1,end:!0,sensitive:!1},t);function o(p){return i.get(p)}function s(p,m,g){const b=!g,I=hL(p);I.aliasOf=g&&g.record;const A=TI(t,p),P=[I];if("alias"in p){const F=typeof p.alias=="string"?[p.alias]:p.alias;for(const J of F)P.push(ft({},I,{components:g?g.record.components:I.components,path:J,aliasOf:g?g.record:I}))}let C,j;for(const F of P){const{path:J}=F;if(m&&J[0]!=="/"){const x=m.record.path,O=x[x.length-1]==="/"?"":"/";F.path=m.record.path+(J&&O+J)}if(C=lL(F,m,A),g?g.alias.push(C):(j=j||C,j!==C&&j.alias.push(C),b&&p.name&&!EI(C)&&a(p.name)),I.children){const x=I.children;for(let O=0;O<x.length;O++)s(x[O],C,g&&g.children[O])}g=g||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&f(C)}return j?()=>{a(j)}:xa}function a(p){if(TT(p)){const m=i.get(p);m&&(i.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&i.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function f(p){let m=0;for(;m<n.length&&sL(p,n[m])>=0&&(p.record.path!==n[m].record.path||!AT(p,n[m]));)m++;n.splice(m,0,p),p.record.name&&!EI(p)&&i.set(p.record.name,p)}function d(p,m){let g,b={},I,A;if("name"in p&&p.name){if(g=i.get(p.name),!g)throw nu(1,{location:p});A=g.record.name,b=ft(II(m.params,g.keys.filter(j=>!j.optional).map(j=>j.name)),p.params&&II(p.params,g.keys.map(j=>j.name))),I=g.stringify(b)}else if("path"in p)I=p.path,g=n.find(j=>j.re.test(I)),g&&(b=g.parse(I),A=g.record.name);else{if(g=m.name?i.get(m.name):n.find(j=>j.re.test(m.path)),!g)throw nu(1,{location:p,currentLocation:m});A=g.record.name,b=ft({},m.params,p.params),I=g.stringify(b)}const P=[];let C=g;for(;C;)P.unshift(C.record),C=C.parent;return{name:A,path:I,params:b,matched:P,meta:pL(P)}}return e.forEach(p=>s(p)),{addRoute:s,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function II(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function hL(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:dL(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function dL(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function EI(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function pL(e){return e.reduce((t,n)=>ft(t,n.meta),{})}function TI(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function AT(e,t){return t.children.some(n=>n===e||AT(e,n))}const NT=/#/g,vL=/&/g,mL=/\//g,gL=/=/g,yL=/\?/g,kT=/\+/g,wL=/%5B/g,bL=/%5D/g,CT=/%5E/g,_L=/%60/g,OT=/%7B/g,IL=/%7C/g,DT=/%7D/g,EL=/%20/g;function Sg(e){return encodeURI(""+e).replace(IL,"|").replace(wL,"[").replace(bL,"]")}function TL(e){return Sg(e).replace(OT,"{").replace(DT,"}").replace(CT,"^")}function gm(e){return Sg(e).replace(kT,"%2B").replace(EL,"+").replace(NT,"%23").replace(vL,"%26").replace(_L,"`").replace(OT,"{").replace(DT,"}").replace(CT,"^")}function SL(e){return gm(e).replace(gL,"%3D")}function AL(e){return Sg(e).replace(NT,"%23").replace(yL,"%3F")}function NL(e){return e==null?"":AL(e).replace(mL,"%2F")}function If(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function kL(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const s=i[o].replace(kT," "),a=s.indexOf("="),l=If(a<0?s:s.slice(0,a)),f=a<0?null:If(s.slice(a+1));if(l in t){let d=t[l];kr(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function SI(e){let t="";for(let n in e){const i=e[n];if(n=SL(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(kr(i)?i.map(s=>s&&gm(s)):[i&&gm(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function CL(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=kr(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const OL=Symbol(""),AI=Symbol(""),Ag=Symbol(""),RT=Symbol(""),ym=Symbol("");function Ea(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Mi(e,t,n,i,o){const s=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=m=>{m===!1?l(nu(4,{from:n,to:t})):m instanceof Error?l(m):tL(m)?l(nu(2,{from:t,to:m})):(s&&i.enterCallbacks[o]===s&&typeof m=="function"&&s.push(m),a())},d=e.call(i&&i.instances[o],t,n,f);let p=Promise.resolve(d);e.length<3&&(p=p.then(f)),p.catch(m=>l(m))})}function xv(e,t,n,i){const o=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(DL(l)){const d=(l.__vccOpts||l)[t];d&&o.push(Mi(d,n,i,s,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const p=Vx(d)?d.default:d;s.components[a]=p;const g=(p.__vccOpts||p)[t];return g&&Mi(g,n,i,s,a)()}))}}return o}function DL(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function NI(e){const t=jn(Ag),n=jn(RT),i=Ce(()=>t.resolve(K(e.to))),o=Ce(()=>{const{matched:f}=i.value,{length:d}=f,p=f[d-1],m=n.matched;if(!p||!m.length)return-1;const g=m.findIndex(tu.bind(null,p));if(g>-1)return g;const b=kI(f[d-2]);return d>1&&kI(p)===b&&m[m.length-1].path!==b?m.findIndex(tu.bind(null,f[d-2])):g}),s=Ce(()=>o.value>-1&&LL(n.params,i.value.params)),a=Ce(()=>o.value>-1&&o.value===n.matched.length-1&&IT(n.params,i.value.params));function l(f={}){return xL(f)?t[K(e.replace)?"replace":"push"](K(e.to)).catch(xa):Promise.resolve()}return{route:i,href:Ce(()=>i.value.href),isActive:s,isExactActive:a,navigate:l}}const RL=Jr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:NI,setup(e,{slots:t}){const n=hr(NI(e)),{options:i}=jn(Ag),o=Ce(()=>({[CI(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[CI(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Wr("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),PL=RL;function xL(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function LL(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!kr(o)||o.length!==i.length||i.some((s,a)=>s!==o[a]))return!1}return!0}function kI(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const CI=(e,t,n)=>e??t??n,ML=Jr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=jn(ym),o=Ce(()=>e.route||i.value),s=jn(AI,0),a=Ce(()=>{let d=K(s);const{matched:p}=o.value;let m;for(;(m=p[d])&&!m.components;)d++;return d}),l=Ce(()=>o.value.matched[a.value]);Hi(AI,Ce(()=>a.value+1)),Hi(OL,l),Hi(ym,o);const f=wt();return ut(()=>[f.value,l.value,e.name],([d,p,m],[g,b,I])=>{p&&(p.instances[m]=d,b&&b!==p&&d&&d===g&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),d&&p&&(!b||!tu(p,b)||!g)&&(p.enterCallbacks[m]||[]).forEach(A=>A(d))},{flush:"post"}),()=>{const d=o.value,p=e.name,m=l.value,g=m&&m.components[p];if(!g)return OI(n.default,{Component:g,route:d});const b=m.props[p],I=b?b===!0?d.params:typeof b=="function"?b(d):b:null,P=Wr(g,ft({},I,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(m.instances[p]=null)},ref:f}));return OI(n.default,{Component:P,route:d})||P}}});function OI(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const VL=ML;function FL(e){const t=fL(e.routes,e),n=e.parseQuery||kL,i=e.stringifyQuery||SI,o=e.history,s=Ea(),a=Ea(),l=Ea(),f=KR(Ni);let d=Ni;Bs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Rv.bind(null,W=>""+W),m=Rv.bind(null,NL),g=Rv.bind(null,If);function b(W,ce){let R,H;return TT(W)?(R=t.getRecordMatcher(W),H=ce):H=W,t.addRoute(H,R)}function I(W){const ce=t.getRecordMatcher(W);ce&&t.removeRoute(ce)}function A(){return t.getRoutes().map(W=>W.record)}function P(W){return!!t.getRecordMatcher(W)}function C(W,ce){if(ce=ft({},ce||f.value),typeof W=="string"){const E=Pv(n,W,ce.path),D=t.resolve({path:E.path},ce),U=o.createHref(E.fullPath);return ft(E,D,{params:g(D.params),hash:If(E.hash),redirectedFrom:void 0,href:U})}let R;if("path"in W)R=ft({},W,{path:Pv(n,W.path,ce.path).path});else{const E=ft({},W.params);for(const D in E)E[D]==null&&delete E[D];R=ft({},W,{params:m(W.params)}),ce.params=m(ce.params)}const H=t.resolve(R,ce),pe=W.hash||"";H.params=p(g(H.params));const We=Ux(i,ft({},W,{hash:TL(pe),path:H.path})),_e=o.createHref(We);return ft({fullPath:We,hash:pe,query:i===SI?CL(W.query):W.query||{}},H,{redirectedFrom:void 0,href:_e})}function j(W){return typeof W=="string"?Pv(n,W,f.value.path):ft({},W)}function F(W,ce){if(d!==W)return nu(8,{from:ce,to:W})}function J(W){return L(W)}function x(W){return J(ft(j(W),{replace:!0}))}function O(W){const ce=W.matched[W.matched.length-1];if(ce&&ce.redirect){const{redirect:R}=ce;let H=typeof R=="function"?R(W):R;return typeof H=="string"&&(H=H.includes("?")||H.includes("#")?H=j(H):{path:H},H.params={}),ft({query:W.query,hash:W.hash,params:"path"in H?{}:W.params},H)}}function L(W,ce){const R=d=C(W),H=f.value,pe=W.state,We=W.force,_e=W.replace===!0,E=O(R);if(E)return L(ft(j(E),{state:typeof E=="object"?ft({},pe,E.state):pe,force:We,replace:_e}),ce||R);const D=R;D.redirectedFrom=ce;let U;return!We&&Bx(i,H,R)&&(U=nu(16,{to:D,from:H}),tt(H,H,!0,!1)),(U?Promise.resolve(U):$(D,H)).catch(G=>ii(G)?ii(G,2)?G:Ge(G):fe(G,D,H)).then(G=>{if(G){if(ii(G,2))return L(ft({replace:_e},j(G.to),{state:typeof G.to=="object"?ft({},pe,G.to.state):pe,force:We}),ce||D)}else G=Ee(D,H,!0,_e,pe);return T(D,H,G),G})}function k(W,ce){const R=F(W,ce);return R?Promise.reject(R):Promise.resolve()}function $(W,ce){let R;const[H,pe,We]=jL(W,ce);R=xv(H.reverse(),"beforeRouteLeave",W,ce);for(const E of H)E.leaveGuards.forEach(D=>{R.push(Mi(D,W,ce))});const _e=k.bind(null,W,ce);return R.push(_e),Ms(R).then(()=>{R=[];for(const E of s.list())R.push(Mi(E,W,ce));return R.push(_e),Ms(R)}).then(()=>{R=xv(pe,"beforeRouteUpdate",W,ce);for(const E of pe)E.updateGuards.forEach(D=>{R.push(Mi(D,W,ce))});return R.push(_e),Ms(R)}).then(()=>{R=[];for(const E of W.matched)if(E.beforeEnter&&!ce.matched.includes(E))if(kr(E.beforeEnter))for(const D of E.beforeEnter)R.push(Mi(D,W,ce));else R.push(Mi(E.beforeEnter,W,ce));return R.push(_e),Ms(R)}).then(()=>(W.matched.forEach(E=>E.enterCallbacks={}),R=xv(We,"beforeRouteEnter",W,ce),R.push(_e),Ms(R))).then(()=>{R=[];for(const E of a.list())R.push(Mi(E,W,ce));return R.push(_e),Ms(R)}).catch(E=>ii(E,8)?E:Promise.reject(E))}function T(W,ce,R){for(const H of l.list())H(W,ce,R)}function Ee(W,ce,R,H,pe){const We=F(W,ce);if(We)return We;const _e=ce===Ni,E=Bs?history.state:{};R&&(H||_e?o.replace(W.fullPath,ft({scroll:_e&&E&&E.scroll},pe)):o.push(W.fullPath,pe)),f.value=W,tt(W,ce,R,_e),Ge()}let Ne;function $e(){Ne||(Ne=o.listen((W,ce,R)=>{if(!en.listening)return;const H=C(W),pe=O(H);if(pe){L(ft(pe,{replace:!0}),H).catch(xa);return}d=H;const We=f.value;Bs&&Qx(gI(We.fullPath,R.delta),dh()),$(H,We).catch(_e=>ii(_e,12)?_e:ii(_e,2)?(L(_e.to,H).then(E=>{ii(E,20)&&!R.delta&&R.type===Ja.pop&&o.go(-1,!1)}).catch(xa),Promise.reject()):(R.delta&&o.go(-R.delta,!1),fe(_e,H,We))).then(_e=>{_e=_e||Ee(H,We,!1),_e&&(R.delta&&!ii(_e,8)?o.go(-R.delta,!1):R.type===Ja.pop&&ii(_e,20)&&o.go(-1,!1)),T(H,We,_e)}).catch(xa)}))}let xe=Ea(),be=Ea(),he;function fe(W,ce,R){Ge(W);const H=be.list();return H.length?H.forEach(pe=>pe(W,ce,R)):console.error(W),Promise.reject(W)}function me(){return he&&f.value!==Ni?Promise.resolve():new Promise((W,ce)=>{xe.add([W,ce])})}function Ge(W){return he||(he=!W,$e(),xe.list().forEach(([ce,R])=>W?R(W):ce()),xe.reset()),W}function tt(W,ce,R,H){const{scrollBehavior:pe}=e;if(!Bs||!pe)return Promise.resolve();const We=!R&&Yx(gI(W.fullPath,0))||(H||!R)&&history.state&&history.state.scroll||null;return er().then(()=>pe(W,ce,We)).then(_e=>_e&&Wx(_e)).catch(_e=>fe(_e,W,ce))}const it=W=>o.go(W);let Ze;const Ot=new Set,en={currentRoute:f,listening:!0,addRoute:b,removeRoute:I,hasRoute:P,getRoutes:A,resolve:C,options:e,push:J,replace:x,go:it,back:()=>it(-1),forward:()=>it(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:be.add,isReady:me,install(W){const ce=this;W.component("RouterLink",PL),W.component("RouterView",VL),W.config.globalProperties.$router=ce,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>K(f)}),Bs&&!Ze&&f.value===Ni&&(Ze=!0,J(o.location).catch(pe=>{}));const R={};for(const pe in Ni)R[pe]=Ce(()=>f.value[pe]);W.provide(Ag,ce),W.provide(RT,hr(R)),W.provide(ym,f);const H=W.unmount;Ot.add(W),W.unmount=function(){Ot.delete(W),Ot.size<1&&(d=Ni,Ne&&Ne(),Ne=null,f.value=Ni,Ze=!1,he=!1),H()}}};return en}function Ms(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function jL(e,t){const n=[],i=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const l=t.matched[a];l&&(e.matched.find(d=>tu(d,l))?i.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(d=>tu(d,f))||o.push(f))}return[n,i,o]}const ph="/takenote-app/assets/logo-74abbc15.png",UL="/takenote-app/assets/Devices-f1f838fd.webp",BL="/takenote-app/assets/NoteSample-fdf6c928.webp",$L="/takenote-app/assets/feather-eaa516cb.webp";const qL={data(){return{year:"",mobile:null,mobileNav:null,windowWidth:null}},created(){window.addEventListener("resize",this.checkScreen),this.checkScreen()},computed:{getCurrentYear(){return this.year=new Date().getFullYear()}},methods:{checkScreen(){if(this.windowWidth=window.innerWidth,this.windowWidth<=750){this.mobile=!0;return}this.mobile=!1,this.mobileNav=!1},toggleMobileNav(){this.mobileNav=!this.mobileNav}}},Ou=e=>(Or("data-v-704e96d3"),e=e(),Dr(),e),KL={class:"header__container"},HL={class:"nav__container"},zL=Ou(()=>V("img",{src:ph,alt:"Logo",class:"header-img"},null,-1)),GL={class:"nav-links"},WL={class:"hero-section__container"},QL={class:"hero-sec__content-wrapper"},YL=Ou(()=>V("h2",null,"Simplify Your Note-Taking",-1)),XL=Ou(()=>V("p",null,"Stay Focused and Keep Your Thoughts in Order with TakeNote",-1)),JL=Ou(()=>V("div",{class:"hero-sec__image-wrapper"},[V("img",{src:UL,alt:"Devices Photo"})],-1)),ZL=hT('<section class="contentA-section__container" data-v-704e96d3><div class="contentA-sec__wrapper" data-v-704e96d3><div class="contentA-sec__image-wrapper" data-v-704e96d3><img src="'+BL+'" alt="Note Sample Photo" data-v-704e96d3></div><div class="contentA-sec__text-wrapper" data-v-704e96d3><p data-v-704e96d3> TakeNote is the perfect tool for anyone looking to organize their thoughts, ideas, and to-do lists. </p><p data-v-704e96d3> Whether you&#39;re a student, professional, or just someone who wants to stay organized. TakeNote is designed to be easy to use, you&#39;ll be able to take notes anywhere, anytime, on any device. </p></div></div></section><section class="contentB-section__container" data-v-704e96d3><div class="contentB-sec__wrapper" data-v-704e96d3><div class="contentB-sec__image-wrapper" data-v-704e96d3><img src="'+$L+'" alt="Feather Photo" data-v-704e96d3></div><div class="contentB-sec__text-wrapper" data-v-704e96d3><h3 data-v-704e96d3>Notes, wherever you go.</h3><p data-v-704e96d3> Whether you&#39;re at work, school, or on the go, taking notes is an essential part of staying organized and productive. It&#39;s now easier than ever to access your notes from anywhere, at any time. </p></div></div></section>',2),eM={class:"cta-section__container"},tM=Ou(()=>V("h3",null,"Looking for a note-taking tool?",-1)),nM={class:"footer__container"},rM=Ou(()=>V("p",null,"Design & Built by Mark Ian Reyes",-1));function iM(e,t,n,i,o,s){const a=Xe("router-link");return Le(),at(an,null,[V("header",KL,[V("nav",HL,[V("div",null,[Ae(a,{to:{name:"Home"}},{default:ht(()=>[zL]),_:1})]),V("div",GL,[Zs(V("ul",null,[Ae(a,{to:{name:"Login"},class:"nav-link login"},{default:ht(()=>[kn("Log In")]),_:1}),Ae(a,{to:{name:"Register"},class:"nav-link signup"},{default:ht(()=>[kn("Sign Up")]),_:1})],512),[[hI,!o.mobile]])]),Zs(V("span",{class:"material-symbols-outlined menu-icon",onClick:t[0]||(t[0]=(...l)=>s.toggleMobileNav&&s.toggleMobileNav(...l))}," menu ",512),[[hI,o.mobile]]),o.mobile?(Le(),at("div",{key:0,class:Nr(["blanket",{active:o.mobileNav,"":!o.mobileNav}])},null,2)):rn("",!0),o.mobile?(Le(),at("div",{key:1,class:Nr(["mobileNav",{active:o.mobileNav,"":!o.mobileNav}])},[V("span",{class:"material-symbols-outlined close-icon",onClick:t[1]||(t[1]=(...l)=>s.toggleMobileNav&&s.toggleMobileNav(...l))}," close "),V("ul",null,[Ae(a,{to:{name:"Login"}},{default:ht(()=>[kn("Log In")]),_:1}),Ae(a,{to:{name:"Register"}},{default:ht(()=>[kn("Sign Up")]),_:1})])],2)):rn("",!0)])]),V("main",null,[V("section",WL,[V("div",QL,[YL,XL,Ae(a,{to:{name:"Register"},class:"cta hero-sec__cta"},{default:ht(()=>[kn("Sign up now")]),_:1})]),JL]),ZL,V("section",eM,[V("div",null,[tM,Ae(a,{to:{name:"Register"},class:"cta"},{default:ht(()=>[kn("Try it for yourself")]),_:1})])])]),V("footer",nM,[V("p",null,"Copyright: © "+br(s.getCurrentYear),1),rM])],64)}const oM=Zt(qL,[["render",iM],["__scopeId","data-v-704e96d3"]]);var wm=function(e,t){return wm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},wm(e,t)};function ke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Za=function(){return Za=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Za.apply(this,arguments)};function te(e,t,n,i){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{d(i.next(p))}catch(m){a(m)}}function f(p){try{d(i.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):o(p.value).then(l,f)}d((i=i.apply(e,t||[])).next())})}function Z(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(p){return f([d,p])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],o=0}finally{i=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Lv(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function Ct(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,s;i<o;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PT=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},sM=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[i++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},uM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var s=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,p=s>>2,m=(s&3)<<4|l>>4,g=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(g=64)),i.push(n[p],n[m],n[g],n[b])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(PT(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):sM(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var s=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var p=o<e.length,m=p?n[e.charAt(o)]:64;if(++o,s==null||l==null||d==null||m==null)throw Error();var g=s<<2|l>>4;if(i.push(g),d!==64){var b=l<<4&240|d>>2;if(i.push(b),m!==64){var I=d<<6&192|m;i.push(I)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},aM=function(e){var t=PT(e);return uM.encodeByteArray(t,!0)},DI=function(e){return aM(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(e){return ec(void 0,e)}function ec(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!lM(i)||(e[i]=ec(e[i],t[i]));return e}function lM(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fM=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Za({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[DI(JSON.stringify(n)),DI(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wo())}function xT(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pM(){return typeof self=="object"&&self.self===self}function vM(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function mM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gM(){return Wo().indexOf("Electron/")>=0}function yM(){var e=Wo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function wM(){return Wo().indexOf("MSAppHost/")>=0}function bM(){return!xT()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _M="FirebaseError",IM=function(e){ke(t,e);function t(n,i,o){var s=e.call(this,i)||this;return s.code=n,s.customData=o,s.name=_M,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Ng.prototype.create),s}return t}(Error),Ng=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?EM(a,o):"Error",f=this.serviceName+": "+l+" ("+s+").",d=new IM(s,f,o);return d},e}();function EM(e,t){return e.replace(TM,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var TM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function SM(e,t){var n=new AM(e,t);return n.subscribe.bind(n)}var AM=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");NM(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Mv),s.error===void 0&&(s.error=Mv),s.complete===void 0&&(s.complete=Mv);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function NM(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Mv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(e){return e&&e._delegate?e._delegate:e}var vh=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kM=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new fM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(OM(t))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}try{for(var o=Lv(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var a=zl(s.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:d});f.resolve(p)}catch{}}}catch(m){n={error:m}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Po),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return te(this,void 0,void 0,function(){var t;return Z(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Ct(Ct([],zl(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),zl(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Po),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Po),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var f=Lv(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var p=zl(d.value,2),m=p[0],g=p[1],b=this.normalizeInstanceIdentifier(m);a===b&&g.resolve(l)}}catch(I){n={error:I}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(o,s);var a=this.instances.get(o);return a&&t(a,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,s=this.onInitCallbacks.get(n);if(s)try{for(var a=Lv(s),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CM(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Po),this.component?this.component.multipleInstances?t:Po:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function CM(e){return e===Po?void 0:e}function OM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DM=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new kM(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function wr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)i[o]=s[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Do,kg=[],rt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(rt||(rt={}));var LT={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},RM=rt.INFO,PM=(Do={},Do[rt.DEBUG]="log",Do[rt.VERBOSE]="log",Do[rt.INFO]="info",Do[rt.WARN]="warn",Do[rt.ERROR]="error",Do),xM=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=PM[t];if(s)console[s].apply(console,wr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},MT=function(){function e(t){this.name=t,this._logLevel=RM,this._logHandler=xM,this._userLogHandler=null,kg.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in rt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?LT[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,wr([this,rt.DEBUG],t)),this._logHandler.apply(this,wr([this,rt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,wr([this,rt.VERBOSE],t)),this._logHandler.apply(this,wr([this,rt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,wr([this,rt.INFO],t)),this._logHandler.apply(this,wr([this,rt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,wr([this,rt.WARN],t)),this._logHandler.apply(this,wr([this,rt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,wr([this,rt.ERROR],t)),this._logHandler.apply(this,wr([this,rt.ERROR],t))},e}();function LM(e){kg.forEach(function(t){t.setLogLevel(e)})}function MM(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=LT[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var p=[],m=2;m<arguments.length;m++)p[m-2]=arguments[m];var g=p.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&e({level:rt[d].toLowerCase(),message:g,args:p,type:f.name})}},i=0,o=kg;i<o.length;i++){var s=o[i];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ki,VM=(ki={},ki["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ki["bad-app-name"]="Illegal App name: '{$appName}",ki["duplicate-app"]="Firebase App named '{$appName}' already exists",ki["app-deleted"]="Firebase App named '{$appName}' already deleted",ki["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ki["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ki),$s=new Ng("app","Firebase",VM),VT="@firebase/app",FM="0.6.30",jM="@firebase/analytics",UM="@firebase/app-check",BM="@firebase/auth",$M="@firebase/database",qM="@firebase/functions",KM="@firebase/installations",HM="@firebase/messaging",zM="@firebase/performance",GM="@firebase/remote-config",WM="@firebase/storage",QM="@firebase/firestore",YM="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn,Ef="[DEFAULT]",XM=(pn={},pn[VT]="fire-core",pn[jM]="fire-analytics",pn[UM]="fire-app-check",pn[BM]="fire-auth",pn[$M]="fire-rtdb",pn[qM]="fire-fn",pn[KM]="fire-iid",pn[HM]="fire-fcm",pn[zM]="fire-perf",pn[GM]="fire-rc",pn[WM]="fire-gcs",pn[QM]="fire-fst",pn["fire-js"]="fire-js",pn[YM]="fire-js-all",pn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ru=new MT("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cf=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=cM(t),this.container=new DM(n.name),this._addComponent(new vh("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=Ef),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Ef),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){ru.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw $s.create("app-deleted",{appName:this.name_})},e}();cf.prototype.name&&cf.prototype.options||cf.prototype.delete||console.log("dc");var JM="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(e){var t={},n=new Map,i={__esModule:!0,initializeApp:a,app:s,registerVersion:d,setLogLevel:LM,onLog:p,apps:null,SDK_VERSION:JM,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:m}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(g){delete t[g]}function s(g){if(g=g||Ef,!RI(t,g))throw $s.create("no-app",{appName:g});return t[g]}s.App=e;function a(g,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var I=b;b={name:I}}var A=b;A.name===void 0&&(A.name=Ef);var P=A.name;if(typeof P!="string"||!P)throw $s.create("bad-app-name",{appName:String(P)});if(RI(t,P))throw $s.create("duplicate-app",{appName:P});var C=new e(g,A,i);return t[P]=C,C}function l(){return Object.keys(t).map(function(g){return t[g]})}function f(g){var b=g.name;if(n.has(b))return ru.debug("There were multiple attempts to register component "+b+"."),g.type==="PUBLIC"?i[b]:null;if(n.set(b,g),g.type==="PUBLIC"){var I=function(j){if(j===void 0&&(j=s()),typeof j[b]!="function")throw $s.create("invalid-app-argument",{appName:b});return j[b]()};g.serviceProps!==void 0&&ec(I,g.serviceProps),i[b]=I,e.prototype[b]=function(){for(var j=[],F=0;F<arguments.length;F++)j[F]=arguments[F];var J=this._getService.bind(this,b);return J.apply(this,g.multipleInstances?j:[])}}for(var A=0,P=Object.keys(t);A<P.length;A++){var C=P[A];t[C]._addComponent(g)}return g.type==="PUBLIC"?i[b]:null}function d(g,b,I){var A,P=(A=XM[g])!==null&&A!==void 0?A:g;I&&(P+="-"+I);var C=P.match(/\s|\//),j=b.match(/\s|\//);if(C||j){var F=['Unable to register library "'+P+'" with version "'+b+'":'];C&&F.push('library name "'+P+'" contains illegal characters (whitespace or "/")'),C&&j&&F.push("and"),j&&F.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),ru.warn(F.join(" "));return}f(new vh(P+"-version",function(){return{library:P,version:b}},"VERSION"))}function p(g,b){if(g!==null&&typeof g!="function")throw $s.create("invalid-log-argument");MM(g,b)}function m(g,b){if(b==="serverAuth")return null;var I=b;return I}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){var e=ZM(cf);e.INTERNAL=Za(Za({},e.INTERNAL),{createFirebaseNamespace:FT,extendNamespace:t,createSubscribe:SM,ErrorFactory:Ng,deepExtend:ec});function t(n){ec(e,n)}return e}var Cg=FT();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eV=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(tV(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function tV(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(e,t){e.INTERNAL.registerComponent(new vh("platform-logger",function(n){return new eV(n)},"PRIVATE")),e.registerVersion(VT,FM,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(pM()&&self.firebase!==void 0){ru.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var PI=self.firebase.SDK_VERSION;PI&&PI.indexOf("LITE")>=0&&ru.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var rV=Cg.initializeApp;Cg.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return xT()&&ru.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),rV.apply(void 0,e)};var Re=Cg;nV(Re);var iV="firebase",jT="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Re.registerVersion(iV,jT,"app");Re.SDK_VERSION=jT;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,u,c){r!=Array.prototype&&r!=Object.prototype&&(r[u]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var u=0;u<r.length;++u){var c=r[u];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,u){if(u){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var v=r[h];v in c||(c[v]={}),c=c[v]}r=r[r.length-1],h=c[r],u=u(h),u!=h&&u!=null&&t(c,r,{configurable:!0,writable:!0,value:u})}}function s(r){var u=0;return function(){return u<r.length?{done:!1,value:r[u++]}:{done:!0}}}function a(r){var u=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return u?u.call(r):{next:s(r)}}o("Promise",function(r){function u(w){this.b=0,this.c=void 0,this.a=[];var S=this.f();try{w(S.resolve,S.reject)}catch(z){S.reject(z)}}function c(){this.a=null}function h(w){return w instanceof u?w:new u(function(S){S(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var S=this;this.c(function(){S.g()})}this.a.push(w)};var v=i.setTimeout;c.prototype.c=function(w){v(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var S=0;S<w.length;++S){var z=w[S];w[S]=null;try{z()}catch(ee){this.f(ee)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},u.prototype.f=function(){function w(ee){return function(Pe){z||(z=!0,ee.call(S,Pe))}}var S=this,z=!1;return{resolve:w(this.m),reject:w(this.g)}},u.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof u)this.s(w);else{e:switch(typeof w){case"object":var S=w!=null;break e;case"function":S=!0;break e;default:S=!1}S?this.v(w):this.h(w)}},u.prototype.v=function(w){var S=void 0;try{S=w.then}catch(z){this.g(z);return}typeof S=="function"?this.u(S,w):this.h(w)},u.prototype.g=function(w){this.i(2,w)},u.prototype.h=function(w){this.i(1,w)},u.prototype.i=function(w,S){if(this.b!=0)throw Error("Cannot settle("+w+", "+S+"): Promise already settled in state"+this.b);this.b=w,this.c=S,this.l()},u.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)y.b(this.a[w]);this.a=null}};var y=new c;return u.prototype.s=function(w){var S=this.f();w.Ra(S.resolve,S.reject)},u.prototype.u=function(w,S){var z=this.f();try{w.call(S,z.resolve,z.reject)}catch(ee){z.reject(ee)}},u.prototype.then=function(w,S){function z(nt,Yt){return typeof nt=="function"?function(ri){try{ee(nt(ri))}catch(Sv){Pe(Sv)}}:Yt}var ee,Pe,lt=new u(function(nt,Yt){ee=nt,Pe=Yt});return this.Ra(z(w,ee),z(S,Pe)),lt},u.prototype.catch=function(w){return this.then(void 0,w)},u.prototype.Ra=function(w,S){function z(){switch(ee.b){case 1:w(ee.c);break;case 2:S(ee.c);break;default:throw Error("Unexpected state: "+ee.b)}}var ee=this;this.a==null?y.b(z):this.a.push(z)},u.resolve=h,u.reject=function(w){return new u(function(S,z){z(w)})},u.race=function(w){return new u(function(S,z){for(var ee=a(w),Pe=ee.next();!Pe.done;Pe=ee.next())h(Pe.value).Ra(S,z)})},u.all=function(w){var S=a(w),z=S.next();return z.done?h([]):new u(function(ee,Pe){function lt(ri){return function(Sv){nt[ri]=Sv,Yt--,Yt==0&&ee(nt)}}var nt=[],Yt=0;do nt.push(void 0),Yt++,h(z.value).Ra(lt(nt.length-1),Pe),z=S.next();while(!z.done)})},u});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,p=null;function m(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function g(){}function b(r){var u=typeof r;return u!="object"?u:r?Array.isArray(r)?"array":u:"null"}function I(r){var u=b(r);return u=="array"||u=="object"&&typeof r.length=="number"}function A(r){return b(r)=="function"}function P(r){var u=typeof r;return u=="object"&&r!=null||u=="function"}function C(r){return Object.prototype.hasOwnProperty.call(r,j)&&r[j]||(r[j]=++F)}var j="closure_uid_"+(1e9*Math.random()>>>0),F=0;function J(r,u,c){return r.call.apply(r.bind,arguments)}function x(r,u,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,h),r.apply(u,v)}}return function(){return r.apply(u,arguments)}}function O(r,u,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=J:O=x,O.apply(null,arguments)}function L(r,u){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function k(r,u){function c(){}c.prototype=u.prototype,r.bb=u.prototype,r.prototype=new c,r.prototype.constructor=r}function $(r){return r}function T(r,u,c){this.code=Ne+r,this.message=u||$e[r]||"",this.a=c||null}k(T,Error),T.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},T.prototype.toJSON=function(){return this.w()};function Ee(r){var u=r&&r.code;return u?new T(u.substring(Ne.length),r.message,r.serverResponse):null}var Ne="auth/",$e={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},xe={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function be(r){for(var u in xe)if(xe[u].id===r)return r=xe[u],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var he;he=be("__EID__")?"__EID__":void 0;function fe(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function me(r){if(Error.captureStackTrace)Error.captureStackTrace(this,me);else{var u=Error().stack;u&&(this.stack=u)}r&&(this.message=String(r))}k(me,Error),me.prototype.name="CustomError";function Ge(r,u){r=r.split("%s");for(var c="",h=r.length-1,v=0;v<h;v++)c+=r[v]+(v<u.length?u[v]:"%s");me.call(this,c+r[h])}k(Ge,me),Ge.prototype.name="AssertionError";function tt(r,u){throw new Ge("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function it(r,u){this.c=r,this.f=u,this.b=0,this.a=null}it.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Ze(r,u){r.f(u),100>r.b&&(r.b++,u.next=r.a,r.a=u)}function Ot(){this.b=this.a=null}var en=new it(function(){return new ce},function(r){r.reset()});Ot.prototype.add=function(r,u){var c=en.get();c.set(r,u),this.b?this.b.next=c:this.a=c,this.b=c};function W(){var r=_w,u=null;return r.a&&(u=r.a,r.a=r.a.next,r.a||(r.b=null),u.next=null),u}function ce(){this.next=this.b=this.a=null}ce.prototype.set=function(r,u){this.a=r,this.b=u,this.next=null},ce.prototype.reset=function(){this.next=this.b=this.a=null};var R=Array.prototype.indexOf?function(r,u){return Array.prototype.indexOf.call(r,u,void 0)}:function(r,u){if(typeof r=="string")return typeof u!="string"||u.length!=1?-1:r.indexOf(u,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===u)return c;return-1},H=Array.prototype.forEach?function(r,u,c){Array.prototype.forEach.call(r,u,c)}:function(r,u,c){for(var h=r.length,v=typeof r=="string"?r.split(""):r,y=0;y<h;y++)y in v&&u.call(c,v[y],y,r)};function pe(r,u){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&u.call(void 0,c[h],h,r)}var We=Array.prototype.filter?function(r,u){return Array.prototype.filter.call(r,u,void 0)}:function(r,u){for(var c=r.length,h=[],v=0,y=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in y){var S=y[w];u.call(void 0,S,w,r)&&(h[v++]=S)}return h},_e=Array.prototype.map?function(r,u){return Array.prototype.map.call(r,u,void 0)}:function(r,u){for(var c=r.length,h=Array(c),v=typeof r=="string"?r.split(""):r,y=0;y<c;y++)y in v&&(h[y]=u.call(void 0,v[y],y,r));return h},E=Array.prototype.some?function(r,u){return Array.prototype.some.call(r,u,void 0)}:function(r,u){for(var c=r.length,h=typeof r=="string"?r.split(""):r,v=0;v<c;v++)if(v in h&&u.call(void 0,h[v],v,r))return!0;return!1};function D(r){e:{for(var u=xC,c=r.length,h=typeof r=="string"?r.split(""):r,v=0;v<c;v++)if(v in h&&u.call(void 0,h[v],v,r)){u=v;break e}u=-1}return 0>u?null:typeof r=="string"?r.charAt(u):r[u]}function U(r,u){return 0<=R(r,u)}function G(r,u){u=R(r,u);var c;return(c=0<=u)&&Array.prototype.splice.call(r,u,1),c}function Y(r,u){var c=0;pe(r,function(h,v){u.call(void 0,h,v,r)&&Array.prototype.splice.call(r,v,1).length==1&&c++})}function se(r){return Array.prototype.concat.apply([],arguments)}function ae(r){var u=r.length;if(0<u){for(var c=Array(u),h=0;h<u;h++)c[h]=r[h];return c}return[]}var ie=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},le=/&/g,_=/</g,N=/>/g,M=/"/g,q=/'/g,ne=/\x00/g,X=/[\x00&<>"']/;function Q(r,u){return r.indexOf(u)!=-1}function ve(r,u){return r<u?-1:r>u?1:0}var De;e:{var Fe=f.navigator;if(Fe){var Hn=Fe.userAgent;if(Hn){De=Hn;break e}}De=""}function Qe(r){return Q(De,r)}function gi(r,u){for(var c in r)u.call(void 0,r[c],c,r)}function Rr(r){for(var u in r)return!1;return!0}function At(r){var u={},c;for(c in r)u[c]=r[c];return u}var zn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tn(r,u){for(var c,h,v=1;v<arguments.length;v++){h=arguments[v];for(c in h)r[c]=h[c];for(var y=0;y<zn.length;y++)c=zn[y],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function tw(r,u){e:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var v=h;break e}}catch{}v=null}if(v&&typeof v[u]<"u"&&(!r||!(r instanceof v[u])&&(r instanceof v.Location||r instanceof v.Element))){if(P(r))try{var y=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{y="<object could not be stringified>"}else y=r===void 0?"undefined":r===null?"null":typeof r;tt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,y)}}function Pr(r,u){this.a=r===Fc&&u||"",this.b=nw}Pr.prototype.ta=!0,Pr.prototype.sa=function(){return this.a},Pr.prototype.toString=function(){return"Const{"+this.a+"}"};function Jh(r){return r instanceof Pr&&r.constructor===Pr&&r.b===nw?r.a:(tt("expected object of type Const, got '"+r+"'"),"type_error:Const")}var nw={},Fc={},jc;function rw(){if(jc===void 0){var r=null,u=f.trustedTypes;if(u&&u.createPolicy){try{r=u.createPolicy("goog#html",{createHTML:$,createScript:$,createScriptURL:$})}catch(c){f.console&&f.console.error(c.message)}jc=r}else jc=r}return jc}function hs(r,u){this.a=u===ow?r:""}hs.prototype.ta=!0,hs.prototype.sa=function(){return this.a.toString()},hs.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function iw(r){return r instanceof hs&&r.constructor===hs?r.a:(tt("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function Zh(r,u){var c=Jh(r);if(!lk.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(ck,function(h,v){if(!Object.prototype.hasOwnProperty.call(u,v))throw Error('Found marker, "'+v+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(u));return h=u[v],h instanceof Pr?Jh(h):encodeURIComponent(String(h))}),fk(r)}var ck=/%{(\w+)}/g,lk=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ow={};function fk(r){var u=rw();return r=u?u.createScriptURL(r):r,new hs(r,ow)}function Pn(r,u){this.a=u===Uu?r:""}Pn.prototype.ta=!0,Pn.prototype.sa=function(){return this.a.toString()},Pn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Uc(r){return r instanceof Pn&&r.constructor===Pn?r.a:(tt("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var hk=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,dk=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,sw=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function uw(r){if(r instanceof Pn)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),sw.test(r))r=new Pn(r,Uu);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var u=r.match(dk);r=u&&hk.test(u[1])?new Pn(r,Uu):null}return r}function aw(r){return r instanceof Pn?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),sw.test(r)||(r="about:invalid#zClosurez"),new Pn(r,Uu))}var Uu={},cw=new Pn("about:invalid#zClosurez",Uu);function ds(r,u,c){this.a=c===lw?r:""}ds.prototype.ta=!0,ds.prototype.sa=function(){return this.a.toString()},ds.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function pk(r){return r instanceof ds&&r.constructor===ds?r.a:(tt("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var lw={};function vk(r,u){tw(r,"HTMLScriptElement"),r.src=iw(u),(u=r.ownerDocument&&r.ownerDocument.defaultView)&&u!=f?u=m(u.document):(p===null&&(p=m(f.document)),u=p),u&&r.setAttribute("nonce",u)}function fw(r,u,c,h){return r=r instanceof Pn?r:aw(r),u=u||f,c=c instanceof Pr?Jh(c):c||"",u.open(Uc(r),c,h,void 0)}function hw(r,u){for(var c=r.split("%s"),h="",v=Array.prototype.slice.call(arguments,1);v.length&&1<c.length;)h+=c.shift()+v.shift();return h+c.join("%s")}function ed(r){return X.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(le,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(_,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(N,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(M,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(q,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(ne,"&#0;"))),r}function td(r){return td[" "](r),r}td[" "]=g;function mk(r,u){var c=bk;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=u(r)}var gk=Qe("Opera"),dr=Qe("Trident")||Qe("MSIE"),dw=Qe("Edge"),yk=dw||dr,pw=Qe("Gecko")&&!(Q(De.toLowerCase(),"webkit")&&!Qe("Edge"))&&!(Qe("Trident")||Qe("MSIE"))&&!Qe("Edge"),wk=Q(De.toLowerCase(),"webkit")&&!Qe("Edge");function vw(){var r=f.document;return r?r.documentMode:void 0}var Bc;e:{var nd="",rd=function(){var r=De;if(pw)return/rv:([^\);]+)(\)|;)/.exec(r);if(dw)return/Edge\/([\d\.]+)/.exec(r);if(dr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(wk)return/WebKit\/(\S+)/.exec(r);if(gk)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(rd&&(nd=rd?rd[1]:""),dr){var id=vw();if(id!=null&&id>parseFloat(nd)){Bc=String(id);break e}}Bc=nd}var bk={};function mw(r){return mk(r,function(){for(var u=0,c=ie(String(Bc)).split("."),h=ie(String(r)).split("."),v=Math.max(c.length,h.length),y=0;u==0&&y<v;y++){var w=c[y]||"",S=h[y]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],w[0].length==0&&S[0].length==0)break;u=ve(w[1].length==0?0:parseInt(w[1],10),S[1].length==0?0:parseInt(S[1],10))||ve(w[2].length==0,S[2].length==0)||ve(w[2],S[2]),w=w[3],S=S[3]}while(u==0)}return 0<=u})}var od;if(f.document&&dr){var gw=vw();od=gw||parseInt(Bc,10)||void 0}else od=void 0;var yi=od;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var _k=!dr||9<=Number(yi);function Bu(r){var u=document;return typeof r=="string"?u.getElementById(r):r}function yw(r,u){gi(u,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:ww.hasOwnProperty(h)?r.setAttribute(ww[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var ww={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ik(r,u,c){var h=arguments,v=document,y=String(h[0]),w=h[1];if(!_k&&w&&(w.name||w.type)){if(y=["<",y],w.name&&y.push(' name="',ed(w.name),'"'),w.type){y.push(' type="',ed(w.type),'"');var S={};tn(S,w),delete S.type,w=S}y.push(">"),y=y.join("")}return y=$c(v,y),w&&(typeof w=="string"?y.className=w:Array.isArray(w)?y.className=w.join(" "):yw(y,w)),2<h.length&&Ek(v,y,h),y}function Ek(r,u,c){function h(S){S&&u.appendChild(typeof S=="string"?r.createTextNode(S):S)}for(var v=2;v<c.length;v++){var y=c[v];if(!I(y)||P(y)&&0<y.nodeType)h(y);else{e:{if(y&&typeof y.length=="number"){if(P(y)){var w=typeof y.item=="function"||typeof y.item=="string";break e}if(A(y)){w=typeof y.item=="function";break e}}w=!1}H(w?ae(y):y,h)}}}function $c(r,u){return u=String(u),r.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),r.createElement(u)}function bw(r){f.setTimeout(function(){throw r},0)}var sd;function Tk(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Qe("Presto")&&(r=function(){var v=$c(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var y=v.contentWindow;v=y.document,v.open(),v.close();var w="callImmediate"+Math.random(),S=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;v=O(function(z){(S=="*"||z.origin==S)&&z.data==w&&this.port1.onmessage()},this),y.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(w,S)}}}),typeof r<"u"&&!Qe("Trident")&&!Qe("MSIE")){var u=new r,c={},h=c;return u.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var v=c.Hb;c.Hb=null,v()}},function(v){h.next={Hb:v},h=h.next,u.port2.postMessage(0)}}return function(v){f.setTimeout(v,0)}}function qc(r,u){Kc||Sk(),ud||(Kc(),ud=!0),_w.add(r,u)}var Kc;function Sk(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);Kc=function(){r.then(Iw)}}else Kc=function(){var u=Iw;!A(f.setImmediate)||f.Window&&f.Window.prototype&&!Qe("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(sd||(sd=Tk()),sd(u)):f.setImmediate(u)}}var ud=!1,_w=new Ot;function Iw(){for(var r;r=W();){try{r.a.call(r.b)}catch(u){bw(u)}Ze(en,r)}ud=!1}function qe(r,u){if(this.a=co,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=g)try{var c=this;r.call(u,function(h){lo(c,$u,h)},function(h){if(!(h instanceof ps))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}lo(c,Zr,h)})}catch(h){lo(this,Zr,h)}}var co=0,$u=2,Zr=3;function Ew(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ew.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Tw=new it(function(){return new Ew},function(r){r.reset()});function ad(r,u,c){var h=Tw.get();return h.g=r,h.b=u,h.f=c,h}function Se(r){if(r instanceof qe)return r;var u=new qe(g);return lo(u,$u,r),u}function bt(r){return new qe(function(u,c){c(r)})}function Sw(r,u,c){Cw(r,u,c,null)||qc(L(u,r))}function Ak(r){return new qe(function(u,c){var h=r.length,v=[];if(h)for(var y=function(ee,Pe){h--,v[ee]=Pe,h==0&&u(v)},w=function(ee){c(ee)},S=0,z;S<r.length;S++)z=r[S],Sw(z,L(y,S),w);else u(v)})}function Aw(r){return new qe(function(u){var c=r.length,h=[];if(c)for(var v=function(S,z,ee){c--,h[S]=z?{Qb:!0,value:ee}:{Qb:!1,reason:ee},c==0&&u(h)},y=0,w;y<r.length;y++)w=r[y],Sw(w,L(v,y,!0),L(v,y,!1));else u(h)})}qe.prototype.then=function(r,u,c){return kw(this,A(r)?r:null,A(u)?u:null,c)},qe.prototype.$goog_Thenable=!0,e=qe.prototype,e.oa=function(r,u){return r=ad(r,r,u),r.c=!0,cd(this,r),this},e.o=function(r,u){return kw(this,null,r,u)},e.cancel=function(r){if(this.a==co){var u=new ps(r);qc(function(){Nw(this,u)},this)}};function Nw(r,u){if(r.a==co)if(r.c){var c=r.c;if(c.b){for(var h=0,v=null,y=null,w=c.b;w&&(w.c||(h++,w.a==r&&(v=w),!(v&&1<h)));w=w.next)v||(y=w);v&&(c.a==co&&h==1?Nw(c,u):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):Dw(c),Rw(c,v,Zr,u)))}r.c=null}else lo(r,Zr,u)}function cd(r,u){r.b||r.a!=$u&&r.a!=Zr||Ow(r),r.f?r.f.next=u:r.b=u,r.f=u}function kw(r,u,c,h){var v=ad(null,null,null);return v.a=new qe(function(y,w){v.g=u?function(S){try{var z=u.call(h,S);y(z)}catch(ee){w(ee)}}:y,v.b=c?function(S){try{var z=c.call(h,S);z===void 0&&S instanceof ps?w(S):y(z)}catch(ee){w(ee)}}:w}),v.a.c=r,cd(r,v),v.a}e.$c=function(r){this.a=co,lo(this,$u,r)},e.ad=function(r){this.a=co,lo(this,Zr,r)};function lo(r,u,c){r.a==co&&(r===c&&(u=Zr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,Cw(c,r.$c,r.ad,r)||(r.i=c,r.a=u,r.c=null,Ow(r),u!=Zr||c instanceof ps||kk(r,c)))}function Cw(r,u,c,h){if(r instanceof qe)return cd(r,ad(u||g,c||null,h)),!0;if(fe(r))return r.then(u,c,h),!0;if(P(r))try{var v=r.then;if(A(v))return Nk(r,v,u,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function Nk(r,u,c,h,v){function y(z){S||(S=!0,h.call(v,z))}function w(z){S||(S=!0,c.call(v,z))}var S=!1;try{u.call(r,w,y)}catch(z){y(z)}}function Ow(r){r.h||(r.h=!0,qc(r.gc,r))}function Dw(r){var u=null;return r.b&&(u=r.b,r.b=u.next,u.next=null),r.b||(r.f=null),u}e.gc=function(){for(var r;r=Dw(this);)Rw(this,r,this.a,this.i);this.h=!1};function Rw(r,u,c,h){if(c==Zr&&u.b&&!u.c)for(;r&&r.g;r=r.c)r.g=!1;if(u.a)u.a.c=null,Pw(u,c,h);else try{u.c?u.g.call(u.f):Pw(u,c,h)}catch(v){xw.call(null,v)}Ze(Tw,u)}function Pw(r,u,c){u==$u?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function kk(r,u){r.g=!0,qc(function(){r.g&&xw.call(null,u)})}var xw=bw;function ps(r){me.call(this,r)}k(ps,me),ps.prototype.name="cancel";function Hc(){this.ya=this.ya,this.pa=this.pa}var Ck=0;Hc.prototype.ya=!1;function Lw(r){!r.ya&&(r.ya=!0,r.Da(),Ck!=0)&&C(r)}Hc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ok=Object.freeze||function(r){return r},Mw=!dr||9<=Number(yi),Dk=dr&&!mw("9"),Rk=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,u=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",g,u),f.removeEventListener("test",g,u)}catch{}return r}();function xn(r,u){this.type=r,this.b=this.target=u,this.defaultPrevented=!1}xn.prototype.preventDefault=function(){this.defaultPrevented=!0};function fo(r,u){if(xn.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=u,u=r.relatedTarget){if(pw){e:{try{td(u.nodeName);var v=!0;break e}catch{}v=!1}v||(u=null)}}else c=="mouseover"?u=r.fromElement:c=="mouseout"&&(u=r.toElement);this.relatedTarget=u,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:Pk[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}k(fo,xn);var Pk=Ok({2:"touch",3:"pen",4:"mouse"});fo.prototype.preventDefault=function(){fo.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,Dk)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},fo.prototype.g=function(){return this.a};var qu="closure_listenable_"+(1e6*Math.random()|0),xk=0;function Lk(r,u,c,h,v){this.listener=r,this.proxy=null,this.src=u,this.type=c,this.capture=!!h,this.Wa=v,this.key=++xk,this.wa=this.Qa=!1}function zc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function Gc(r){this.src=r,this.a={},this.b=0}Gc.prototype.add=function(r,u,c,h,v){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.b++);var w=fd(r,u,h,v);return-1<w?(u=r[w],c||(u.Qa=!1)):(u=new Lk(u,this.src,y,!!h,v),u.Qa=c,r.push(u)),u};function ld(r,u){var c=u.type;c in r.a&&G(r.a[c],u)&&(zc(u),r.a[c].length==0&&(delete r.a[c],r.b--))}function fd(r,u,c,h){for(var v=0;v<r.length;++v){var y=r[v];if(!y.wa&&y.listener==u&&y.capture==!!c&&y.Wa==h)return v}return-1}var hd="closure_lm_"+(1e6*Math.random()|0),dd={};function or(r,u,c,h,v){if(h&&h.once)pd(r,u,c,h,v);else if(Array.isArray(u))for(var y=0;y<u.length;y++)or(r,u[y],c,h,v);else c=md(c),r&&r[qu]?$w(r,u,c,P(h)?!!h.capture:!!h,v):Vw(r,u,c,!1,h,v)}function Vw(r,u,c,h,v,y){if(!u)throw Error("Invalid event type");var w=P(v)?!!v.capture:!!v,S=Wc(r);if(S||(r[hd]=S=new Gc(r)),c=S.add(u,c,h,w,y),!c.proxy)if(h=Mk(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)Rk||(v=w),v===void 0&&(v=!1),r.addEventListener(u.toString(),h,v);else if(r.attachEvent)r.attachEvent(jw(u.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function Mk(){var r=Vk,u=Mw?function(c){return r.call(u.src,u.listener,c)}:function(c){if(c=r.call(u.src,u.listener,c),!c)return c};return u}function pd(r,u,c,h,v){if(Array.isArray(u))for(var y=0;y<u.length;y++)pd(r,u[y],c,h,v);else c=md(c),r&&r[qu]?gd(r,u,c,P(h)?!!h.capture:!!h,v):Vw(r,u,c,!0,h,v)}function Gn(r,u,c,h,v){if(Array.isArray(u))for(var y=0;y<u.length;y++)Gn(r,u[y],c,h,v);else h=P(h)?!!h.capture:!!h,c=md(c),r&&r[qu]?(r=r.v,u=String(u).toString(),u in r.a&&(y=r.a[u],c=fd(y,c,h,v),-1<c&&(zc(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete r.a[u],r.b--)))):r&&(r=Wc(r))&&(u=r.a[u.toString()],r=-1,u&&(r=fd(u,c,h,v)),(c=-1<r?u[r]:null)&&Fw(c))}function Fw(r){if(typeof r!="number"&&r&&!r.wa){var u=r.src;if(u&&u[qu])ld(u.v,r);else{var c=r.type,h=r.proxy;u.removeEventListener?u.removeEventListener(c,h,r.capture):u.detachEvent?u.detachEvent(jw(c),h):u.addListener&&u.removeListener&&u.removeListener(h),(c=Wc(u))?(ld(c,r),c.b==0&&(c.src=null,u[hd]=null)):zc(r)}}}function jw(r){return r in dd?dd[r]:dd[r]="on"+r}function Uw(r,u,c,h){var v=!0;if((r=Wc(r))&&(u=r.a[u.toString()]))for(u=u.concat(),r=0;r<u.length;r++){var y=u[r];y&&y.capture==c&&!y.wa&&(y=Bw(y,h),v=v&&y!==!1)}return v}function Bw(r,u){var c=r.listener,h=r.Wa||r.src;return r.Qa&&Fw(r),c.call(h,u)}function Vk(r,u){if(r.wa)return!0;if(!Mw){if(!u)e:{u=["window","event"];for(var c=f,h=0;h<u.length;h++)if(c=c[u[h]],c==null){u=null;break e}u=c}if(h=u,u=new fo(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var v=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{v=!0}(v||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],v=u.b;v;v=v.parentNode)h.push(v);for(r=r.type,v=h.length-1;0<=v;v--){u.b=h[v];var y=Uw(h[v],r,!0,u);c=c&&y}for(v=0;v<h.length;v++)u.b=h[v],y=Uw(h[v],r,!1,u),c=c&&y}return c}return Bw(r,new fo(u,this))}function Wc(r){return r=r[hd],r instanceof Gc?r:null}var vd="__closure_events_fn_"+(1e9*Math.random()>>>0);function md(r){return A(r)?r:(r[vd]||(r[vd]=function(u){return r.handleEvent(u)}),r[vd])}function En(){Hc.call(this),this.v=new Gc(this),this.bc=this,this.hb=null}k(En,Hc),En.prototype[qu]=!0,En.prototype.addEventListener=function(r,u,c,h){or(this,r,u,c,h)},En.prototype.removeEventListener=function(r,u,c,h){Gn(this,r,u,c,h)},En.prototype.dispatchEvent=function(r){var u,c=this.hb;if(c)for(u=[];c;c=c.hb)u.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new xn(r,c);else if(r instanceof xn)r.target=r.target||c;else{var v=r;r=new xn(h,c),tn(r,v)}if(v=!0,u)for(var y=u.length-1;0<=y;y--){var w=r.b=u[y];v=Qc(w,h,!0,r)&&v}if(w=r.b=c,v=Qc(w,h,!0,r)&&v,v=Qc(w,h,!1,r)&&v,u)for(y=0;y<u.length;y++)w=r.b=u[y],v=Qc(w,h,!1,r)&&v;return v},En.prototype.Da=function(){if(En.bb.Da.call(this),this.v){var r=this.v,u;for(u in r.a){for(var c=r.a[u],h=0;h<c.length;h++)zc(c[h]);delete r.a[u],r.b--}}this.hb=null};function $w(r,u,c,h,v){r.v.add(String(u),c,!1,h,v)}function gd(r,u,c,h,v){r.v.add(String(u),c,!0,h,v)}function Qc(r,u,c,h){if(u=r.v.a[String(u)],!u)return!0;u=u.concat();for(var v=!0,y=0;y<u.length;++y){var w=u[y];if(w&&!w.wa&&w.capture==c){var S=w.listener,z=w.Wa||w.src;w.Qa&&ld(r.v,w),v=S.call(z,h)!==!1&&v}}return v&&!h.defaultPrevented}function yd(r,u,c){if(A(r))c&&(r=O(r,c));else if(r&&typeof r.handleEvent=="function")r=O(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:f.setTimeout(r,u||0)}function vs(r){var u=null;return new qe(function(c,h){u=yd(function(){c(void 0)},r),u==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(u),c})}function qw(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(I(r)){for(var u=[],c=r.length,h=0;h<c;h++)u.push(r[h]);return u}u=[],c=0;for(h in r)u[c++]=r[h];return u}function Kw(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(I(r)||typeof r=="string"){var u=[];r=r.length;for(var c=0;c<r;c++)u.push(c);return u}u=[],c=0;for(var h in r)u[c++]=h;return u}}function Fk(r,u){if(r.forEach&&typeof r.forEach=="function")r.forEach(u,void 0);else if(I(r)||typeof r=="string")H(r,u,void 0);else for(var c=Kw(r),h=qw(r),v=h.length,y=0;y<v;y++)u.call(void 0,h[y],c&&c[y],r)}function ms(r,u){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof ms)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}e=ms.prototype,e.X=function(){wd(this);for(var r=[],u=0;u<this.a.length;u++)r.push(this.b[this.a[u]]);return r},e.Y=function(){return wd(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function wd(r){if(r.c!=r.a.length){for(var u=0,c=0;u<r.a.length;){var h=r.a[u];ho(r.b,h)&&(r.a[c++]=h),u++}r.a.length=c}if(r.c!=r.a.length){var v={};for(c=u=0;u<r.a.length;)h=r.a[u],ho(v,h)||(r.a[c++]=h,v[h]=1),u++;r.a.length=c}}e.get=function(r,u){return ho(this.b,r)?this.b[r]:u},e.set=function(r,u){ho(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=u},e.forEach=function(r,u){for(var c=this.Y(),h=0;h<c.length;h++){var v=c[h],y=this.get(v);r.call(u,y,v,this)}};function ho(r,u){return Object.prototype.hasOwnProperty.call(r,u)}var Hw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jk(r,u){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),v=null;if(0<=h){var y=r[c].substring(0,h);v=r[c].substring(h+1)}else y=r[c];u(y,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function wi(r,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof wi?(this.i=u!==void 0?u:r.i,Ku(this,r.c),this.l=r.l,this.a=r.a,Hu(this,r.g),this.f=r.f,bd(this,Qw(r.b)),this.h=r.h):r&&(c=String(r).match(Hw))?(this.i=!!u,Ku(this,c[1]||"",!0),this.l=zu(c[2]||""),this.a=zu(c[3]||"",!0),Hu(this,c[4]),this.f=zu(c[5]||"",!0),bd(this,c[6]||"",!0),this.h=zu(c[7]||"")):(this.i=!!u,this.b=new po(null,this.i))}wi.prototype.toString=function(){var r=[],u=this.c;u&&r.push(Gu(u,zw,!0),":");var c=this.a;return(c||u=="file")&&(r.push("//"),(u=this.l)&&r.push(Gu(u,zw,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(Gu(c,c.charAt(0)=="/"?$k:Bk,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",Gu(c,Kk)),r.join("")},wi.prototype.resolve=function(r){var u=new wi(this),c=!!r.c;c?Ku(u,r.c):c=!!r.l,c?u.l=r.l:c=!!r.a,c?u.a=r.a:c=r.g!=null;var h=r.f;if(c)Hu(u,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var v=u.f.lastIndexOf("/");v!=-1&&(h=u.f.substr(0,v+1)+h)}if(v=h,v==".."||v==".")h="";else if(Q(v,"./")||Q(v,"/.")){h=v.lastIndexOf("/",0)==0,v=v.split("/");for(var y=[],w=0;w<v.length;){var S=v[w++];S=="."?h&&w==v.length&&y.push(""):S==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&w==v.length&&y.push("")):(y.push(S),h=!0)}h=y.join("/")}else h=v}return c?u.f=h:c=r.b.toString()!=="",c?bd(u,Qw(r.b)):c=!!r.h,c&&(u.h=r.h),u};function Ku(r,u,c){r.c=c?zu(u,!0):u,r.c&&(r.c=r.c.replace(/:$/,""))}function Hu(r,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);r.g=u}else r.g=null}function bd(r,u,c){u instanceof po?(r.b=u,Hk(r.b,r.i)):(c||(u=Gu(u,qk)),r.b=new po(u,r.i))}function Dt(r,u,c){r.b.set(u,c)}function sr(r,u){return r.b.get(u)}function Ln(r){return r instanceof wi?new wi(r):new wi(r,void 0)}function Yc(r,u,c,h){var v=new wi(null,void 0);return r&&Ku(v,r),u&&(v.a=u),c&&Hu(v,c),h&&(v.f=h),v}function zu(r,u){return r?u?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Gu(r,u,c){return typeof r=="string"?(r=encodeURI(r).replace(u,Uk),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Uk(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var zw=/[#\/\?@]/g,Bk=/[#\?:]/g,$k=/[#\?]/g,qk=/[#\?@]/g,Kk=/#/g;function po(r,u){this.b=this.a=null,this.c=r||null,this.f=!!u}function bi(r){r.a||(r.a=new ms,r.b=0,r.c&&jk(r.c,function(u,c){r.add(decodeURIComponent(u.replace(/\+/g," ")),c)}))}function Gw(r){var u=Kw(r);if(typeof u>"u")throw Error("Keys are undefined");var c=new po(null,void 0);r=qw(r);for(var h=0;h<u.length;h++){var v=u[h],y=r[h];Array.isArray(y)?Ww(c,v,y):c.add(v,y)}return c}e=po.prototype,e.add=function(r,u){bi(this),this.c=null,r=gs(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(u),this.b+=1,this};function xr(r,u){bi(r),u=gs(r,u),ho(r.a.b,u)&&(r.c=null,r.b-=r.a.get(u).length,r=r.a,ho(r.b,u)&&(delete r.b[u],r.c--,r.a.length>2*r.c&&wd(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function _d(r,u){return bi(r),u=gs(r,u),ho(r.a.b,u)}e.forEach=function(r,u){bi(this),this.a.forEach(function(c,h){H(c,function(v){r.call(u,v,h,this)},this)},this)},e.Y=function(){bi(this);for(var r=this.a.X(),u=this.a.Y(),c=[],h=0;h<u.length;h++)for(var v=r[h],y=0;y<v.length;y++)c.push(u[h]);return c},e.X=function(r){bi(this);var u=[];if(typeof r=="string")_d(this,r)&&(u=se(u,this.a.get(gs(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)u=se(u,r[c])}return u},e.set=function(r,u){return bi(this),this.c=null,r=gs(this,r),_d(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[u]),this.b+=1,this},e.get=function(r,u){return r?(r=this.X(r),0<r.length?String(r[0]):u):u};function Ww(r,u,c){xr(r,u),0<c.length&&(r.c=null,r.a.set(gs(r,u),ae(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],u=this.a.Y(),c=0;c<u.length;c++){var h=u[c],v=encodeURIComponent(String(h));h=this.X(h);for(var y=0;y<h.length;y++){var w=v;h[y]!==""&&(w+="="+encodeURIComponent(String(h[y]))),r.push(w)}}return this.c=r.join("&")};function Qw(r){var u=new po;return u.c=r.c,r.a&&(u.a=new ms(r.a),u.b=r.b),u}function gs(r,u){return u=String(u),r.f&&(u=u.toLowerCase()),u}function Hk(r,u){u&&!r.f&&(bi(r),r.c=null,r.a.forEach(function(c,h){var v=h.toLowerCase();h!=v&&(xr(this,h),Ww(this,v,c))},r)),r.f=u}function Yw(r){var u=[];return Id(new zk,r,u),u.join("")}function zk(){}function Id(r,u,c){if(u==null)c.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var h=u;u=h.length,c.push("[");for(var v="",y=0;y<u;y++)c.push(v),Id(r,h[y],c),v=",";c.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{c.push("{"),v="";for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&(y=u[h],typeof y!="function"&&(c.push(v),Jw(h,c),c.push(":"),Id(r,y,c),v=","));c.push("}");return}}switch(typeof u){case"string":Jw(u,c);break;case"number":c.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":c.push(String(u));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var Xw={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Gk=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Jw(r,u){u.push('"',r.replace(Gk,function(c){var h=Xw[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),Xw[c]=h),h}),'"')}function Ed(){var r=nn();return dr&&!!yi&&yi==11||/Edge\/\d+/.test(r)}function Wu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Zw(r,u){u=u||f.window;var c="about:blank";r&&(c=Uc(uw(r)||cw)),u.location.href=c}function e0(r,u){var c=[],h;for(h in r)h in u?typeof r[h]!=typeof u[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&u[h]!=null?0<e0(r[h],u[h]).length&&c.push(h):r[h]!==u[h]&&c.push(h):c.push(h);for(h in u)h in r||c.push(h);return c}function Wk(){var r=nn();return r=ys(r)!=i0?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!dr||!yi||9<yi}function t0(r){return r=(r||nn()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function vo(r){r=r||f.window;try{r.close()}catch{}}function n0(r,u,c){var h=Math.floor(1e9*Math.random()).toString();u=u||500,c=c||600;var v=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-u)/2;u={width:u,height:c,top:0<v?v:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=nn().toLowerCase(),h&&(u.target=h,Q(c,"crios/")&&(u.target="_blank")),ys(nn())==Ad&&(r=r||"http://localhost",u.scrollbars=!0),c=r||"",(r=u)||(r={}),h=window,u=c instanceof Pn?c:uw(typeof c.href<"u"?c.href:String(c))||cw,c=r.target||c.target,v=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":v.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(w+"="+(r[w]?1:0))}var w=v.join(",");if((Qe("iPhone")&&!Qe("iPod")&&!Qe("iPad")||Qe("iPad")||Qe("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=$c(document,"A"),tw(w,"HTMLAnchorElement"),u=u instanceof Pn?u:aw(u),w.href=Uc(u),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=fw("",h,c,w),r=Uc(u),w&&(yk&&Q(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ed(r)+'">',r=(h=rw())?h.createHTML(r):r,r=new ds(r,null,lw),h=w.document)&&(h.write(pk(r)),h.close())):(w=fw(u,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function Qk(r){return new qe(function(u){function c(){vs(2e3).then(function(){if(!r||r.closed)u();else return c()})}return c()})}var Yk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xk=/^[^@]+@[^@]+$/;function Xc(){var r=null;return new qe(function(u){f.document.readyState=="complete"?u():(r=function(){u()},pd(window,"load",r))}).o(function(u){throw Gn(window,"load",r),u})}function Jk(){return Td(void 0)?Xc().then(function(){return new qe(function(r,u){var c=f.document,h=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):bt(Error("Cordova must run in an Android or iOS file scheme."))}function Td(r){return r=r||nn(),!(bs()!=="file:"&&bs()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sd(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function pr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Lr(){return Re.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Re.INTERNAL.hasOwnProperty("node")?"Node":pr()?"Worker":"Browser"}function r0(){var r=Lr();return r==="ReactNative"||r==="Node"}function Zk(){for(var r=50,u=[];0<r;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return u.join("")}var Ad="Firefox",i0="Chrome";function ys(r){var u=r.toLowerCase();if(Q(u,"opera/")||Q(u,"opr/")||Q(u,"opios/"))return"Opera";if(Q(u,"iemobile"))return"IEMobile";if(Q(u,"msie")||Q(u,"trident/"))return"IE";if(Q(u,"edge/"))return"Edge";if(Q(u,"firefox/"))return Ad;if(Q(u,"silk/"))return"Silk";if(Q(u,"blackberry"))return"Blackberry";if(Q(u,"webos"))return"Webos";if(!Q(u,"safari/")||Q(u,"chrome/")||Q(u,"crios/")||Q(u,"android"))if(!Q(u,"chrome/")&&!Q(u,"crios/")||Q(u,"edge/")){if(Q(u,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return i0;else return"Safari";return"Other"}var o0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function ws(r,u){u=u||[];var c=[],h={},v;for(v in o0)h[o0[v]]=!0;for(v=0;v<u.length;v++)typeof h[u[v]]<"u"&&(delete h[u[v]],c.push(u[v]));return c.sort(),u=c,u.length||(u=["FirebaseCore-web"]),c=Lr(),c==="Browser"?(h=nn(),c=ys(h)):c==="Worker"&&(h=nn(),c=ys(h)+"-"+c),c+"/JsCore/"+r+"/"+u.join(",")}function nn(){return f.navigator&&f.navigator.userAgent||""}function _t(r,u){r=r.split("."),u=u||f;for(var c=0;c<r.length&&typeof u=="object"&&u!=null;c++)u=u[r[c]];return c!=r.length&&(u=void 0),u}function Nd(){try{var r=f.localStorage,u=go();if(r)return r.setItem(u,"1"),r.removeItem(u),Ed()?!!f.indexedDB:!0}catch{return pr()&&!!f.indexedDB}return!1}function mo(){return(Jc()||bs()==="chrome-extension:"||Td())&&!r0()&&Nd()&&!pr()}function Jc(){return bs()==="http:"||bs()==="https:"}function bs(){return f.location&&f.location.protocol||null}function Qu(r){return r=r||nn(),!(t0(r)||ys(r)==Ad)}function Yu(r){return typeof r>"u"?null:Yw(r)}function s0(r){var u={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(u[c]=r[c]);return u}function _s(r){if(r!==null)return JSON.parse(r)}function go(r){return r||Math.floor(1e9*Math.random()).toString()}function u0(r){return r=r||nn(),!(ys(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function a0(){var r=f.___jsl;if(r&&r.H){for(var u in r.H)if(r.H[u].r=r.H[u].r||[],r.H[u].L=r.H[u].L||[],r.H[u].r=r.H[u].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function _i(r,u){if(r>u)throw Error("Short delay should be less than long delay!");this.a=r,this.c=u,r=nn(),u=Lr(),this.b=t0(r)||u==="ReactNative"}_i.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Jc()||bs()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function kd(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function eC(){var r=f.document,u=null;return kd()||!r?Se():new qe(function(c){u=function(){kd()&&(r.removeEventListener("visibilitychange",u,!1),c())},r.addEventListener("visibilitychange",u,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",u,!1),c})}function Xu(r){try{var u=new Date(parseInt(r,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(r))return u.toUTCString()}catch{}return null}function c0(){return!(!_t("fireauth.oauthhelper",f)&&!_t("fireauth.iframe",f))}function tC(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function nC(){var r=f.navigator;return r&&r.serviceWorker?Se().then(function(){return r.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):Se(null)}var l0={};function Cd(r){l0[r]||(l0[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Od;try{var Dd={};Object.defineProperty(Dd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Dd,"abcd",{configurable:!0,enumerable:!0,value:2}),Od=Dd.abcd==2}catch{Od=!1}function we(r,u,c){Od?Object.defineProperty(r,u,{configurable:!0,enumerable:!0,value:c}):r[u]=c}function Tn(r,u){if(u)for(var c in u)u.hasOwnProperty(c)&&we(r,c,u[c])}function Mr(r){var u={};return Tn(u,r),u}function rC(r){var u={},c;for(c in r)r.hasOwnProperty(c)&&(u[c]=r[c]);return u}function iC(r,u){if(!u||!u.length)return!0;if(!r)return!1;for(var c=0;c<u.length;c++){var h=r[u[c]];if(h==null||h==="")return!1}return!0}function Rd(r){var u=r;if(typeof r=="object"&&r!=null){u="length"in r?[]:{};for(var c in r)we(u,c,Rd(r[c]))}return u}function Pd(r){var u=r&&(r[Vd]?"phone":null);if(u&&r&&r[Md]){we(this,"uid",r[Md]),we(this,"displayName",r[f0]||null);var c=null;r[Ld]&&(c=new Date(r[Ld]).toUTCString()),we(this,"enrollmentTime",c),we(this,"factorId",u)}else throw new T("internal-error","Internal assert: invalid MultiFactorInfo object")}Pd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function xd(r){try{var u=new Ju(r)}catch{u=null}return u}var f0="displayName",Ld="enrolledAt",Md="mfaEnrollmentId",Vd="phoneInfo";function Ju(r){Pd.call(this,r),we(this,"phoneNumber",r[Vd])}k(Ju,Pd),Ju.prototype.w=function(){var r=Ju.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function oC(r){var u={},c=r[sC],h=r[aC],v=r[cC];if(r=xd(r[uC]),!v||v!=Zc&&v!=Zu&&!c||v==Zu&&!h||v==Fd&&!r)throw Error("Invalid checkActionCode response!");v==Zu?(u[d0]=c||null,u[p0]=c||null,u[h0]=h):(u[d0]=h||null,u[p0]=h||null,u[h0]=c||null),u[lC]=r||null,we(this,hC,v),we(this,fC,Rd(u))}var Fd="REVERT_SECOND_FACTOR_ADDITION",Zc="EMAIL_SIGNIN",Zu="VERIFY_AND_CHANGE_EMAIL",sC="email",uC="mfaInfo",aC="newEmail",cC="requestType",h0="email",d0="fromEmail",lC="multiFactorInfo",p0="previousEmail",fC="data",hC="operation";function jd(r){r=Ln(r);var u=sr(r,v0)||null,c=sr(r,m0)||null,h=sr(r,g0)||null;if(h=h&&mC[h]||null,!u||!c||!h)throw new T("argument-error",v0+", "+m0+"and "+g0+" are required in a valid action code URL.");Tn(this,{apiKey:u,operation:h,code:c,continueUrl:sr(r,dC)||null,languageCode:sr(r,pC)||null,tenantId:sr(r,vC)||null})}var v0="apiKey",m0="oobCode",dC="continueUrl",pC="languageCode",g0="mode",vC="tenantId",mC={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Fd,signIn:Zc,verifyAndChangeEmail:Zu,verifyEmail:"VERIFY_EMAIL"};function y0(r){try{return new jd(r)}catch{return null}}function el(r){var u=r[gC];if(typeof u>"u")throw new T("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new T("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var c=r[w0];if(c&&typeof c=="object"){u=c[T0];var h=c[I0];if(c=c[E0],typeof u=="string"&&u.length){if(this.a=u,typeof h<"u"&&typeof h!="boolean")throw new T("argument-error",I0+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new T("argument-error",E0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof u<"u")throw new T("argument-error",T0+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new T("missing-android-pkg-name")}}else if(typeof c<"u")throw new T("argument-error",w0+" property must be a non null object when specified.");if(this.f=null,(u=r[_0])&&typeof u=="object"){if(u=u[S0],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new T("argument-error",S0+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new T("argument-error",_0+" property must be a non null object when specified.");if(u=r[Ud],typeof u<"u"&&typeof u!="boolean")throw new T("argument-error",Ud+" property must be a boolean when specified.");if(this.c=!!u,r=r[b0],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new T("argument-error",b0+" property must be a non empty string when specified.");this.i=r||null}var w0="android",b0="dynamicLinkDomain",Ud="handleCodeInApp",_0="iOS",gC="url",I0="installApp",E0="minimumVersion",T0="packageName",S0="bundleId";function tl(r){var u={};u.continueUrl=r.h,u.canHandleCodeInApp=r.c,(u.androidPackageName=r.a)&&(u.androidMinimumVersion=r.b,u.androidInstallApp=r.g),u.iOSBundleId=r.f,u.dynamicLinkDomain=r.i;for(var c in u)u[c]===null&&delete u[c];return u}function yC(r){return _e(r,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var ea=null;function wC(r){var u=[];return bC(r,function(c){u.push(c)}),u}function bC(r,u){function c(z){for(;h<r.length;){var ee=r.charAt(h++),Pe=ea[ee];if(Pe!=null)return Pe;if(!/^[\s\xa0]*$/.test(ee))throw Error("Unknown base64 encoding at char: "+ee)}return z}_C();for(var h=0;;){var v=c(-1),y=c(0),w=c(64),S=c(64);if(S===64&&v===-1)break;u(v<<2|y>>4),w!=64&&(u(y<<4&240|w>>2),S!=64&&u(w<<6&192|S))}}function _C(){if(!ea){ea={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(u[c].split("")),v=0;v<h.length;v++){var y=h[v];ea[y]===void 0&&(ea[y]=v)}}}function nl(r){var u=A0(r);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=r,this.a=u.exp,this.i=u.sub,r=Date.now()/1e3,this.g=u.iat||(r>this.a?this.a:r),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}nl.prototype.T=function(){return this.f},nl.prototype.l=function(){return this.c},nl.prototype.toString=function(){return this.h};function rl(r){try{return new nl(r)}catch{return null}}function A0(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var u=(4-r.length%4)%4,c=0;c<u;c++)r+=".";try{var h=wC(r);for(r=[],c=u=0;u<h.length;){var v=h[u++];if(128>v)r[c++]=String.fromCharCode(v);else if(191<v&&224>v){var y=h[u++];r[c++]=String.fromCharCode((v&31)<<6|y&63)}else if(239<v&&365>v){y=h[u++];var w=h[u++],S=h[u++],z=((v&7)<<18|(y&63)<<12|(w&63)<<6|S&63)-65536;r[c++]=String.fromCharCode(55296+(z>>10)),r[c++]=String.fromCharCode(56320+(z&1023))}else y=h[u++],w=h[u++],r[c++]=String.fromCharCode((v&15)<<12|(y&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var N0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),il=["client_id","response_type","scope","redirect_uri","state"],Bd={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:il},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:il},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:il},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:N0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function $d(r){for(var u in Bd)if(Bd[u].fa==r)return Bd[u];return null}function k0(r){var u={};u["facebook.com"]=O0,u["google.com"]=R0,u["github.com"]=D0,u["twitter.com"]=P0;var c=r&&r[C0];try{if(c)return u[c]?new u[c](r):new Vr(r);if(typeof r[qd]<"u")return new Kd(r)}catch{}return null}var qd="idToken",C0="providerId";function Kd(r){var u=r[C0];if(!u&&r[qd]){var c=rl(r[qd]);c&&c.b&&(u=c.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),we(this,"providerId",u),we(this,"isNewUser",c)}function Vr(r){Kd.call(this,r),r=_s(r.rawUserInfo||"{}"),we(this,"profile",Rd(r||{}))}k(Vr,Kd);function O0(r){if(Vr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}k(O0,Vr);function D0(r){if(Vr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");we(this,"username",this.profile&&this.profile.login||null)}k(D0,Vr);function R0(r){if(Vr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}k(R0,Vr);function P0(r){if(Vr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");we(this,"username",r.screenName||null)}k(P0,Vr);function x0(r){var u=Ln(r),c=sr(u,"link"),h=sr(Ln(c),"link");return u=sr(u,"deep_link_id"),sr(Ln(u),"link")||u||h||c||r}function ol(r,u){if(!r&&!u)throw new T("internal-error","Internal assert: no raw session string available");if(r&&u)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=u||null,this.type=this.a?ta:sl}var ta="enroll",sl="signin";ol.prototype.Ha=function(){return this.a?Se(this.a):Se(this.b)},ol.prototype.w=function(){return this.type==ta?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Is(){}Is.prototype.ka=function(){},Is.prototype.b=function(){},Is.prototype.c=function(){},Is.prototype.w=function(){};function Es(r,u){return r.then(function(c){if(c[gr]){var h=rl(c[gr]);if(!h||u!=h.i)throw new T("user-mismatch");return c}throw new T("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==Ne+"user-not-found"?new T("user-mismatch"):c})}function yo(r,u){if(u)this.a=u;else throw new T("internal-error","failed to construct a credential");we(this,"providerId",r),we(this,"signInMethod",r)}yo.prototype.ka=function(r){return pp(r,Hd(this))},yo.prototype.b=function(r,u){var c=Hd(this);return c.idToken=u,vp(r,c)},yo.prototype.c=function(r,u){return Es(mp(r,Hd(this)),u)};function Hd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}yo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function IC(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new yo(r.providerId,r.pendingToken)}catch{}return null}function ei(r,u,c){if(this.a=null,u.idToken||u.accessToken)u.idToken&&we(this,"idToken",u.idToken),u.accessToken&&we(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&we(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)we(this,"accessToken",u.oauthToken),we(this,"secret",u.oauthTokenSecret);else throw new T("internal-error","failed to construct a credential");we(this,"providerId",r),we(this,"signInMethod",c)}ei.prototype.ka=function(r){return pp(r,zd(this))},ei.prototype.b=function(r,u){var c=zd(this);return c.idToken=u,vp(r,c)},ei.prototype.c=function(r,u){var c=zd(this);return Es(mp(r,c),u)};function zd(r){var u={};return r.idToken&&(u.id_token=r.idToken),r.accessToken&&(u.access_token=r.accessToken),r.secret&&(u.oauth_token_secret=r.secret),u.providerId=r.providerId,r.nonce&&!r.a&&(u.nonce=r.nonce),u={postBody:Gw(u).toString(),requestUri:"http://localhost"},r.a&&(delete u.postBody,u.pendingToken=r.a),u}ei.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function EC(r){if(r&&r.providerId&&r.signInMethod){var u={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new ei(r.providerId,u,r.signInMethod)}catch{}}return null}function wo(r,u){this.Qc=u||[],Tn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=($d(r)||{}).Ja||null,this.pb=null}wo.prototype.Ka=function(r){return this.Jb=At(r),this};function L0(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');wo.call(this,r,[])}k(L0,wo);function Wn(r){wo.call(this,r,il),this.a=[]}k(Wn,wo),Wn.prototype.Ca=function(r){return U(this.a,r)||this.a.push(r),this},Wn.prototype.Rb=function(){return ae(this.a)},Wn.prototype.credential=function(r,u){var c;if(P(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:u||null},!c.idToken&&!c.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new ei(this.providerId,c,this.providerId)};function bo(){Wn.call(this,"facebook.com")}k(bo,Wn),we(bo,"PROVIDER_ID","facebook.com"),we(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function M0(r){if(!r)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=r;return P(r)&&(u=r.accessToken),new bo().credential({accessToken:u})}function _o(){Wn.call(this,"github.com")}k(_o,Wn),we(_o,"PROVIDER_ID","github.com"),we(_o,"GITHUB_SIGN_IN_METHOD","github.com");function V0(r){if(!r)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=r;return P(r)&&(u=r.accessToken),new _o().credential({accessToken:u})}function Io(){Wn.call(this,"google.com"),this.Ca("profile")}k(Io,Wn),we(Io,"PROVIDER_ID","google.com"),we(Io,"GOOGLE_SIGN_IN_METHOD","google.com");function F0(r,u){var c=r;return P(r)&&(c=r.idToken,u=r.accessToken),new Io().credential({idToken:c,accessToken:u})}function Ts(){wo.call(this,"twitter.com",N0)}k(Ts,wo),we(Ts,"PROVIDER_ID","twitter.com"),we(Ts,"TWITTER_SIGN_IN_METHOD","twitter.com");function j0(r,u){var c=r;if(P(c)||(c={oauthToken:r,oauthTokenSecret:u}),!c.oauthToken||!c.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ei("twitter.com",c,"twitter.com")}function Ii(r,u,c){this.a=r,this.f=u,we(this,"providerId","password"),we(this,"signInMethod",c===ur.EMAIL_LINK_SIGN_IN_METHOD?ur.EMAIL_LINK_SIGN_IN_METHOD:ur.EMAIL_PASSWORD_SIGN_IN_METHOD)}Ii.prototype.ka=function(r){return this.signInMethod==ur.EMAIL_LINK_SIGN_IN_METHOD?He(r,uO,{email:this.a,oobCode:this.f}):He(r,db,{email:this.a,password:this.f})},Ii.prototype.b=function(r,u){return this.signInMethod==ur.EMAIL_LINK_SIGN_IN_METHOD?He(r,aO,{idToken:u,email:this.a,oobCode:this.f}):He(r,hb,{idToken:u,email:this.a,password:this.f})},Ii.prototype.c=function(r,u){return Es(this.ka(r),u)},Ii.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function TC(r){return r&&r.email&&r.password?new Ii(r.email,r.password,r.signInMethod):null}function ur(){Tn(this,{providerId:"password",isOAuthProvider:!1})}function U0(r,u){if(u=Gd(u),!u)throw new T("argument-error","Invalid email link!");return new Ii(r,u.code,ur.EMAIL_LINK_SIGN_IN_METHOD)}function Gd(r){return r=x0(r),(r=y0(r))&&r.operation===Zc?r:null}Tn(ur,{PROVIDER_ID:"password"}),Tn(ur,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Tn(ur,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Ei(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new T("internal-error");this.a=r,we(this,"providerId","phone"),this.fa="phone",we(this,"signInMethod","phone")}Ei.prototype.ka=function(r){return r.gb(na(this))},Ei.prototype.b=function(r,u){var c=na(this);return c.idToken=u,He(r,kO,c)},Ei.prototype.c=function(r,u){var c=na(this);return c.operation="REAUTH",r=He(r,CO,c),Es(r,u)},Ei.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function SC(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var u={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(u[c]=r[c])}),new Ei(u)}return null}function na(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function ti(r){try{this.a=r||Re.auth()}catch{throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Tn(this,{providerId:"phone",isOAuthProvider:!1})}ti.prototype.gb=function(r,u){var c=this.a.a;return Se(u.verify()).then(function(h){if(typeof h!="string")throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var v=P(r)?r.session:null,y=P(r)?r.phoneNumber:r,w;return v&&v.type==ta?w=v.Ha().then(function(S){return JC(c,{idToken:S,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):v&&v.type==sl?w=v.Ha().then(function(S){return ZC(c,{mfaPendingCredential:S,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=XC(c,{phoneNumber:y,recaptchaToken:h}),w.then(function(S){return typeof u.reset=="function"&&u.reset(),S},function(S){throw typeof u.reset=="function"&&u.reset(),S});default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function B0(r,u){if(!r)throw new T("missing-verification-id");if(!u)throw new T("missing-verification-code");return new Ei({fb:r,eb:u})}Tn(ti,{PROVIDER_ID:"phone"}),Tn(ti,{PHONE_SIGN_IN_METHOD:"phone"});function Wd(r){if(r.temporaryProof&&r.phoneNumber)return new Ei({La:r.temporaryProof,ea:r.phoneNumber});var u=r&&r.providerId;if(!u||u==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,v=r&&r.nonce,y=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(u){case"google.com":return F0(y,c);case"facebook.com":return M0(c);case"github.com":return V0(c);case"twitter.com":return j0(c,h);default:return c||h||y||w?w?u.indexOf("saml.")==0?new yo(u,w):new ei(u,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},u):new Wn(u).credential({idToken:y,accessToken:c,rawNonce:v}):null}}catch{return null}}function Qd(r){if(!r.isOAuthProvider)throw new T("invalid-oauth-provider")}function vr(r,u,c,h,v,y,w){if(this.c=r,this.b=u||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=w||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}else throw new T("invalid-auth-event")}vr.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},vr.prototype.T=function(){return this.h},vr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function $0(r){return r=r||{},r.type?new vr(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Ee(r.error),r.postBody,r.tenantId):null}function AC(){this.b=null,this.a=[]}var Yd=null;function NC(r){var u=Yd;u.a.push(r),u.b||(u.b=function(c){for(var h=0;h<u.a.length;h++)u.a[h](c)},r=_t("universalLinks.subscribe",f),typeof r=="function"&&r(null,u.b))}function Xd(r){var u="unauthorized-domain",c=void 0,h=Ln(r);r=h.a,h=h.c,h=="chrome-extension"?c=hw("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=hw("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):u="operation-not-supported-in-this-environment",T.call(this,u,c)}k(Xd,T);function ra(r,u,c){T.call(this,r,c),r=u||{},r.Kb&&we(this,"email",r.Kb),r.ea&&we(this,"phoneNumber",r.ea),r.credential&&we(this,"credential",r.credential),r.$b&&we(this,"tenantId",r.$b)}k(ra,T),ra.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&tn(r,u),r},ra.prototype.toJSON=function(){return this.w()};function ul(r){if(r.code){var u=r.code||"";u.indexOf(Ne)==0&&(u=u.substring(Ne.length));var c={credential:Wd(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new T(u,r.message||void 0);return new ra(u,c,r.message)}return null}function ia(){}ia.prototype.c=null;function q0(r){return r.c||(r.c=r.b())}var Jd;function al(){}k(al,ia),al.prototype.a=function(){var r=K0(this);return r?new ActiveXObject(r):new XMLHttpRequest},al.prototype.b=function(){var r={};return K0(this)&&(r[0]=!0,r[1]=!0),r};function K0(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<u.length;c++){var h=u[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}Jd=new al;function cl(){}k(cl,ia),cl.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new H0;throw Error("Unsupported browser")},cl.prototype.b=function(){return{}};function H0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Tb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=H0.prototype,e.open=function(r,u,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,u)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zd(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Zd(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Zd(this,1)};function Zd(r,u){r.readyState=u,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function ep(r,u,c){this.reset(r,u,c,void 0,void 0)}ep.prototype.a=null,ep.prototype.reset=function(r,u,c,h,v){delete this.a};function tp(r){this.f=r,this.b=this.c=this.a=null}function oa(r,u){this.name=r,this.value=u}oa.prototype.toString=function(){return this.name};var z0=new oa("SEVERE",1e3),np=new oa("WARNING",900),kC=new oa("CONFIG",700),CC=new oa("FINE",500);function G0(r){return r.c?r.c:r.a?G0(r.a):(tt("Root logger has no level set."),null)}tp.prototype.log=function(r,u,c){if(r.value>=G0(this).value)for(A(u)&&(u=u()),r=new ep(r,String(u),this.f),c&&(r.a=c),c=this;c;)c=c.a};var rp={},ll=null;function ip(r){ll||(ll=new tp(""),rp[""]=ll,ll.c=kC);var u;if(!(u=rp[r])){u=new tp(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=ip(r.substr(0,c)),c.b||(c.b={}),c.b[h]=u,u.a=c,rp[r]=u}return u}function ar(r,u){r&&r.log(CC,u,void 0)}function fl(r){this.f=r}k(fl,ia),fl.prototype.a=function(){return new hl(this.f)},fl.prototype.b=function(r){return function(){return r}}({});function hl(r){En.call(this),this.u=r,this.h=void 0,this.readyState=op,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ip("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}k(hl,En);var op=0;e=hl.prototype,e.open=function(r,u){if(this.readyState!=op)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=u,this.readyState=1,ua(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(u.body=r),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,sa(this)),this.readyState=op},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,ua(this)),this.a&&(this.readyState=3,ua(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,W0(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function W0(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var u=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});u&&(this.response=this.responseText+=u),r.done?sa(this):ua(this),this.readyState==3&&W0(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,sa(this))},e.sc=function(r){this.a&&(this.response=r,sa(this))},e.Va=function(r){var u=this.i;u&&u.log(np,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&sa(this)};function sa(r){r.readyState=4,r.g=null,r.c=null,r.m=null,ua(r)}e.setRequestHeader=function(r,u){this.l.append(r,u)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(np,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(np,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var u=this.b.entries(),c=u.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=u.next();return r.join(`\r
`)};function ua(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(hl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function aa(r){En.call(this),this.headers=new ms,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Q0,this.u=this.S=!1}k(aa,En);var Q0="";aa.prototype.b=ip("goog.net.XhrIo");var OC=/^https?$/i,DC=["POST","PUT"];function RC(r,u,c,h,v){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+u);c=c?c.toUpperCase():"GET",r.l=u,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():Jd.a(),r.C=r.D?q0(r.D):q0(Jd),r.a.onreadystatechange=O(r.Wb,r);try{ar(r.b,ni(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(u),!0),r.N=!1}catch(w){ar(r.b,ni(r,"Error opening Xhr: "+w.message)),Y0(r,w);return}u=h||"";var y=new ms(r.headers);v&&Fk(v,function(w,S){y.set(S,w)}),v=D(y.Y()),h=f.FormData&&u instanceof f.FormData,!U(DC,c)||v||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(w,S){this.a.setRequestHeader(S,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{Z0(r),0<r.g&&(r.u=PC(r.a),ar(r.b,ni(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=O(r.Ma,r)):r.s=yd(r.Ma,r.g,r)),ar(r.b,ni(r,"Sending request")),r.i=!0,r.a.send(u),r.i=!1}catch(w){ar(r.b,ni(r,"Send error: "+w.message)),Y0(r,w)}}function PC(r){return dr&&mw(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function xC(r){return r.toLowerCase()=="content-type"}e=aa.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ar(this.b,ni(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Y0(r,u){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=u,X0(r),dl(r)}function X0(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(ar(this.b,ni(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),dl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),dl(this,!0)),aa.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?J0(this):this.Jc())},e.Jc=function(){J0(this)};function J0(r){if(r.c&&typeof l<"u"){if(r.C[1]&&ca(r)==4&&pl(r)==2)ar(r.b,ni(r,"Local request error detected and ignored"));else if(r.i&&ca(r)==4)yd(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),ca(r)==4){ar(r.b,ni(r,"Request complete")),r.c=!1;try{var u=pl(r);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var h;if(!(h=c)){var v;if(v=u===0){var y=String(r.l).match(Hw)[1]||null;if(!y&&f.self&&f.self.location){var w=f.self.location.protocol;y=w.substr(0,w.length-1)}v=!OC.test(y?y.toLowerCase():"")}h=v}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var S=2<ca(r)?r.a.statusText:""}catch(z){ar(r.b,"Can not get status: "+z.message),S=""}r.h=S+" ["+pl(r)+"]",X0(r)}}finally{dl(r)}}}}function dl(r,u){if(r.a){Z0(r);var c=r.a,h=r.C[0]?g:null;r.a=null,r.C=null,u||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(v){(r=r.b)&&r.log(z0,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function Z0(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function ca(r){return r.a?r.a.readyState:0}function pl(r){try{return 2<ca(r)?r.a.status:-1}catch{return-1}}function LC(r){try{return r.a?r.a.responseText:""}catch(u){return ar(r.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Q0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(z0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return ar(this.b,"Can not get response: "+u.message),null}};function ni(r,u){return u+" ["+r.P+" "+r.l+" "+pl(r)+"]"}function Eo(r){var u=FC;this.g=[],this.u=u,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Eo.prototype.cancel=function(r){if(this.a)this.c instanceof Eo&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,r?u.cancel(r):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new fa,vl(this),la(this,!1,r))}},Eo.prototype.m=function(r,u){this.i=!1,la(this,r,u)};function la(r,u,c){r.a=!0,r.c=c,r.f=!u,tb(r)}function vl(r){if(r.a){if(!r.v)throw new ml;r.v=!1}}function MC(r,u){sp(r,null,u,void 0)}function sp(r,u,c,h){r.g.push([u,c,h]),r.a&&tb(r)}Eo.prototype.then=function(r,u,c){var h,v,y=new qe(function(w,S){h=w,v=S});return sp(this,h,function(w){w instanceof fa?y.cancel():v(w)}),y.then(r,u,c)},Eo.prototype.$goog_Thenable=!0;function eb(r){return E(r.g,function(u){return A(u[1])})}function tb(r){if(r.h&&r.a&&eb(r)){var u=r.h,c=gl[u];c&&(f.clearTimeout(c.a),delete gl[u]),r.h=0}r.b&&(r.b.l--,delete r.b),u=r.c;for(var h=c=!1;r.g.length&&!r.i;){var v=r.g.shift(),y=v[0],w=v[1];if(v=v[2],y=r.f?w:y)try{var S=y.call(v||r.s,u);S!==void 0&&(r.f=r.f&&(S==u||S instanceof Error),r.c=u=S),(fe(u)||typeof f.Promise=="function"&&u instanceof f.Promise)&&(h=!0,r.i=!0)}catch(z){u=z,r.f=!0,eb(r)||(c=!0)}}r.c=u,h&&(S=O(r.m,r,!0),h=O(r.m,r,!1),u instanceof Eo?(sp(u,S,h),u.C=!0):u.then(S,h)),c&&(u=new nb(u),gl[u.a]=u,r.h=u.a)}function ml(){me.call(this)}k(ml,me),ml.prototype.message="Deferred has already fired",ml.prototype.name="AlreadyCalledError";function fa(){me.call(this)}k(fa,me),fa.prototype.message="Deferred was canceled",fa.prototype.name="CanceledError";function nb(r){this.a=f.setTimeout(O(this.c,this),0),this.b=r}nb.prototype.c=function(){throw delete gl[this.a],this.b};var gl={};function up(r){var u={},c=u.document||document,h=iw(r).toString(),v=$c(document,"SCRIPT"),y={Xb:v,Ma:void 0},w=new Eo(y),S=null,z=u.timeout!=null?u.timeout:5e3;return 0<z&&(S=window.setTimeout(function(){yl(v,!0);var ee=new ap(UC,"Timeout reached for loading script "+h);vl(w),la(w,!1,ee)},z),y.Ma=S),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(yl(v,u.xd||!1,S),vl(w),la(w,!0,null))},v.onerror=function(){yl(v,!0,S);var ee=new ap(jC,"Error while loading script "+h);vl(w),la(w,!1,ee)},y=u.attributes||{},tn(y,{type:"text/javascript",charset:"UTF-8"}),yw(v,y),vk(v,r),VC(c).appendChild(v),w}function VC(r){var u;return(u=(r||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:r.documentElement}function FC(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&yl(r,!0,this.Ma)}}function yl(r,u,c){c!=null&&f.clearTimeout(c),r.onload=g,r.onerror=g,r.onreadystatechange=g,u&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var jC=0,UC=1;function ap(r,u){var c="Jsloader error (code #"+r+")";u&&(c+=": "+u),me.call(this,c),this.code=r}k(ap,me);function wl(r){this.f=r}k(wl,ia),wl.prototype.a=function(){return new this.f},wl.prototype.b=function(){return{}};function mr(r,u,c){if(this.c=r,r=u||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||BC,this.g=At(r.secureTokenHeaders||$C),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||qC,this.a=At(r.firebaseHeaders||KC),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Lr()=="Node",c=f.XMLHttpRequest||c&&Re.INTERNAL.node&&Re.INTERNAL.node.XMLHttpRequest,!c&&!pr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,pr()?this.f=new fl(self):r0()?this.f=new wl(c):this.f=new cl,this.b=null}var cp,gr="idToken",BC=new _i(3e4,6e4),$C={"Content-Type":"application/x-www-form-urlencoded"},qC=new _i(3e4,6e4),KC={"Content-Type":"application/json"};function rb(r,u){u?r.a["X-Firebase-Locale"]=u:delete r.a["X-Firebase-Locale"]}function bl(r,u){u&&(r.l=lp("https://securetoken.googleapis.com/v1/token",u),r.h=lp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),r.i=lp("https://identitytoolkit.googleapis.com/v2/",u))}function lp(r,u){return r=Ln(r),u=Ln(u.url),r.f=r.a+r.f,Ku(r,u.c),r.a=u.a,Hu(r,u.g),r.toString()}function ib(r,u){u?(r.a["X-Client-Version"]=u,r.g["X-Client-Version"]=u):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}mr.prototype.T=function(){return this.b};function ob(r,u,c,h,v,y,w){Wk()||pr()?r=O(r.u,r):(cp||(cp=new qe(function(S,z){zC(S,z)})),r=O(r.s,r)),r(u,c,h,v,y,w)}mr.prototype.u=function(r,u,c,h,v,y){if(pr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new aa(this.f);if(y){w.g=Math.max(0,y);var S=setTimeout(function(){w.dispatchEvent("timeout")},y)}$w(w,"complete",function(){S&&clearTimeout(S);var z=null;try{z=JSON.parse(LC(this))||null}catch{z=null}u&&u(z)}),gd(w,"ready",function(){S&&clearTimeout(S),Lw(this)}),gd(w,"timeout",function(){S&&clearTimeout(S),Lw(this),u&&u(null)}),RC(w,r,c,h,v)};var HC=new Pr(Fc,"https://apis.google.com/js/client.js?onload=%{onload}"),sb="__fcb"+Math.floor(1e6*Math.random()).toString();function zC(r,u){if(((window.gapi||{}).client||{}).request)r();else{f[sb]=function(){((window.gapi||{}).client||{}).request?r():u(Error("CORS_UNSUPPORTED"))};var c=Zh(HC,{onload:sb});MC(up(c),function(){u(Error("CORS_UNSUPPORTED"))})}}mr.prototype.s=function(r,u,c,h,v){var y=this;cp.then(function(){window.gapi.client.setApiKey(y.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:v,authType:"none",callback:function(S){window.gapi.auth.setToken(w),u&&u(S)}})}).o(function(w){u&&u({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function GC(r,u){return new qe(function(c,h){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?ob(r,r.l+"?key="+encodeURIComponent(r.c),function(v){v?v.error?h(yp(v)):v.access_token&&v.refresh_token?c(v):h(new T("internal-error")):h(new T("network-request-failed"))},"POST",Gw(u).toString(),r.g,r.m.get()):h(new T("internal-error"))})}function ub(r,u,c,h,v,y,w){var S=Ln(u+c);Dt(S,"key",r.c),w&&Dt(S,"cb",Date.now().toString());var z=h=="GET";if(z)for(var ee in v)v.hasOwnProperty(ee)&&Dt(S,ee,v[ee]);return new qe(function(Pe,lt){ob(r,S.toString(),function(nt){nt?nt.error?lt(yp(nt,y||{})):Pe(nt):lt(new T("network-request-failed"))},h,z?void 0:Yw(s0(v)),r.a,r.v.get())})}function To(r){if(r=r.email,typeof r!="string"||!Xk.test(r))throw new T("invalid-email")}function ab(r){"email"in r&&To(r)}function WC(r,u){return He(r,iO,{identifier:u,continueUri:Jc()?Wu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function QC(r){return He(r,mO,{}).then(function(u){return u.authorizedDomains||[]})}function Mn(r){if(!r[gr])throw r.mfaPendingCredential?new T("multi-factor-auth-required",null,At(r)):new T("internal-error")}function fp(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new T("internal-error")}else{if(!r.sessionInfo)throw new T("missing-verification-id");if(!r.code)throw new T("missing-verification-code")}}mr.prototype.Ab=function(){return He(this,bO,{})},mr.prototype.Cb=function(r,u){return He(this,fb,{idToken:r,email:u})},mr.prototype.Db=function(r,u){return He(this,hb,{idToken:r,password:u})};var YC={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=mr.prototype,e.Eb=function(r,u){var c={idToken:r},h=[];return gi(YC,function(v,y){var w=u[y];w===null?h.push(v):y in u&&(c[y]=w)}),h.length&&(c.deleteAttribute=h),He(this,fb,c)},e.wb=function(r,u){return r={requestType:"PASSWORD_RESET",email:r},tn(r,u),He(this,vO,r)},e.xb=function(r,u){return r={requestType:"EMAIL_SIGNIN",email:r},tn(r,u),He(this,hO,r)},e.vb=function(r,u){return r={requestType:"VERIFY_EMAIL",idToken:r},tn(r,u),He(this,dO,r)},e.Fb=function(r,u,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:u},tn(r,c),He(this,pO,r)};function XC(r,u){return He(r,wO,u)}e.gb=function(r){return He(this,NO,r)};function JC(r,u){return He(r,_O,u).then(function(c){return c.phoneSessionInfo.sessionInfo})}function cb(r){if(!r.phoneVerificationInfo)throw new T("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ZC(r,u){return He(r,IO,u).then(function(c){return c.phoneResponseInfo.sessionInfo})}function eO(r,u,c){return He(r,sO,{idToken:u,deleteProvider:c})}function hp(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new T("internal-error")}function dp(r,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(r.sessionId?u.nonce=r.sessionId:r.postBody&&(r=new po(r.postBody),_d(r,"nonce")&&(u.nonce=r.get("nonce")))),u}function lb(r){var u=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",u=ul(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",u=ul(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",u=ul(r)):r.errorMessage&&(u=pb(r.errorMessage)),u)throw u;Mn(r)}function pp(r,u){return u.returnIdpCredential=!0,He(r,EO,u)}function vp(r,u){return u.returnIdpCredential=!0,He(r,SO,u)}function mp(r,u){return u.returnIdpCredential=!0,u.autoCreate=!1,He(r,TO,u)}function gp(r){if(!r.oobCode)throw new T("invalid-action-code")}e.ob=function(r,u){return He(this,yO,{oobCode:r,newPassword:u})},e.Sa=function(r){return He(this,nO,{oobCode:r})},e.kb=function(r){return He(this,tO,{oobCode:r})};var tO={endpoint:"setAccountInfo",A:gp,Z:"email",B:!0},nO={endpoint:"resetPassword",A:gp,G:function(r){var u=r.requestType;if(!u||!r.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new T("internal-error")},B:!0},rO={endpoint:"signupNewUser",A:function(r){if(To(r),!r.password)throw new T("weak-password")},G:Mn,V:!0,B:!0},iO={endpoint:"createAuthUri",B:!0},oO={endpoint:"deleteAccount",O:["idToken"]},sO={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new T("internal-error")}},uO={endpoint:"emailLinkSignin",O:["email","oobCode"],A:To,G:Mn,V:!0,B:!0},aO={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:To,G:Mn,V:!0},cO={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:cb,G:Mn,B:!0,Na:!0},lO={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:cb,G:Mn,B:!0,Na:!0},fO={endpoint:"getAccountInfo"},hO={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new T("internal-error");To(r)},Z:"email",B:!0},dO={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new T("internal-error")},Z:"email",B:!0},pO={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new T("internal-error")},Z:"email",B:!0},vO={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new T("internal-error");To(r)},Z:"email",B:!0},mO={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},gO={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new T("internal-error")}},yO={endpoint:"resetPassword",A:gp,Z:"email",B:!0},wO={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},fb={endpoint:"setAccountInfo",O:["idToken"],A:ab,V:!0},hb={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(ab(r),!r.password)throw new T("weak-password")},G:Mn,V:!0},bO={endpoint:"signupNewUser",G:Mn,V:!0,B:!0},_O={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new T("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},IO={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},EO={endpoint:"verifyAssertion",A:hp,Za:dp,G:lb,V:!0,B:!0},TO={endpoint:"verifyAssertion",A:hp,Za:dp,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new T("user-not-found");if(r.errorMessage)throw pb(r.errorMessage);Mn(r)},V:!0,B:!0},SO={endpoint:"verifyAssertion",A:function(r){if(hp(r),!r.idToken)throw new T("internal-error")},Za:dp,G:lb,V:!0},AO={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new T("invalid-custom-token")},G:Mn,V:!0,B:!0},db={endpoint:"verifyPassword",A:function(r){if(To(r),!r.password)throw new T("wrong-password")},G:Mn,V:!0,B:!0},NO={endpoint:"verifyPhoneNumber",A:fp,G:Mn,B:!0},kO={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new T("internal-error");fp(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",ul(r);Mn(r)}},CO={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:fp,G:Mn,B:!0},OO={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[gr]^!!r.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function He(r,u,c){if(!iC(c,u.O))return bt(new T("internal-error"));var h=!!u.Na,v=u.Vb||"POST",y;return Se(c).then(u.A).then(function(){return u.V&&(c.returnSecureToken=!0),u.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?ub(r,r.i,u.endpoint,v,c,u.Ib,u.mb||!1):ub(r,r.h,u.endpoint,v,c,u.Ib,u.mb||!1)}).then(function(w){return y=w,u.Za?u.Za(c,y):y}).then(u.G).then(function(){if(!u.Z)return y;if(!(u.Z in y))throw new T("internal-error");return y[u.Z]})}function pb(r){return yp({error:{errors:[{message:r}],code:400,message:r}})}function yp(r,u){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new T(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},tn(h,u||{}),u=(u=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var v in h)if(c.indexOf(v)===0)return new T(h[v],u);return!u&&r&&(u=Yu(r)),new T("internal-error",u)}function DO(r){this.b=r,this.a=null,this.sb=RO(this)}function RO(r){return FO().then(function(){return new qe(function(u,c){_t("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:_t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function v(){clearTimeout(y),u()}r.a=h,r.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},VO.get());h.ping(v).then(v,function(){c(Error("Network Error"))})})})})}function PO(r,u){return r.sb.then(function(){return new qe(function(c){r.a.send(u.type,u,c,_t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function xO(r,u){r.sb.then(function(){r.a.register("authEvent",u,_t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var LO=new Pr(Fc,"https://apis.google.com/js/api.js?onload=%{onload}"),MO=new _i(3e4,6e4),VO=new _i(5e3,15e3),_l=null;function FO(){return _l||(_l=new qe(function(r,u){function c(){a0(),_t("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){a0(),u(Error("Network Error"))},timeout:MO.get()})}if(_t("gapi.iframes.Iframe"))r();else if(_t("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){_t("gapi.load")?c():u(Error("Network Error"))},h=Zh(LO,{onload:h}),Se(up(h)).o(function(){u(Error("Network Error"))})}}).o(function(r){throw _l=null,r}))}function vb(r,u,c,h){this.l=r,this.h=u,this.i=c,this.g=h,this.f=null,this.g?(r=Ln(this.g.url),r=Yc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Yc("https",this.l,null,"/__/auth/iframe"),this.a=r,Dt(this.a,"apiKey",this.h),Dt(this.a,"appName",this.i),this.b=null,this.c=[]}vb.prototype.toString=function(){return this.f?Dt(this.a,"v",this.f):xr(this.a.b,"v"),this.b?Dt(this.a,"eid",this.b):xr(this.a.b,"eid"),this.c.length?Dt(this.a,"fw",this.c.join(",")):xr(this.a.b,"fw"),this.a.toString()};function wp(r,u,c,h,v,y){this.u=r,this.s=u,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}wp.prototype.zb=function(r){return this.h=r,this},wp.prototype.toString=function(){if(this.v){var r=Ln(this.v.url);r=Yc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Yc("https",this.u,null,"/__/auth/handler");if(Dt(r,"apiKey",this.s),Dt(r,"appName",this.c),Dt(r,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var c=Re.app(this.c).auth().la()}catch{c=null}u.pb=c,Dt(r,"providerId",this.a.providerId),c=this.a,u=s0(c.Jb);for(var h in u)u[h]=u[h].toString();h=c.Qc,u=At(u);for(var v=0;v<h.length;v++){var y=h[v];y in u&&delete u[y]}c.qb&&c.pb&&!u[c.qb]&&(u[c.qb]=c.pb),Rr(u)||Dt(r,"customParameters",Yu(u))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Dt(r,"scopes",c.join(","))),this.l?Dt(r,"redirectUrl",this.l):xr(r.b,"redirectUrl"),this.g?Dt(r,"eventId",this.g):xr(r.b,"eventId"),this.i?Dt(r,"v",this.i):xr(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!sr(r,w)&&Dt(r,w,this.b[w]);return this.h?Dt(r,"tid",this.h):xr(r.b,"tid"),this.f?Dt(r,"eid",this.f):xr(r.b,"eid"),w=bp(this.c),w.length&&Dt(r,"fw",w.join(",")),r.toString()};function bp(r){try{return Re.app(r).auth().Ga()}catch{return[]}}function mb(r,u,c,h,v,y){this.s=r,this.g=u,this.b=c,this.f=y,this.c=h||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function gb(r){var u=Wu();return QC(r).then(function(c){e:{var h=Ln(u),v=h.c;h=h.a;for(var y=0;y<c.length;y++){var w=c[y],S=h,z=v;if(w.indexOf("chrome-extension://")==0?S=Ln(w).a==S&&z=="chrome-extension":z!="http"&&z!="https"?S=!1:Yk.test(w)?S=S==w:(w=w.split(".").join("\\."),S=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(S)),S){c=!0;break e}}c=!1}if(!c)throw new Xd(Wu())})}function yb(r){return r.m||(r.m=Xc().then(function(){if(!r.u){var u=r.c,c=r.i,h=bp(r.b),v=new vb(r.s,r.g,r.b,r.f);v.f=u,v.b=c,v.c=ae(h||[]),r.u=v.toString()}r.v=new DO(r.u),jO(r)})),r.m}e=mb.prototype,e.Pb=function(r,u,c){var h=new T("popup-closed-by-user"),v=new T("web-storage-unsupported"),y=this,w=!1;return this.ma().then(function(){UO(y).then(function(S){S||(r&&vo(r),u(v),w=!0)})}).o(function(){}).then(function(){if(!w)return Qk(r)}).then(function(){if(!w)return vs(c).then(function(){u(h)})})},e.Yb=function(){var r=nn();return!Qu(r)&&!u0(r)},e.Ub=function(){return!1},e.Nb=function(r,u,c,h,v,y,w,S){if(!r)return bt(new T("popup-blocked"));if(w&&!Qu())return this.ma().o(function(ee){vo(r),v(ee)}),h(),Se();this.a||(this.a=gb(wb(this)));var z=this;return this.a.then(function(){var ee=z.ma().o(function(Pe){throw vo(r),v(Pe),Pe});return h(),ee}).then(function(){if(Qd(c),!w){var ee=ha(z.s,z.g,z.b,u,c,null,y,z.c,void 0,z.i,S,z.f);Zw(ee,r)}}).o(function(ee){throw ee.code=="auth/network-request-failed"&&(z.a=null),ee})};function wb(r){return r.l||(r.C=r.c?ws(r.c,bp(r.b)):null,r.l=new mr(r.g,be(r.i),r.C),r.f&&bl(r.l,r.f)),r.l}e.Ob=function(r,u,c,h){this.a||(this.a=gb(wb(this)));var v=this;return this.a.then(function(){Qd(u);var y=ha(v.s,v.g,v.b,r,u,Wu(),c,v.c,void 0,v.i,h,v.f);Zw(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(v.a=null),y})},e.ma=function(){var r=this;return yb(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new T("network-request-failed")})},e.ac=function(){return!0};function ha(r,u,c,h,v,y,w,S,z,ee,Pe,lt){return r=new wp(r,u,c,h,v,lt),r.l=y,r.g=w,r.i=S,r.b=At(z||null),r.f=ee,r.zb(Pe).toString()}function jO(r){if(!r.v)throw Error("IfcHandler must be initialized!");xO(r.v,function(u){var c={};if(u&&u.authEvent){var h=!1;for(u=$0(u.authEvent),c=0;c<r.h.length;c++)h=r.h[c](u)||h;return c={},c.status=h?"ACK":"ERROR",Se(c)}return c.status="ERROR",Se(c)})}function UO(r){var u={type:"webStorageSupport"};return yb(r).then(function(){return PO(r.v,u)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){Y(this.h,function(u){return u==r})};function bb(r){if(this.a=r||Re.INTERNAL.reactNative&&Re.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=bb.prototype,e.get=function(r){return Se(this.a.getItem(r)).then(function(u){return u&&_s(u)})},e.set=function(r,u){return Se(this.a.setItem(r,Yu(u)))},e.U=function(r){return Se(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function _b(r){this.b=r,this.a={},this.f=O(this.c,this)}var Ib=[];function BO(){var r=pr()?self:null;if(H(Ib,function(c){c.b==r&&(u=c)}),!u){var u=new _b(r);Ib.push(u)}return u}_b.prototype.c=function(r){var u=r.data.eventType,c=r.data.eventId,h=this.a[u];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:u,response:null});var v=[];H(h,function(y){v.push(Se().then(function(){return y(r.origin,r.data.data)}))}),Aw(v).then(function(y){var w=[];H(y,function(S){w.push({fulfilled:S.Qb,value:S.value,reason:S.reason?S.reason.message:void 0})}),H(w,function(S){for(var z in S)typeof S[z]>"u"&&delete S[z]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:u,response:w})})}};function Eb(r,u,c){Rr(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[u]>"u"&&(r.a[u]=[]),r.a[u].push(c)}function Tb(r){this.a=r}Tb.prototype.postMessage=function(r,u){this.a.postMessage(r,u)};function Sb(r){this.c=r,this.b=!1,this.a=[]}function Ab(r,u,c,h){var v,y=c||{},w,S,z,ee=null;if(r.b)return bt(Error("connection_unavailable"));var Pe=h?800:50,lt=typeof MessageChannel<"u"?new MessageChannel:null;return new qe(function(nt,Yt){lt?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),lt.port1.start(),S=setTimeout(function(){Yt(Error("unsupported_event"))},Pe),w=function(ri){ri.data.eventId===v&&(ri.data.status==="ack"?(clearTimeout(S),z=setTimeout(function(){Yt(Error("timeout"))},3e3)):ri.data.status==="done"?(clearTimeout(z),typeof ri.data.response<"u"?nt(ri.data.response):Yt(Error("unknown_error"))):(clearTimeout(S),clearTimeout(z),Yt(Error("invalid_response"))))},ee={messageChannel:lt,onMessage:w},r.a.push(ee),lt.port1.addEventListener("message",w),r.c.postMessage({eventType:u,eventId:v,data:y},[lt.port2])):Yt(Error("connection_unavailable"))}).then(function(nt){return _p(r,ee),nt}).o(function(nt){throw _p(r,ee),nt})}function _p(r,u){if(u){var c=u.messageChannel,h=u.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),Y(r.a,function(v){return v==u})}}Sb.prototype.close=function(){for(;0<this.a.length;)_p(this,this.a[0]);this.b=!0};function Nb(){if(!Tp())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;pr()&&self?(this.v=BO(),Eb(this.v,"keyChanged",function(u,c){return Ob(r).then(function(h){return 0<h.length&&H(r.a,function(v){v(h)}),{keyProcessed:U(h,c.key)}})}),Eb(this.v,"ping",function(){return Se(["keyChanged"])})):nC().then(function(u){(r.h=u)&&(r.g=new Sb(new Tb(u)),Ab(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&U(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var Ip;function $O(r){return new qe(function(u,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){u()},h.onerror=function(v){c(Error(v.target.error))}})}function kb(r){return new qe(function(u,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(v){try{v.preventDefault()}catch{}c(Error(v.target.error))},h.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?u(v):$O(r).then(function(){return kb(r)}).then(function(y){u(y)}).o(function(y){c(y)})}})}function Ep(r){return r.i||(r.i=kb(r)),r.i}function Il(r,u){function c(v,y){Ep(r).then(u).then(v).o(function(w){if(3<++h)y(w);else return Ep(r).then(function(S){return S.close(),r.i=void 0,c(v,y)}).o(function(S){y(S)})})}var h=0;return new qe(c)}function Tp(){try{return!!f.indexedDB}catch{return!1}}function da(r){return r.objectStore("firebaseLocalStorage")}function pa(r,u){return r.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function Ss(r){return new qe(function(u,c){r.onsuccess=function(h){h&&h.target?u(h.target.result):u()},r.onerror=function(h){c(h.target.error)}})}e=Nb.prototype,e.set=function(r,u){var c=this,h=!1;return Il(this,function(v){return v=da(pa(v,!0)),Ss(v.get(r))}).then(function(v){return Il(c,function(y){if(y=da(pa(y,!0)),v)return v.value=u,Ss(y.put(v));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=u,Ss(y.add(w))})}).then(function(){return c.c[r]=u,Cb(c,r)}).oa(function(){h&&c.b--})};function Cb(r,u){return r.g&&r.h&&tC()===r.h?Ab(r.g,"keyChanged",{key:u},r.s).then(function(){}).o(function(){}):Se()}e.get=function(r){return Il(this,function(u){return Ss(da(pa(u,!1)).get(r))}).then(function(u){return u&&u.value})},e.U=function(r){var u=this,c=!1;return Il(this,function(h){return c=!0,u.b++,Ss(da(pa(h,!0)).delete(r))}).then(function(){return delete u.c[r],Cb(u,r)}).oa(function(){c&&u.b--})};function Ob(r){return Ep(r).then(function(u){var c=da(pa(u,!1));return c.getAll?Ss(c.getAll()):new qe(function(h,v){var y=[],w=c.openCursor();w.onsuccess=function(S){(S=S.target.result)?(y.push(S.value),S.continue()):h(y)},w.onerror=function(S){v(S.target.error)}})}).then(function(u){var c={},h=[];if(r.b==0){for(h=0;h<u.length;h++)c[u[h].fbase_key]=u[h].value;h=e0(r.c,c),r.c=c}return h})}e.ca=function(r){this.a.length==0&&qO(this),this.a.push(r)},e.ia=function(r){Y(this.a,function(u){return u==r}),this.a.length==0&&Db(this)};function qO(r){function u(){r.f=setTimeout(function(){r.l=Ob(r).then(function(c){0<c.length&&H(r.a,function(h){h(c)})}).then(function(){u()}).o(function(c){c.message!="STOP_EVENT"&&u()})},800)}Db(r),u()}function Db(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function Rb(r){var u=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Se().then(function(){if(Tp()){var h=go(),v="__sak"+h;return Ip||(Ip=new Nb),c=Ip,c.set(v,h).then(function(){return c.get(v)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(v)}).then(function(){return c}).o(function(){return u.c})}return u.c}).then(function(h){return u.type=h.type,h.ca(function(v){H(u.a,function(y){y(v)})}),h})}e=Rb.prototype,e.get=function(r){return this.b.then(function(u){return u.get(r)})},e.set=function(r,u){return this.b.then(function(c){return c.set(r,u)})},e.U=function(r){return this.b.then(function(u){return u.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){Y(this.a,function(u){return u==r})};function va(){this.a={},this.type="inMemory"}e=va.prototype,e.get=function(r){return Se(this.a[r])},e.set=function(r,u){return this.a[r]=u,Se()},e.U=function(r){return delete this.a[r],Se()},e.ca=function(){},e.ia=function(){};function El(){if(!KO())throw Lr()=="Node"?new T("internal-error","The LocalStorage compatibility library was not found."):new T("web-storage-unsupported");this.a=Pb()||Re.INTERNAL.node.localStorage,this.type="localStorage"}function Pb(){try{var r=f.localStorage,u=go();return r&&(r.setItem(u,"1"),r.removeItem(u)),r}catch{return null}}function KO(){var r=Lr()=="Node";if(r=Pb()||r&&Re.INTERNAL.node&&Re.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=El.prototype,e.get=function(r){var u=this;return Se().then(function(){var c=u.a.getItem(r);return _s(c)})},e.set=function(r,u){var c=this;return Se().then(function(){var h=Yu(u);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var u=this;return Se().then(function(){u.a.removeItem(r)})},e.ca=function(r){f.window&&or(f.window,"storage",r)},e.ia=function(r){f.window&&Gn(f.window,"storage",r)};function Sp(){this.type="nullStorage"}e=Sp.prototype,e.get=function(){return Se(null)},e.set=function(){return Se()},e.U=function(){return Se()},e.ca=function(){},e.ia=function(){};function Ap(){if(!HO())throw Lr()=="Node"?new T("internal-error","The SessionStorage compatibility library was not found."):new T("web-storage-unsupported");this.a=xb()||Re.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function xb(){try{var r=f.sessionStorage,u=go();return r&&(r.setItem(u,"1"),r.removeItem(u)),r}catch{return null}}function HO(){var r=Lr()=="Node";if(r=xb()||r&&Re.INTERNAL.node&&Re.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=Ap.prototype,e.get=function(r){var u=this;return Se().then(function(){var c=u.a.getItem(r);return _s(c)})},e.set=function(r,u){var c=this;return Se().then(function(){var h=Yu(u);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var u=this;return Se().then(function(){u.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function zO(){var r={};r.Browser=GO,r.Node=WO,r.ReactNative=QO,r.Worker=YO,this.a=r[Lr()]}var Np,GO={F:El,cb:Ap},WO={F:El,cb:Ap},QO={F:bb,cb:Sp},YO={F:El,cb:Sp},As={rd:"local",NONE:"none",td:"session"};function XO(r){var u=new T("invalid-persistence-type"),c=new T("unsupported-persistence-type");e:{for(h in As)if(As[h]==r){var h=!0;break e}h=!1}if(!h||typeof r!="string")throw u;switch(Lr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!Tp()&&r!=="none")throw c;break;default:if(!Nd()&&r!=="none")throw c}}function Lb(){var r=!!(!u0(nn())&&Sd()),u=Qu(),c=Nd();this.m=r,this.h=u,this.l=c,this.a={},Np||(Np=new zO),r=Np;try{this.g=!Ed()&&c0()||!f.indexedDB?new r.a.F:new Rb(pr()?new va:new r.a.F)}catch{this.g=new va,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new va}this.v=new va,this.f=O(this.Zb,this),this.b={}}var kp;function ma(){return kp||(kp=new Lb),kp}function So(r,u){switch(u){case"session":return r.i;case"none":return r.v;default:return r.g}}function Ns(r,u){return"firebase:"+r.name+(u?":"+u:"")}function JO(r,u,c){var h=Ns(u,c),v=So(r,u.F);return r.get(u,c).then(function(y){var w=null;try{w=_s(f.localStorage.getItem(h))}catch{}if(w&&!y)return f.localStorage.removeItem(h),r.set(u,w,c);w&&y&&v.type!="localStorage"&&f.localStorage.removeItem(h)})}e=Lb.prototype,e.get=function(r,u){return So(this,r.F).get(Ns(r,u))};function ks(r,u,c){return c=Ns(u,c),u.F=="local"&&(r.b[c]=null),So(r,u.F).U(c)}e.set=function(r,u,c){var h=Ns(r,c),v=this,y=So(this,r.F);return y.set(h,u).then(function(){return y.get(h)}).then(function(w){r.F=="local"&&(v.b[h]=w)})},e.addListener=function(r,u,c){r=Ns(r,u),this.l&&(this.b[r]=f.localStorage.getItem(r)),Rr(this.a)&&(So(this,"local").ca(this.f),this.h||(Ed()||!c0())&&f.indexedDB||!this.l||ZO(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,u,c){r=Ns(r,u),this.a[r]&&(Y(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),Rr(this.a)&&(So(this,"local").ia(this.f),Cp(this))};function ZO(r){Cp(r),r.c=setInterval(function(){for(var u in r.a){var c=f.localStorage.getItem(u),h=r.b[u];c!=h&&(r.b[u]=c,c=new fo({type:"storage",key:u,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Cp(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var u=r.a.key;if(u==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var v=f.localStorage.getItem(c);v!==h&&(this.b[c]=v,this.nb(c))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof r.a.a<"u"?So(this,"local").ia(this.f):Cp(this),this.m){if(c=f.localStorage.getItem(u),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(u,h):f.localStorage.removeItem(u);else if(this.b[u]===h&&typeof r.a.a>"u")return}var y=this;c=function(){(typeof r.a.a<"u"||y.b[u]!==f.localStorage.getItem(u))&&(y.b[u]=f.localStorage.getItem(u),y.nb(u))},dr&&yi&&yi==10&&f.localStorage.getItem(u)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else H(r,O(this.nb,this))},e.nb=function(r){this.a[r]&&H(this.a[r],function(u){u()})};function eD(r){this.a=r,this.b=ma()}var Op={name:"authEvent",F:"local"};function tD(r){return r.b.get(Op,r.a).then(function(u){return $0(u)})}function nD(){this.a=ma()}function rD(){this.b=-1}function Tl(r,u){this.b=Mb,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=u,this.l=f.Int32Array?new Int32Array(64):Array(64),Sl===void 0&&(f.Int32Array?Sl=new Int32Array(jb):Sl=jb),this.reset()}var Sl;k(Tl,rD);for(var Mb=64,iD=Mb-1,Vb=[],Dp=0;Dp<iD;Dp++)Vb[Dp]=0;var Fb=se(128,Vb);Tl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):ae(this.h)};function Rp(r){for(var u=r.f,c=r.l,h=0,v=0;v<u.length;)c[h++]=u[v]<<24|u[v+1]<<16|u[v+2]<<8|u[v+3],v=4*h;for(u=16;64>u;u++){v=c[u-15]|0,h=c[u-2]|0;var y=(c[u-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,w=(c[u-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[u]=y+w|0}h=r.a[0]|0,v=r.a[1]|0;var S=r.a[2]|0,z=r.a[3]|0,ee=r.a[4]|0,Pe=r.a[5]|0,lt=r.a[6]|0;for(y=r.a[7]|0,u=0;64>u;u++){var nt=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&v^h&S^v&S)|0;w=ee&Pe^~ee&lt,y=y+((ee>>>6|ee<<26)^(ee>>>11|ee<<21)^(ee>>>25|ee<<7))|0,w=w+(Sl[u]|0)|0,w=y+(w+(c[u]|0)|0)|0,y=lt,lt=Pe,Pe=ee,ee=z+w|0,z=S,S=v,v=h,h=w+nt|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+v|0,r.a[2]=r.a[2]+S|0,r.a[3]=r.a[3]+z|0,r.a[4]=r.a[4]+ee|0,r.a[5]=r.a[5]+Pe|0,r.a[6]=r.a[6]+lt|0,r.a[7]=r.a[7]+y|0}function Pp(r,u,c){c===void 0&&(c=u.length);var h=0,v=r.c;if(typeof u=="string")for(;h<c;)r.f[v++]=u.charCodeAt(h++),v==r.b&&(Rp(r),v=0);else if(I(u))for(;h<c;){var y=u[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");r.f[v++]=y,v==r.b&&(Rp(r),v=0)}else throw Error("message must be string or array");r.c=v,r.g+=c}var jb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ub(){Tl.call(this,8,oD)}k(Ub,Tl);var oD=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Bb(r,u,c,h,v,y){this.v=r,this.i=u,this.l=c,this.m=h||null,this.u=v||null,this.s=y,this.h=u+":"+c,this.C=new nD,this.g=new eD(this.h),this.f=null,this.b=[],this.a=this.c=null}function Al(r){return new T("invalid-cordova-configuration",r)}e=Bb.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=Jk().then(function(){if(typeof _t("universalLinks.subscribe",f)!="function")throw Al("cordova-universal-links-plugin-fix is not installed");if(typeof _t("BuildInfo.packageName",f)>"u")throw Al("cordova-plugin-buildinfo is not installed");if(typeof _t("cordova.plugins.browsertab.openUrl",f)!="function")throw Al("cordova-plugin-browsertab is not installed");if(typeof _t("cordova.InAppBrowser.open",f)!="function")throw Al("cordova-plugin-inappbrowser is not installed")},function(){throw new T("cordova-not-ready")})};function sD(){for(var r=20,u=[];0<r;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return u.join("")}function uD(r){var u=new Ub;Pp(u,r),r=[];var c=8*u.g;56>u.c?Pp(u,Fb,56-u.c):Pp(u,Fb,u.b-(u.c-56));for(var h=63;56<=h;h--)u.f[h]=c&255,c/=256;for(Rp(u),h=c=0;h<u.i;h++)for(var v=24;0<=v;v-=8)r[c++]=u.a[h]>>v&255;return yC(r)}e.Pb=function(r,u){return u(new T("operation-not-supported-in-this-environment")),Se()},e.Nb=function(){return bt(new T("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,u,c,h){if(this.c)return bt(new T("redirect-operation-pending"));var v=this,y=f.document,w=null,S=null,z=null,ee=null;return this.c=Se().then(function(){return Qd(u),qb(v)}).then(function(){return aD(v,r,u,c,h)}).then(function(){return new qe(function(Pe,lt){S=function(){var nt=_t("cordova.plugins.browsertab.close",f);return Pe(),typeof nt=="function"&&nt(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(S),z=function(){w||(w=vs(2e3).then(function(){lt(new T("redirect-cancelled-by-user"))}))},ee=function(){kd()&&z()},y.addEventListener("resume",z,!1),nn().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",ee,!1)}).o(function(Pe){return xp(v).then(function(){throw Pe})})}).oa(function(){z&&y.removeEventListener("resume",z,!1),ee&&y.removeEventListener("visibilitychange",ee,!1),w&&w.cancel(),S&&v.Ta(S),v.c=null})};function aD(r,u,c,h,v){var y=sD(),w=new vr(u,h,null,y,new T("no-auth-event"),null,v),S=_t("BuildInfo.packageName",f);if(typeof S!="string")throw new T("invalid-cordova-configuration");var z=_t("BuildInfo.displayName",f),ee={};if(nn().toLowerCase().match(/iphone|ipad|ipod/))ee.ibi=S;else if(nn().toLowerCase().match(/android/))ee.apn=S;else return bt(new T("operation-not-supported-in-this-environment"));z&&(ee.appDisplayName=z),y=uD(y),ee.sessionId=y;var Pe=ha(r.v,r.i,r.l,u,c,null,h,r.m,ee,r.u,v,r.s);return r.ma().then(function(){var lt=r.h;return r.C.a.set(Op,w.w(),lt)}).then(function(){var lt=_t("cordova.plugins.browsertab.isAvailable",f);if(typeof lt!="function")throw new T("invalid-cordova-configuration");var nt=null;lt(function(Yt){if(Yt){if(nt=_t("cordova.plugins.browsertab.openUrl",f),typeof nt!="function")throw new T("invalid-cordova-configuration");nt(Pe)}else{if(nt=_t("cordova.InAppBrowser.open",f),typeof nt!="function")throw new T("invalid-cordova-configuration");Yt=nn(),r.a=nt(Pe,Yt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Yt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function $b(r,u){for(var c=0;c<r.b.length;c++)try{r.b[c](u)}catch{}}function qb(r){return r.f||(r.f=r.ma().then(function(){return new qe(function(u){function c(h){return u(h),r.Ta(c),!1}r.Ea(c),cD(r)})})),r.f}function xp(r){var u=null;return tD(r.g).then(function(c){return u=c,c=r.g,ks(c.b,Op,c.a)}).then(function(){return u})}function cD(r){function u(w){h=!0,v&&v.cancel(),xp(r).then(function(S){var z=c;if(S&&w&&w.url){var ee=null;z=x0(w.url),z.indexOf("/__/auth/callback")!=-1&&(ee=Ln(z),ee=_s(sr(ee,"firebaseError")||null),ee=(ee=typeof ee=="object"?Ee(ee):null)?new vr(S.c,S.b,null,null,ee,null,S.T()):new vr(S.c,S.b,z,S.f,null,null,S.T())),z=ee||c}$b(r,z)})}var c=new vr("unknown",null,null,null,new T("no-auth-event")),h=!1,v=vs(500).then(function(){return xp(r).then(function(){h||$b(r,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(_t("BuildInfo.packageName",f).toLowerCase()+"://")==0&&u({url:w}),typeof y=="function")try{y(w)}catch(S){console.error(S)}},Yd||(Yd=new AC),NC(u)}e.Ea=function(r){this.b.push(r),qb(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new vr("unknown",null,null,null,new T("no-auth-event")),r(u))})},e.Ta=function(r){Y(this.b,function(u){return u==r})};function lD(r){this.a=r,this.b=ma()}var Lp={name:"pendingRedirect",F:"session"};function fD(r){return r.b.set(Lp,"pending",r.a)}function Mp(r){return ks(r.b,Lp,r.a)}function hD(r){return r.b.get(Lp,r.a).then(function(u){return u=="pending"})}function Nl(r,u,c,h){this.i={},this.u=0,this.D=r,this.v=u,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new Cl,this.C=new Zb,this.g=new lD(Yb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Kb(this.D,this.v,this.m,he,this.J)}function Kb(r,u,c,h,v){var y=Re.SDK_VERSION||null;return Td()?new Bb(r,u,c,y,h,v):new mb(r,u,c,y,h,v)}Nl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Kb(this.D,this.v,this.m,null,this.J),this.i={}};function Hb(r){r.f||(r.f=!0,r.a.Ea(r.l));var u=r.a;return r.a.ma().o(function(c){throw r.a==u&&r.reset(),c})}function zb(r){r.a.Yb()&&Hb(r).o(function(u){var c=new vr("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Fp(u)&&r.s(c)}),r.a.Ub()||Xb(r.b)}function kl(r,u){U(r.h,u)||r.h.push(u),r.f||hD(r.g).then(function(c){c?Mp(r.g).then(function(){Hb(r).o(function(h){var v=new vr("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Fp(h)&&r.s(v)})}):zb(r)}).o(function(){zb(r)})}function Vp(r,u){Y(r.h,function(c){return c==u})}Nl.prototype.s=function(r){if(!r)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var u=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(u=this.c[r.c])&&(u.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),u=!0;break}}return Xb(this.b),u};var dD=new _i(2e3,1e4),pD=new _i(3e4,6e4);Nl.prototype.ra=function(){return this.b.ra()};function Gb(r,u,c,h,v,y,w){return r.a.Nb(u,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},v,y,w)}function Fp(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Wb(r,u,c,h,v){var y;return fD(r.g).then(function(){return r.a.Ob(u,c,h,v).o(function(w){if(Fp(w))throw new T("operation-not-supported-in-this-environment");return y=w,Mp(r.g).then(function(){throw y})}).then(function(){return r.a.ac()?new qe(function(){}):Mp(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Qb(r,u,c,h,v){return r.a.Pb(h,function(y){u.na(c,null,y,v)},dD.get())}var jp={};function Yb(r,u,c){return r=r+":"+u,c&&(r=r+":"+c.url),r}function Up(r,u,c,h){var v=Yb(u,c,h);return jp[v]||(jp[v]=new Nl(r,u,c,h)),jp[v]}function Cl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Cl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Cl.prototype.h=function(r,u){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,v=r.a&&r.a.code=="auth/web-storage-unsupported",y=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!y),c!="unknown"||v||y?r.a?(Ao(this,!0,null,r.a),Se()):u.Fa(c,h)?vD(this,r,u):bt(new T("invalid-auth-event")):(Ao(this,!1,null,null),Se())}else bt(new T("invalid-auth-event"))};function Xb(r){r.g||(r.g=!0,Ao(r,!1,null,null))}function Ol(r){r.g&&!r.i&&Ao(r,!1,null,null)}function vD(r,u,c){c=c.Fa(u.c,u.b);var h=u.g,v=u.f,y=u.i,w=u.T(),S=!!u.c.match(/Redirect$/);c(h,v,w,y).then(function(z){Ao(r,S,z,null)}).o(function(z){Ao(r,S,null,z)})}function mD(r,u){if(r.b=function(){return bt(u)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](u)}function Jb(r,u){if(r.b=function(){return Se(u)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](u)}function Ao(r,u,c,h){u?h?mD(r,h):Jb(r,c):Jb(r,{user:null}),r.f=[],r.c=[]}Cl.prototype.ra=function(){var r=this;return new qe(function(u,c){r.b?r.b().then(u,c):(r.f.push(u),r.c.push(c),gD(r))})};function gD(r){var u=new T("timeout");r.a&&r.a.cancel(),r.a=vs(pD.get()).then(function(){r.b||(r.g=!0,Ao(r,!0,null,u))})}function Zb(){}Zb.prototype.h=function(r,u){if(r){var c=r.c,h=r.b;r.a?(u.na(r.c,null,r.a,r.b),Se()):u.Fa(c,h)?yD(r,u):bt(new T("invalid-auth-event"))}else bt(new T("invalid-auth-event"))};function yD(r,u){var c=r.b,h=r.c;u.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(v){u.na(h,v,null,c)}).o(function(v){u.na(h,null,v,c)})}function e_(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Bp(r,u){this.a=u,we(this,"verificationId",r)}Bp.prototype.confirm=function(r){return r=B0(this.verificationId,r),this.a(r)};function $p(r,u,c,h){return new ti(r).gb(u,c).then(function(v){return new Bp(v,h)})}function wD(r){var u=A0(r);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Tn(this,{token:r,expirationTime:Xu(1e3*u.exp),authTime:Xu(1e3*u.auth_time),issuedAtTime:Xu(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function qp(r,u,c){var h=u&&u[n_];if(!h)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=At(u),this.g=c,this.c=new ol(null,h),this.b=[];var v=this;H(u[t_]||[],function(y){(y=xd(y))&&v.b.push(y)}),we(this,"auth",this.a),we(this,"session",this.c),we(this,"hints",this.b)}var t_="mfaInfo",n_="mfaPendingCredential";qp.prototype.Rc=function(r){var u=this;return r.tb(this.a.a,this.c).then(function(c){var h=At(u.f);return delete h[t_],delete h[n_],tn(h,c),u.g(h)})};function Kp(r,u,c,h){T.call(this,"multi-factor-auth-required",h,u),this.b=new qp(r,u,c),we(this,"resolver",this.b)}k(Kp,T);function r_(r,u,c){if(r&&P(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new Kp(u,r.serverResponse,c,r.message)}catch{}return null}function i_(){}i_.prototype.tb=function(r,u,c){return u.type==ta?bD(this,r,u,c):_D(this,r,u)};function bD(r,u,c,h){return c.Ha().then(function(v){return v={idToken:v},typeof h<"u"&&(v.displayName=h),tn(v,{phoneVerificationInfo:na(r.a)}),He(u,cO,v)})}function _D(r,u,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},tn(h,{phoneVerificationInfo:na(r.a)}),He(u,lO,h)})}function Hp(r){we(this,"factorId",r.fa),this.a=r}k(Hp,i_);function o_(r){if(Hp.call(this,r),this.a.fa!=ti.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}k(o_,Hp);function Cs(r,u){xn.call(this,r);for(var c in u)this[c]=u[c]}k(Cs,xn);function zp(r,u){this.a=r,this.b=[],this.c=O(this.yc,this),or(this.a,"userReloaded",this.c);var c=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&H(u.multiFactor.enrolledFactors,function(h){var v=null,y={};if(h){h.uid&&(y[Md]=h.uid),h.displayName&&(y[f0]=h.displayName),h.enrollmentTime&&(y[Ld]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[Vd]=h.phoneNumber);try{v=new Ju(y)}catch{}h=v}else h=null;h&&c.push(h)}),Dl(this,c)}function ID(r){var u=[];return H(r.mfaInfo||[],function(c){(c=xd(c))&&u.push(c)}),u}e=zp.prototype,e.yc=function(r){Dl(this,ID(r.hd))};function Dl(r,u){r.b=u,we(r,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(r){return new ol(r,null)})},e.fc=function(r,u){var c=this,h=this.a.a;return this.Sb().then(function(v){return r.tb(h,v,u)}).then(function(v){return Fr(c.a,v),c.a.reload()})},e.bd=function(r){var u=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(v){return He(h,OO,{idToken:v,mfaEnrollmentId:c})}).then(function(v){var y=We(u.b,function(w){return w.uid!=c});return Dl(u,y),Fr(u.a,v),u.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:_e(this.b,function(r){return r.w()})}}};function Gp(r,u,c){if(this.h=r,this.i=u,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Gp.prototype.start=function(){this.a=this.c,Wp(this,!0)};function ED(r,u){return u?(r.a=r.c,r.g()):(u=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),u)}function Wp(r,u){r.stop(),r.b=vs(ED(r,u)).then(function(){return eC()}).then(function(){return r.h()}).then(function(){Wp(r,!0)}).o(function(c){r.i(c)&&Wp(r,!1)})}Gp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Qp(r){this.f=r,this.b=this.a=null,this.c=Date.now()}Qp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function s_(r,u){typeof u>"u"&&(r.b?(u=r.b,u=u.a-u.g):u=0),r.c=Date.now()+1e3*u}function u_(r,u){r.b=rl(u[gr]||""),r.a=u.refreshToken,u=u.expiresIn,s_(r,typeof u<"u"?Number(u):void 0)}function TD(r,u){r.b=u.b,r.a=u.a,r.c=u.c}function SD(r,u){return GC(r.f,u).then(function(c){return r.b=rl(c.access_token),r.a=c.refresh_token,s_(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}Qp.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?bt(new T("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?SD(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})};function Rl(r,u){this.a=r||null,this.b=u||null,Tn(this,{lastSignInTime:Xu(u||null),creationTime:Xu(r||null)})}function AD(r){return new Rl(r.a,r.b)}Rl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function ND(r,u,c,h,v,y){Tn(this,{uid:r,displayName:h||null,photoURL:v||null,email:c||null,phoneNumber:y||null,providerId:u})}function Qn(r,u,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=Re.SDK_VERSION?ws(Re.SDK_VERSION):null;this.a=new mr(this.l,be(he),h),(this.u=r.emulatorConfig||null)&&bl(this.a,this.u),this.h=new Qp(this.a),nv(this,u[gr]),u_(this.h,u),we(this,"refreshToken",this.h.a),c_(this,c||{}),En.call(this),this.P=!1,this.s&&mo()&&(this.b=Up(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=kD(this),this.ba=O(this.ib,this);var v=this;this.za=null,this.Pa=function(y){v.xa(y.h)},this.qa=null,this.Ba=function(y){Yp(v,y.c)},this.$=null,this.aa=[],this.Oa=function(y){ga(v,y.f)},this.ja=null,this.S=new zp(this,c),we(this,"multiFactor",this.S)}k(Qn,En),Qn.prototype.xa=function(r){this.za=r,rb(this.a,r)};function Yp(r,u){r.u=u,bl(r.a,u),r.b&&(u=r.b,r.b=Up(r.s,r.l,r.m,r.u),r.P&&(Vp(u,r),kl(r.b,r)))}Qn.prototype.la=function(){return this.za};function Xp(r,u){r.qa&&Gn(r.qa,"languageCodeChanged",r.Pa),(r.qa=u)&&or(u,"languageCodeChanged",r.Pa)}function Jp(r,u){r.$&&Gn(r.$,"emulatorConfigChanged",r.Ba),(r.$=u)&&or(u,"emulatorConfigChanged",r.Ba)}function ga(r,u){r.aa=u,ib(r.a,Re.SDK_VERSION?ws(Re.SDK_VERSION,r.aa):null)}Qn.prototype.Ga=function(){return ae(this.aa)};function Zp(r,u){r.ja&&Gn(r.ja,"frameworkChanged",r.Oa),(r.ja=u)&&or(u,"frameworkChanged",r.Oa)}Qn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function ev(r){try{return Re.app(r.m).auth()}catch{throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function kD(r){return new Gp(function(){return r.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=r.h.c-Date.now()-3e5;return 0<u?u:0})}function a_(r){r.J||r.D.b||(r.D.start(),Gn(r,"tokenChanged",r.ba),or(r,"tokenChanged",r.ba))}function tv(r){Gn(r,"tokenChanged",r.ba),r.D.stop()}function nv(r,u){r.Aa=u,we(r,"_lat",u)}function CD(r,u){Y(r.W,function(c){return c==u})}function No(r){for(var u=[],c=0;c<r.W.length;c++)u.push(r.W[c](r));return Aw(u).then(function(){return r})}function ya(r){r.b&&!r.P&&(r.P=!0,kl(r.b,r))}function c_(r,u){Tn(r,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Rl(u.createdAt,u.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}we(Qn.prototype,"providerId","firebase");function l_(){}function rv(r){return Se().then(function(){if(r.J)throw new T("app-deleted")})}function iv(r){return _e(r.providerData,function(u){return u.providerId})}function ov(r,u){u&&(f_(r,u.providerId),r.providerData.push(u))}function f_(r,u){Y(r.providerData,function(c){return c.providerId==u})}function Ti(r,u,c){(u!="uid"||c)&&r.hasOwnProperty(u)&&we(r,u,c)}function Pl(r,u){r!=u&&(Tn(r,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?we(r,"metadata",AD(u.metadata)):we(r,"metadata",new Rl),H(u.providerData,function(c){ov(r,c)}),TD(r.h,u.h),we(r,"refreshToken",r.h.a),Dl(r.S,u.S.b))}e=Qn.prototype,e.reload=function(){var r=this;return Kt(this,rv(this).then(function(){return sv(r).then(function(){return No(r)}).then(l_)}))};function sv(r){return r.I().then(function(u){var c=r.isAnonymous;return OD(r,u).then(function(){return c||Ti(r,"isAnonymous",!1),u})})}e.oc=function(r){return this.I(r).then(function(u){return new wD(u)})},e.I=function(r){var u=this;return Kt(this,rv(this).then(function(){return u.h.getToken(r)}).then(function(c){if(!c)throw new T("internal-error");return c.accessToken!=u.Aa&&(nv(u,c.accessToken),u.dispatchEvent(new Cs("tokenChanged"))),Ti(u,"refreshToken",c.refreshToken),c.accessToken}))};function Fr(r,u){u[gr]&&r.Aa!=u[gr]&&(u_(r.h,u),r.dispatchEvent(new Cs("tokenChanged")),nv(r,u[gr]),Ti(r,"refreshToken",r.h.a))}function OD(r,u){return He(r.a,fO,{idToken:u}).then(O(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new T("internal-error");r=r[0],c_(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var u=DD(r),c=0;c<u.length;c++)ov(this,u[c]);Ti(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Cs("userReloaded",{hd:r}))};function DD(r){return(r=r.providerUserInfo)&&r.length?_e(r,function(u){return new ND(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(r){return Cd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var u=this,c=null;return Kt(this,r.c(this.a,this.uid).then(function(h){return Fr(u,h),c=wa(u,h,"reauthenticate"),u.i=null,u.reload()}).then(function(){return c}),!0)};function xl(r,u){return sv(r).then(function(){if(U(iv(r),u))return No(r).then(function(){throw new T("provider-already-linked")})})}e.Cc=function(r){return Cd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var u=this,c=null;return Kt(this,xl(this,r.providerId).then(function(){return u.I()}).then(function(h){return r.b(u.a,h)}).then(function(h){return c=wa(u,h,"link"),h_(u,h)}).then(function(){return c}))},e.Dc=function(r,u){var c=this;return Kt(this,xl(this,"phone").then(function(){return $p(ev(c),r,u,O(c.rb,c))}))},e.Mc=function(r,u){var c=this;return Kt(this,Se().then(function(){return $p(ev(c),r,u,O(c.ub,c))}),!0)};function wa(r,u,c){var h=Wd(u);return u=k0(u),Mr({user:r,credential:h,additionalUserInfo:u,operationType:c})}function h_(r,u){return Fr(r,u),r.reload().then(function(){return r})}e.Cb=function(r){var u=this;return Kt(this,this.I().then(function(c){return u.a.Cb(c,r)}).then(function(c){return Fr(u,c),u.reload()}))},e.ed=function(r){var u=this;return Kt(this,this.I().then(function(c){return r.b(u.a,c)}).then(function(c){return Fr(u,c),u.reload()}))},e.Db=function(r){var u=this;return Kt(this,this.I().then(function(c){return u.a.Db(c,r)}).then(function(c){return Fr(u,c),u.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return rv(this);var u=this;return Kt(this,this.I().then(function(c){return u.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Fr(u,c),Ti(u,"displayName",c.displayName||null),Ti(u,"photoURL",c.photoUrl||null),H(u.providerData,function(h){h.providerId==="password"&&(we(h,"displayName",u.displayName),we(h,"photoURL",u.photoURL))}),No(u)}).then(l_))},e.cd=function(r){var u=this;return Kt(this,sv(this).then(function(c){return U(iv(u),r)?eO(u.a,c,[r]).then(function(h){var v={};return H(h.providerUserInfo||[],function(y){v[y.providerId]=!0}),H(iv(u),function(y){v[y]||f_(u,y)}),v[ti.PROVIDER_ID]||we(u,"phoneNumber",null),No(u)}):No(u).then(function(){throw new T("no-such-provider")})}))},e.delete=function(){var r=this;return Kt(this,this.I().then(function(u){return He(r.a,oO,{idToken:u})}).then(function(){r.dispatchEvent(new Cs("userDeleted"))})).then(function(){for(var u=0;u<r.N.length;u++)r.N[u].cancel("app-deleted");Xp(r,null),Jp(r,null),Zp(r,null),r.N=[],r.J=!0,tv(r),we(r,"refreshToken",null),r.b&&Vp(r.b,r)})},e.Gb=function(r,u){return!!(r=="linkViaPopup"&&(this.g||null)==u&&this.f||r=="reauthViaPopup"&&(this.g||null)==u&&this.f||r=="linkViaRedirect"&&(this.ga||null)==u||r=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(r,u,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,u){return r=="linkViaPopup"&&u==(this.g||null)?O(this.Lb,this):r=="reauthViaPopup"&&u==(this.g||null)?O(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==u?O(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==u?O(this.Mb,this):null},e.Ec=function(r){var u=this;return d_(this,"linkViaPopup",r,function(){return xl(u,r.providerId).then(function(){return No(u)})},!1)},e.Nc=function(r){return d_(this,"reauthViaPopup",r,function(){return Se()},!0)};function d_(r,u,c,h,v){if(!mo())return bt(new T("operation-not-supported-in-this-environment"));if(r.i&&!v)return bt(r.i);var y=$d(c.providerId),w=go(r.uid+":::"),S=null;(!Qu()||Sd())&&r.s&&c.isOAuthProvider&&(S=ha(r.s,r.l,r.m,u,c,null,w,Re.SDK_VERSION||null,null,null,r.tenantId,r.u));var z=n0(S,y&&y.va,y&&y.ua);return h=h().then(function(){if(v_(r),!v)return r.I().then(function(){})}).then(function(){return Gb(r.b,z,u,c,w,!!S,r.tenantId)}).then(function(){return new qe(function(ee,Pe){r.na(u,null,new T("cancelled-popup-request"),r.g||null),r.f=ee,r.C=Pe,r.g=w,r.c=Qb(r.b,r,u,z,w)})}).then(function(ee){return z&&vo(z),ee?Mr(ee):null}).o(function(ee){throw z&&vo(z),ee}),Kt(r,h,v)}e.Fc=function(r){var u=this;return p_(this,"linkViaRedirect",r,function(){return xl(u,r.providerId)},!1)},e.Oc=function(r){return p_(this,"reauthViaRedirect",r,function(){return Se()},!0)};function p_(r,u,c,h,v){if(!mo())return bt(new T("operation-not-supported-in-this-environment"));if(r.i&&!v)return bt(r.i);var y=null,w=go(r.uid+":::");return h=h().then(function(){if(v_(r),!v)return r.I().then(function(){})}).then(function(){return r.ga=w,No(r)}).then(function(S){return r.ha&&(S=r.ha,S=S.b.set(uv,r.w(),S.a)),S}).then(function(){return Wb(r.b,u,c,w,r.tenantId)}).o(function(S){if(y=S,r.ha)return g_(r.ha);throw y}).then(function(){if(y)throw y}),Kt(r,h,v)}function v_(r){if(!r.b||!r.P)throw r.b&&!r.P?new T("internal-error"):new T("auth-domain-config-required")}e.Lb=function(r,u,c,h){var v=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(w){return vp(v.a,{requestUri:r,postBody:h,sessionId:u,idToken:w})}).then(function(w){return y=wa(v,w,"link"),h_(v,w)}).then(function(){return y}),Kt(this,c)},e.Mb=function(r,u,c,h){var v=this;this.c&&(this.c.cancel(),this.c=null);var y=null,w=Se().then(function(){return Es(mp(v.a,{requestUri:r,sessionId:u,postBody:h,tenantId:c}),v.uid)}).then(function(S){return y=wa(v,S,"reauthenticate"),Fr(v,S),v.i=null,v.reload()}).then(function(){return y});return Kt(this,w,!0)},e.vb=function(r){var u=this,c=null;return Kt(this,this.I().then(function(h){return c=h,typeof r>"u"||Rr(r)?{}:tl(new el(r))}).then(function(h){return u.a.vb(c,h)}).then(function(h){if(u.email!=h)return u.reload()}).then(function(){}))},e.Fb=function(r,u){var c=this,h=null;return Kt(this,this.I().then(function(v){return h=v,typeof u>"u"||Rr(u)?{}:tl(new el(u))}).then(function(v){return c.a.Fb(h,r,v)}).then(function(v){if(c.email!=v)return c.reload()}).then(function(){}))};function Kt(r,u,c){var h=RD(r,u,c);return r.N.push(h),h.oa(function(){G(r.N,h)}),h.o(function(v){var y=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(y=r_(v.w(),ev(r),O(r.jc,r))),y||v})}e.jc=function(r){var u=null,c=this;return r=Es(Se(r),c.uid).then(function(h){return u=wa(c,h,"reauthenticate"),Fr(c,h),c.i=null,c.reload()}).then(function(){return u}),Kt(this,r,!0)};function RD(r,u,c){return r.i&&!c?(u.cancel(),bt(r.i)):u.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new Cs("userInvalidated")),r.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&tn(r,this.metadata.w()),H(this.providerData,function(u){r.providerData.push(rC(u))}),tn(r,this.S.w()),r};function m_(r){if(!r.apiKey)return null;var u={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[gr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var v=new Qn(u,c,r);return r.providerData&&H(r.providerData,function(y){y&&ov(v,Mr(y))}),r.redirectEventId&&(v.ga=r.redirectEventId),v}function PD(r,u,c,h){var v=new Qn(r,u);return c&&(v.ha=c),h&&ga(v,h),v.reload().then(function(){return v})}function xD(r,u,c,h){var v=r.h,y={};return y[gr]=v.b&&v.b.toString(),y.refreshToken=v.a,u=new Qn(u||{apiKey:r.l,authDomain:r.s,appName:r.m},y),c&&(u.ha=c),h&&ga(u,h),Pl(u,r),u}function LD(r){this.a=r,this.b=ma()}var uv={name:"redirectUser",F:"session"};function g_(r){return ks(r.b,uv,r.a)}function MD(r,u){return r.b.get(uv,r.a).then(function(c){return c&&u&&(c.authDomain=u),m_(c||{})})}function av(r){this.a=r,this.b=ma(),this.c=null,this.f=VD(this),this.b.addListener(jr("local"),this.a,O(this.g,this))}av.prototype.g=function(){var r=this,u=jr("local");Os(this,function(){return Se().then(function(){return r.c&&r.c.F!="local"?r.b.get(u,r.a):null}).then(function(c){if(c)return cv(r,"local").then(function(){r.c=u})})})};function cv(r,u){var c=[],h;for(h in As)As[h]!==u&&c.push(ks(r.b,jr(As[h]),r.a));return c.push(ks(r.b,lv,r.a)),Ak(c)}function VD(r){var u=jr("local"),c=jr("session"),h=jr("none");return JO(r.b,u,r.a).then(function(){return r.b.get(c,r.a)}).then(function(v){return v?c:r.b.get(h,r.a).then(function(y){return y?h:r.b.get(u,r.a).then(function(w){return w?u:r.b.get(lv,r.a).then(function(S){return S?jr(S):u})})})}).then(function(v){return r.c=v,cv(r,v.F)}).o(function(){r.c||(r.c=u)})}var lv={name:"persistence",F:"session"};function jr(r){return{name:"authUser",F:r}}av.prototype.yb=function(r){var u=null,c=this;return XO(r),Os(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return u=h,cv(c,r)}).then(function(){if(c.c=jr(r),u)return c.b.set(c.c,u,c.a)}):Se()})};function FD(r){return Os(r,function(){return r.b.set(lv,r.c.F,r.a)})}function y_(r,u){return Os(r,function(){return r.b.set(r.c,u.w(),r.a)})}function w_(r){return Os(r,function(){return ks(r.b,r.c,r.a)})}function b_(r,u,c){return Os(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&u&&(h.authDomain=u),h&&c&&(h.emulatorConfig=c),m_(h||{})})})}function Os(r,u){return r.f=r.f.then(u,u),r.f}function yr(r){if(this.l=!1,we(this,"settings",new e_),we(this,"app",r),dt(this).options&&dt(this).options.apiKey)r=Re.SDK_VERSION?ws(Re.SDK_VERSION):null,this.a=new mr(dt(this).options&&dt(this).options.apiKey,be(he),r);else throw new T("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Re.INTERNAL.createSubscribe(O(this.zc,this)),this.W=void 0,this.ib=Re.INTERNAL.createSubscribe(O(this.Ac,this)),Ds(this,null),this.i=new av(dt(this).options.apiKey+":"+dt(this).name),this.D=new LD(dt(this).options.apiKey+":"+dt(this).name),this.$=Nt(this,KD(this)),this.h=Nt(this,HD(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.qa=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,BD(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,En.call(this),UD(this),this.J=[],this.R=null}k(yr,En);function __(r){xn.call(this,"languageCodeChanged"),this.h=r}k(__,xn);function I_(r){xn.call(this,"emulatorConfigChanged"),this.c=r}k(I_,xn);function E_(r){xn.call(this,"frameworkChanged"),this.f=r}k(E_,xn),e=yr.prototype,e.yb=function(r){return r=this.i.yb(r),Nt(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,rb(this.a,this.aa),this.dispatchEvent(new __(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,u){if(!this.R){if(!/^https?:\/\//.test(r))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,jD(u),this.R={url:r,ec:u},this.settings.jb=!0,bl(this.a,this.R),this.dispatchEvent(new I_(this.R))}};function jD(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Xc().then(function(){var u=f.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),f.document.body.appendChild(u)})}e.Gc=function(r){this.J.push(r),ib(this.a,Re.SDK_VERSION?ws(Re.SDK_VERSION,this.J):null),this.dispatchEvent(new E_(this.J))},e.Ga=function(){return ae(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function UD(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var u=Ln(this.R.url);u=Mr({protocol:u.c,host:u.a,port:u.g,options:Mr({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:dt(this).options.apiKey,authDomain:dt(this).options.authDomain,appName:dt(this).name,currentUser:je(this)&&je(this).w()}};function fv(r){return r.Oa||bt(new T("auth-domain-config-required"))}function BD(r){var u=dt(r).options.authDomain,c=dt(r).options.apiKey;u&&mo()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Up(u,c,dt(r).name,r.R),kl(r.b,r),je(r)&&ya(je(r)),r.m){ya(r.m);var h=r.m;h.xa(r.la()),Xp(h,r),h=r.m,ga(h,r.J),Zp(h,r),h=r.m,Yp(h,r.R),Jp(h,r),r.m=null}return r.b}}))}e.Gb=function(r,u){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(r,u,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,u){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==u&&this.f?O(this.ic,this):null},e.ic=function(r,u,c,h){var v=this,y={requestUri:r,postBody:h,sessionId:u,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return ko(v,pp(v.a,y))})},e.Xc=function(r){if(!mo())return bt(new T("operation-not-supported-in-this-environment"));var u=this,c=$d(r.providerId),h=go(),v=null;(!Qu()||Sd())&&dt(this).options.authDomain&&r.isOAuthProvider&&(v=ha(dt(this).options.authDomain,dt(this).options.apiKey,dt(this).name,"signInViaPopup",r,null,h,Re.SDK_VERSION||null,null,null,this.T(),this.R));var y=n0(v,c&&c.va,c&&c.ua);return c=fv(this).then(function(w){return Gb(w,y,"signInViaPopup",r,h,!!v,u.T())}).then(function(){return new qe(function(w,S){u.na("signInViaPopup",null,new T("cancelled-popup-request"),u.g),u.f=w,u.C=S,u.g=h,u.c=Qb(u.b,u,"signInViaPopup",y,h)})}).then(function(w){return y&&vo(y),w?Mr(w):null}).o(function(w){throw y&&vo(y),w}),Nt(this,c)},e.Yc=function(r){if(!mo())return bt(new T("operation-not-supported-in-this-environment"));var u=this,c=fv(this).then(function(){return FD(u.i)}).then(function(){return Wb(u.b,"signInViaRedirect",r,void 0,u.T())});return Nt(this,c)};function T_(r){if(!mo())return bt(new T("operation-not-supported-in-this-environment"));var u=fv(r).then(function(){return r.b.ra()}).then(function(c){return c?Mr(c):null});return Nt(r,u)}e.ra=function(){var r=this;return T_(this).then(function(u){return r.b&&Ol(r.b.b),u}).o(function(u){throw r.b&&Ol(r.b.b),u})},e.dd=function(r){if(!r)return bt(new T("null-user"));if(this.S!=r.tenantId)return bt(new T("tenant-id-mismatch"));var u=this,c={};c.apiKey=dt(this).options.apiKey,c.authDomain=dt(this).options.authDomain,c.appName=dt(this).name;var h=xD(r,c,u.D,u.Ga());return Nt(this,this.h.then(function(){if(dt(u).options.apiKey!=r.l)return h.reload()}).then(function(){return je(u)&&r.uid==je(u).uid?(Pl(je(u),r),u.da(r)):(Ds(u,h),ya(h),u.da(h))}).then(function(){ba(u)}))};function $D(r,u){var c={};return c.apiKey=dt(r).options.apiKey,c.authDomain=dt(r).options.authDomain,c.appName=dt(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return PD(c,u,r.D,r.Ga())}).then(function(h){return je(r)&&h.uid==je(r).uid?(Pl(je(r),h),r.da(h)):(Ds(r,h),ya(h),r.da(h))}).then(function(){ba(r)})}function Ds(r,u){je(r)&&(CD(je(r),r.Ba),Gn(je(r),"tokenChanged",r.qa),Gn(je(r),"userDeleted",r.za),Gn(je(r),"userInvalidated",r.Aa),tv(je(r))),u&&(u.W.push(r.Ba),or(u,"tokenChanged",r.qa),or(u,"userDeleted",r.za),or(u,"userInvalidated",r.Aa),0<r.u&&a_(u)),we(r,"currentUser",u),u&&(u.xa(r.la()),Xp(u,r),ga(u,r.J),Zp(u,r),Yp(u,r.R),Jp(u,r))}e.Bb=function(){var r=this,u=this.h.then(function(){return r.b&&Ol(r.b.b),je(r)?(Ds(r,null),w_(r.i).then(function(){ba(r)})):Se()});return Nt(this,u)};function qD(r){var u=MD(r.D,dt(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),g_(r.D)});return Nt(r,u)}function KD(r){var u=dt(r).options.authDomain,c=qD(r).then(function(){return b_(r.i,u,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return y_(r.i,h).then(function(){return h})}).o(function(v){return v.code=="auth/network-request-failed"?h:w_(r.i)})):null}).then(function(h){Ds(r,h||null)});return Nt(r,c)}function HD(r){return r.$.then(function(){return T_(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var u=r.i;u.b.addListener(jr("local"),u.a,r.ja)}})}e.Zc=function(){var r=this;return b_(this.i,dt(this).options.authDomain).then(function(u){if(!r.l){var c;if(c=je(r)&&u){c=je(r).uid;var h=u.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return Pl(je(r),u),je(r).I();(je(r)||u)&&(Ds(r,u),u&&(ya(u),u.ha=r.D),r.b&&kl(r.b,r),ba(r))}})},e.da=function(r){return y_(this.i,r)},e.mc=function(){ba(this),this.da(je(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function ko(r,u){var c=null,h=null;return Nt(r,u.then(function(v){return c=Wd(v),h=k0(v),$D(r,v)},function(v){var y=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(y=r_(v.w(),r,O(r.kc,r))),y||v}).then(function(){return Mr({user:je(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(r){var u=this;return this.h.then(function(){return ko(u,Se(r))})},e.zc=function(r){var u=this;this.addAuthTokenListener(function(){r.next(je(u))})},e.Ac=function(r){var u=this;zD(this,function(){r.next(je(u))})},e.Ic=function(r,u,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(je(h)):typeof r.next=="function"&&r.next(je(h))}),this.Pa(r,u,c)},e.Hc=function(r,u,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(je(h)):typeof r.next=="function"&&r.next(je(h))}),this.ib(r,u,c)},e.nc=function(r){var u=this,c=this.h.then(function(){return je(u)?je(u).I(r).then(function(h){return{accessToken:h}}):null});return Nt(this,c)},e.Tc=function(r){var u=this;return this.h.then(function(){return ko(u,He(u.a,AO,{token:r}))}).then(function(c){var h=c.user;return Ti(h,"isAnonymous",!1),u.da(h),c})},e.Uc=function(r,u){var c=this;return this.h.then(function(){return ko(c,He(c.a,db,{email:r,password:u}))})},e.dc=function(r,u){var c=this;return this.h.then(function(){return ko(c,He(c.a,rO,{email:r,password:u}))})},e.ab=function(r){var u=this;return this.h.then(function(){return ko(u,r.ka(u.a))})},e.Sc=function(r){return Cd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var u=je(r);if(u&&u.isAnonymous){var c=Mr({providerId:null,isNewUser:!1});return Mr({user:u,credential:null,additionalUserInfo:c,operationType:"signIn"})}return ko(r,r.a.Ab()).then(function(h){var v=h.user;return Ti(v,"isAnonymous",!0),r.da(v),h})})};function dt(r){return r.app}function je(r){return r.currentUser}e.getUid=function(){return je(this)&&je(this).uid||null};function Ll(r){return je(r)&&je(r)._lat||null}function ba(r){if(r.ba){for(var u=0;u<r.s.length;u++)r.s[u]&&r.s[u](Ll(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),u=0;u<r.N.length;u++)r.N[u]&&r.N[u](Ll(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&je(this)&&a_(je(this))},e.Pc=function(r){var u=this;H(this.s,function(c){c==r&&u.u--}),0>this.u&&(this.u=0),this.u==0&&je(this)&&tv(je(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var u=this;this.s.push(r),Nt(this,this.h.then(function(){u.l||U(u.s,r)&&r(Ll(u))}))},e.removeAuthTokenListener=function(r){Y(this.s,function(u){return u==r})};function zD(r,u){r.N.push(u),Nt(r,r.h.then(function(){!r.l&&U(r.N,u)&&r.W!==r.getUid()&&(r.W=r.getUid(),u(Ll(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(jr("local"),r.a,this.ja)),this.b&&(Vp(this.b,this),Ol(this.b.b)),Promise.resolve()};function Nt(r,u){return r.P.push(u),u.oa(function(){G(r.P,u)}),u}e.hc=function(r){return Nt(this,WC(this.a,r))},e.Bc=function(r){return!!Gd(r)},e.xb=function(r,u){var c=this;return Nt(this,Se().then(function(){var h=new el(u);if(!h.c)throw new T("argument-error",Ud+" must be true when sending sign in link to email");return tl(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(u){return u.data.email})},e.ob=function(r,u){return Nt(this,this.a.ob(r,u).then(function(){}))},e.Sa=function(r){return Nt(this,this.a.Sa(r).then(function(u){return new oC(u)}))},e.kb=function(r){return Nt(this,this.a.kb(r).then(function(){}))},e.wb=function(r,u){var c=this;return Nt(this,Se().then(function(){return typeof u>"u"||Rr(u)?{}:tl(new el(u))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},e.Wc=function(r,u){return Nt(this,$p(this,r,u,O(this.ab,this)))},e.Vc=function(r,u){var c=this;return Nt(this,Se().then(function(){var h=u||Wu(),v=U0(r,h);if(h=Gd(h),!h)throw new T("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new T("tenant-id-mismatch");return c.ab(v)}))};function _a(){}_a.prototype.render=function(){},_a.prototype.reset=function(){},_a.prototype.getResponse=function(){},_a.prototype.execute=function(){};function Rs(){this.a={},this.b=1e12}var hv=null;Rs.prototype.render=function(r,u){return this.a[this.b.toString()]=new Ml(r,u),this.b++},Rs.prototype.reset=function(r){var u=dv(this,r);r=S_(r),u&&r&&(u.delete(),delete this.a[r])},Rs.prototype.getResponse=function(r){return(r=dv(this,r))?r.getResponse():null},Rs.prototype.execute=function(r){(r=dv(this,r))&&r.execute()};function dv(r,u){return(u=S_(u))&&r.a[u]||null}function S_(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function Ml(r,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Bu(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():or(this.f,"click",this.i)}Ml.prototype.getResponse=function(){return pv(this),this.b},Ml.prototype.execute=function(){pv(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=Zk();var u=r.c.callback,c=r.c["expired-callback"];if(u)try{u(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},Ml.prototype.delete=function(){pv(this),this.g=!0,clearTimeout(this.a),this.a=null,Gn(this.f,"click",this.i)};function pv(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function vv(){}we(vv,"FACTOR_ID","phone");function mv(){}mv.prototype.g=function(){return hv||(hv=new Rs),Se(hv)},mv.prototype.c=function(){};var gv=null;function yv(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var GD=new Pr(Fc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),WD=new _i(3e4,6e4);yv.prototype.g=function(r){var u=this;return new qe(function(c,h){var v=setTimeout(function(){h(new T("network-request-failed"))},WD.get());if(!f.grecaptcha||r!==u.f&&!u.b){f[u.a]=function(){if(f.grecaptcha){u.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(S,z){return S=w(S,z),u.b++,S},clearTimeout(v),c(f.grecaptcha)}else clearTimeout(v),h(new T("internal-error"));delete f[u.a]};var y=Zh(GD,{onload:u.a,hl:r||""});Se(up(y)).o(function(){clearTimeout(v),h(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),c(f.grecaptcha)})},yv.prototype.c=function(){this.b--};var wv=null;function bv(r,u,c,h,v,y,w){if(we(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,w?(gv||(gv=new mv),w=gv):(wv||(wv=new yv),w=wv),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[k_])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[QD]==="invisible",!f.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Bu(u)||!this.i&&Bu(u).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new mr(r,y||null,v||null),this.u=h||function(){return null};var S=this;this.l=[];var z=this.a[A_];this.a[A_]=function(Pe){if(C_(S,Pe),typeof z=="function")z(Pe);else if(typeof z=="string"){var lt=_t(z,f);typeof lt=="function"&&lt(Pe)}};var ee=this.a[N_];this.a[N_]=function(){if(C_(S,null),typeof ee=="function")ee();else if(typeof ee=="string"){var Pe=_t(ee,f);typeof Pe=="function"&&Pe()}}}var A_="callback",N_="expired-callback",k_="sitekey",QD="size";function C_(r,u){for(var c=0;c<r.l.length;c++)try{r.l[c](u)}catch{}}function YD(r,u){Y(r.l,function(c){return c==u})}function _v(r,u){return r.h.push(u),u.oa(function(){G(r.h,u)}),u}e=bv.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=_v(this,Se().then(function(){if(Jc()&&!pr())return Xc();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(u){return r.g=u,He(r.s,gO,{})}).then(function(u){r.a[k_]=u.recaptchaSiteKey}).o(function(u){throw r.f=null,u}))},e.render=function(){Vl(this);var r=this;return _v(this,this.Ia().then(function(){if(r.c===null){var u=r.v;if(!r.i){var c=Bu(u);u=Ik("DIV"),c.appendChild(u)}r.c=r.g.render(u,r.a)}return r.c}))},e.verify=function(){Vl(this);var r=this;return _v(this,this.render().then(function(u){return new qe(function(c){var h=r.g.getResponse(u);if(h)c(h);else{var v=function(y){y&&(YD(r,v),c(y))};r.l.push(v),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){Vl(this),this.c!==null&&this.g.reset(this.c)};function Vl(r){if(r.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Vl(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=Bu(this.v);for(var u;u=r.firstChild;)r.removeChild(u)}};function Iv(r,u,c){var h=!1;try{this.b=c||Re.app()}catch{throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new T("invalid-api-key");var v=this,y=null;try{y=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=Re.SDK_VERSION?ws(Re.SDK_VERSION,y):null,bv.call(this,c,r,u,function(){try{var w=v.b.auth().la()}catch{w=null}return w},y,be(he),h)}k(Iv,bv);function O_(r,u,c,h){e:{c=Array.prototype.slice.call(c);for(var v=0,y=!1,w=0;w<u.length;w++)if(u[w].optional)y=!0;else{if(y)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(y=u.length,c.length<v||y<c.length)h="Expected "+(v==y?v==1?"1 argument":v+" arguments":v+"-"+y+" arguments")+" but got "+c.length+".";else{for(v=0;v<c.length;v++)if(y=u[v].optional&&c[v]===void 0,!u[v].M(c[v])&&!y){if(u=u[v],0>v||v>=D_.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");c=D_[v],h=(h?"":c+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}h=null}}if(h)throw new T("argument-error",r+" failed: "+h)}var D_="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ye(r,u){return{name:r||"",K:"a valid string",optional:!!u,M:function(c){return typeof c=="string"}}}function Ev(r,u){return{name:r||"",K:"a boolean",optional:!!u,M:function(c){return typeof c=="boolean"}}}function Ft(r,u){return{name:r||"",K:"a valid object",optional:!!u,M:P}}function Ps(r,u){return{name:r||"",K:"a function",optional:!!u,M:function(c){return typeof c=="function"}}}function Ur(r,u){return{name:r||"",K:"null",optional:!!u,M:function(c){return c===null}}}function XD(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function JD(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof yr)}}}function ZD(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof Re.app.App)}}}function Si(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var c=!r||u.providerId===r;return!(!u.ka||!c)}}}function R_(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function xs(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Tv(r,u){return P(r)&&typeof r.type=="string"&&r.type===u&&typeof r.Ha=="function"}function P_(r){return P(r)&&typeof r.uid=="string"}function Fl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Rt(r,u,c,h){return{name:c||"",K:r.K+" or "+u.K,optional:!!h,M:function(v){return r.M(v)||u.M(v)}}}function Tt(r,u){for(var c in u){var h=u[c].name;r[h]=L_(h,r[c],u[c].j)}}function x_(r,u){for(var c in u){var h=u[c].name;h!==c&&Object.defineProperty(r,h,{get:L(function(v){return this[v]},c),set:L(function(v,y,w,S){O_(v,[w],[S],!0),this[y]=S},h,c,u[c].lb),enumerable:!0})}}function Pt(r,u,c,h){r[u]=L_(u,c,h)}function L_(r,u,c){function h(){var w=Array.prototype.slice.call(arguments);return O_(v,c,w),u.apply(this,w)}if(!c)return u;var v=eR(r),y;for(y in u)h[y]=u[y];for(y in u.prototype)h.prototype[y]=u.prototype[y];return h}function eR(r){return r=r.split("."),r[r.length-1]}Tt(yr.prototype,{kb:{name:"applyActionCode",j:[ye("code")]},Sa:{name:"checkActionCode",j:[ye("code")]},ob:{name:"confirmPasswordReset",j:[ye("code"),ye("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ye("email"),ye("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ye("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ye("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Rt(Ft(),Ps(),"nextOrObserver"),Ps("opt_error",!0),Ps("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Rt(Ft(),Ps(),"nextOrObserver"),Ps("opt_error",!0),Ps("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ye("email"),Rt(Ft("opt_actionCodeSettings",!0),Ur(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ye("email"),Ft("actionCodeSettings")]},yb:{name:"setPersistence",j:[ye("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Si()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Si()]},Tc:{name:"signInWithCustomToken",j:[ye("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ye("email"),ye("password")]},Vc:{name:"signInWithEmailLink",j:[ye("email"),ye("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ye("phoneNumber"),Fl()]},Xc:{name:"signInWithPopup",j:[xs()]},Yc:{name:"signInWithRedirect",j:[xs()]},dd:{name:"updateCurrentUser",j:[Rt(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(u){return!!(u&&u instanceof Qn)}}}(),Ur(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ye(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ye("url"),Ft("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ye("code")]}}),x_(yr.prototype,{lc:{name:"languageCode",lb:Rt(ye(),Ur(),"languageCode")},ti:{name:"tenantId",lb:Rt(ye(),Ur(),"tenantId")}}),yr.Persistence=As,yr.Persistence.LOCAL="local",yr.Persistence.SESSION="session",yr.Persistence.NONE="none",Tt(Qn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Ev("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ev("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Si()]},rb:{name:"linkWithCredential",j:[Si()]},Dc:{name:"linkWithPhoneNumber",j:[ye("phoneNumber"),Fl()]},Ec:{name:"linkWithPopup",j:[xs()]},Fc:{name:"linkWithRedirect",j:[xs()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Si()]},ub:{name:"reauthenticateWithCredential",j:[Si()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ye("phoneNumber"),Fl()]},Nc:{name:"reauthenticateWithPopup",j:[xs()]},Oc:{name:"reauthenticateWithRedirect",j:[xs()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Rt(Ft("opt_actionCodeSettings",!0),Ur(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ye(null,!0)]},cd:{name:"unlink",j:[ye("provider")]},Cb:{name:"updateEmail",j:[ye("email")]},Db:{name:"updatePassword",j:[ye("password")]},ed:{name:"updatePhoneNumber",j:[Si("phone")]},Eb:{name:"updateProfile",j:[Ft("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ye("email"),Rt(Ft("opt_actionCodeSettings",!0),Ur(null,!0),"opt_actionCodeSettings",!0)]}}),Tt(Rs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(_a.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(qe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),x_(e_.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Ev("appVerificationDisabledForTesting")}}),Tt(Bp.prototype,{confirm:{name:"confirm",j:[ye("verificationCode")]}}),Pt(Is,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var u,c=[EC,TC,SC,IC],h=0;h<c.length;h++)if(u=c[h](r))return u;return null},[Rt(ye(),Ft(),"json")]),Pt(ur,"credential",function(r,u){return new Ii(r,u)},[ye("email"),ye("password")]),Tt(Ii.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Tt(bo.prototype,{Ca:{name:"addScope",j:[ye("scope")]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),Pt(bo,"credential",M0,[Rt(ye(),Ft(),"token")]),Pt(ur,"credentialWithLink",U0,[ye("email"),ye("emailLink")]),Tt(_o.prototype,{Ca:{name:"addScope",j:[ye("scope")]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),Pt(_o,"credential",V0,[Rt(ye(),Ft(),"token")]),Tt(Io.prototype,{Ca:{name:"addScope",j:[ye("scope")]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),Pt(Io,"credential",F0,[Rt(ye(),Rt(Ft(),Ur()),"idToken"),Rt(ye(),Ur(),"accessToken",!0)]),Tt(Ts.prototype,{Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),Pt(Ts,"credential",j0,[Rt(ye(),Ft(),"token"),ye("secret",!0)]),Tt(Wn.prototype,{Ca:{name:"addScope",j:[ye("scope")]},credential:{name:"credential",j:[Rt(ye(),Rt(Ft(),Ur()),"optionsOrIdToken"),Rt(ye(),Ur(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),Tt(ei.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Tt(yo.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Pt(ti,"credential",B0,[ye("verificationId"),ye("verificationCode")]),Tt(ti.prototype,{gb:{name:"verifyPhoneNumber",j:[Rt(ye(),function(r,u){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(c){return c?c.session&&c.phoneNumber?Tv(c.session,ta)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Tv(c.session,sl)&&P_(c.multiFactorHint):c.session&&c.multiFactorUid?Tv(c.session,sl)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Fl()]}}),Tt(Ei.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Tt(T.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Tt(ra.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Tt(Xd.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Tt(Kp.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Tt(qp.prototype,{Rc:{name:"resolveSignIn",j:[R_()]}}),Tt(zp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[R_(),ye("displayName",!0)]},bd:{name:"unenroll",j:[Rt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:P_},ye(),"multiFactorInfoIdentifier")]}}),Tt(Iv.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Pt(jd,"parseLink",y0,[ye("link")]),Pt(vv,"assertion",function(r){return new o_(r)},[Si("phone")]),function(){if(typeof Re<"u"&&Re.INTERNAL&&Re.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Fd,VERIFY_AND_CHANGE_EMAIL:Zu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:yr,AuthCredential:Is,Error:T};Pt(r,"EmailAuthProvider",ur,[]),Pt(r,"FacebookAuthProvider",bo,[]),Pt(r,"GithubAuthProvider",_o,[]),Pt(r,"GoogleAuthProvider",Io,[]),Pt(r,"TwitterAuthProvider",Ts,[]),Pt(r,"OAuthProvider",Wn,[ye("providerId")]),Pt(r,"SAMLAuthProvider",L0,[ye("providerId")]),Pt(r,"PhoneAuthProvider",ti,[JD()]),Pt(r,"RecaptchaVerifier",Iv,[Rt(ye(),XD(),"recaptchaContainer"),Ft("recaptchaParameters",!0),ZD()]),Pt(r,"ActionCodeURL",jd,[]),Pt(r,"PhoneMultiFactorGenerator",vv,[]),Re.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new yr(u)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),Re.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:O(u.getUid,u),getToken:O(u.nc,u),addAuthTokenListener:O(u.cc,u),removeAuthTokenListener:O(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Re.registerVersion("@firebase/auth","0.16.8"),Re.INTERNAL.extendNamespace({User:Qn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bm=function(e,t){return bm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},bm(e,t)};function oV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function UT(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var sV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge,Og=Og||{},Me=sV||self;function Tf(){}function _m(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function gc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function uV(e){return Object.prototype.hasOwnProperty.call(e,Vv)&&e[Vv]||(e[Vv]=++aV)}var Vv="closure_uid_"+(1e9*Math.random()>>>0),aV=0;function cV(e,t,n){return e.call.apply(e.bind,arguments)}function lV(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function fn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?fn=cV:fn=lV,fn.apply(null,arguments)}function Gl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function dn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(i,a)}}function io(){this.s=this.s,this.o=this.o}var fV=0;io.prototype.s=!1;io.prototype.na=function(){!this.s&&(this.s=!0,this.M(),fV!=0)&&uV(this)};io.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var BT=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},$T=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<i;s++)s in o&&t.call(n,o[s],s,e)};function hV(e){e:{for(var t=rF,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function xI(e){return Array.prototype.concat.apply([],arguments)}function Dg(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function Sf(e){return/^[\s\xa0]*$/.test(e)}var LI=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Cn(e,t){return e.indexOf(t)!=-1}function Fv(e,t){return e<t?-1:e>t?1:0}var On;e:{var MI=Me.navigator;if(MI){var VI=MI.userAgent;if(VI){On=VI;break e}}On=""}function Rg(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function qT(e){var t={};for(var n in e)t[n]=e[n];return t}var FI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KT(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var s=0;s<FI.length;s++)n=FI[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Pg(e){return Pg[" "](e),e}Pg[" "]=Tf;function dV(e){var t=mV;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var pV=Cn(On,"Opera"),iu=Cn(On,"Trident")||Cn(On,"MSIE"),HT=Cn(On,"Edge"),Im=HT||iu,zT=Cn(On,"Gecko")&&!(Cn(On.toLowerCase(),"webkit")&&!Cn(On,"Edge"))&&!(Cn(On,"Trident")||Cn(On,"MSIE"))&&!Cn(On,"Edge"),vV=Cn(On.toLowerCase(),"webkit")&&!Cn(On,"Edge");function GT(){var e=Me.document;return e?e.documentMode:void 0}var Af;e:{var jv="",Uv=function(){var e=On;if(zT)return/rv:([^\);]+)(\)|;)/.exec(e);if(HT)return/Edge\/([\d\.]+)/.exec(e);if(iu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(vV)return/WebKit\/(\S+)/.exec(e);if(pV)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Uv&&(jv=Uv?Uv[1]:""),iu){var Bv=GT();if(Bv!=null&&Bv>parseFloat(jv)){Af=String(Bv);break e}}Af=jv}var mV={};function gV(){return dV(function(){for(var e=0,t=LI(String(Af)).split("."),n=LI("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var s=t[o]||"",a=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=Fv(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||Fv(s[2].length==0,a[2].length==0)||Fv(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var Em;if(Me.document&&iu){var jI=GT();Em=jI||parseInt(Af,10)||void 0}else Em=void 0;var yV=Em,wV=function(){if(!Me.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Me.addEventListener("test",Tf,t),Me.removeEventListener("test",Tf,t)}catch{}return e}();function wn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}wn.prototype.h=function(){this.defaultPrevented=!0};function tc(e,t){if(wn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(zT){e:{try{Pg(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:bV[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&tc.Z.h.call(this)}}dn(tc,wn);var bV={2:"touch",3:"pen",4:"mouse"};tc.prototype.h=function(){tc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var yc="closure_listenable_"+(1e6*Math.random()|0),_V=0;function IV(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++_V,this.ca=this.fa=!1}function mh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function gh(e){this.src=e,this.g={},this.h=0}gh.prototype.add=function(e,t,n,i,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=Sm(e,t,i,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new IV(t,this.src,s,!!i,o),t.fa=n,e.push(t)),t};function Tm(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=BT(i,t),s;(s=0<=o)&&Array.prototype.splice.call(i,o,1),s&&(mh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Sm(e,t,n,i){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return o}return-1}var xg="closure_lm_"+(1e6*Math.random()|0),$v={};function WT(e,t,n,i,o){if(i&&i.once)return YT(e,t,n,i,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)WT(e,t[s],n,i,o);return null}return n=Vg(n),e&&e[yc]?e.N(t,n,gc(i)?!!i.capture:!!i,o):QT(e,t,n,!1,i,o)}function QT(e,t,n,i,o,s){if(!t)throw Error("Invalid event type");var a=gc(o)?!!o.capture:!!o,l=Mg(e);if(l||(e[xg]=l=new gh(e)),n=l.add(t,n,i,a,s),n.proxy)return n;if(i=EV(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)wV||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(JT(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function EV(){function e(n){return t.call(e.src,e.listener,n)}var t=TV;return e}function YT(e,t,n,i,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)YT(e,t[s],n,i,o);return null}return n=Vg(n),e&&e[yc]?e.O(t,n,gc(i)?!!i.capture:!!i,o):QT(e,t,n,!0,i,o)}function XT(e,t,n,i,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)XT(e,t[s],n,i,o);else i=gc(i)?!!i.capture:!!i,n=Vg(n),e&&e[yc]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Sm(s,n,i,o),-1<n&&(mh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Mg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Sm(t,n,i,o)),(n=-1<e?t[e]:null)&&Lg(n))}function Lg(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[yc])Tm(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(JT(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Mg(t))?(Tm(n,e),n.h==0&&(n.src=null,t[xg]=null)):mh(e)}}}function JT(e){return e in $v?$v[e]:$v[e]="on"+e}function TV(e,t){if(e.ca)e=!0;else{t=new tc(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Lg(e),e=n.call(i,t)}return e}function Mg(e){return e=e[xg],e instanceof gh?e:null}var qv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vg(e){return typeof e=="function"?e:(e[qv]||(e[qv]=function(t){return e.handleEvent(t)}),e[qv])}function Jt(){io.call(this),this.i=new gh(this),this.P=this,this.I=null}dn(Jt,io);Jt.prototype[yc]=!0;Jt.prototype.removeEventListener=function(e,t,n,i){XT(this,e,t,n,i)};function hn(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new wn(t,e);else if(t instanceof wn)t.target=t.target||e;else{var o=t;t=new wn(i,e),KT(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];o=Wl(a,i,!0,t)&&o}if(a=t.g=e,o=Wl(a,i,!0,t)&&o,o=Wl(a,i,!1,t)&&o,n)for(s=0;s<n.length;s++)a=t.g=n[s],o=Wl(a,i,!1,t)&&o}Jt.prototype.M=function(){if(Jt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)mh(n[i]);delete e.g[t],e.h--}}this.I=null};Jt.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Jt.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Wl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&Tm(e.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Fg=Me.JSON.stringify;function SV(){var e=eS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var AV=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=ZT.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),ZT=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new NV},function(e){return e.reset()}),NV=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function kV(e){Me.setTimeout(function(){throw e},0)}function jg(e,t){Am||CV(),Nm||(Am(),Nm=!0),eS.add(e,t)}var Am;function CV(){var e=Me.Promise.resolve(void 0);Am=function(){e.then(OV)}}var Nm=!1,eS=new AV;function OV(){for(var e;e=SV();){try{e.h.call(e.g)}catch(n){kV(n)}var t=ZT;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Nm=!1}function yh(e,t){Jt.call(this),this.h=e||1,this.g=t||Me,this.j=fn(this.kb,this),this.l=Date.now()}dn(yh,Jt);ge=yh.prototype;ge.da=!1;ge.S=null;ge.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hn(this,"tick"),this.da&&(Ug(this),this.start()))}};ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ug(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ge.M=function(){yh.Z.M.call(this),Ug(this),delete this.g};function Bg(e,t,n){if(typeof e=="function")n&&(e=fn(e,n));else if(e&&typeof e.handleEvent=="function")e=fn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Me.setTimeout(e,t||0)}function tS(e){e.g=Bg(function(){e.g=null,e.i&&(e.i=!1,tS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var DV=function(e){oV(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:tS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(io);function nc(e){io.call(this),this.h=e,this.g={}}dn(nc,io);var UI=[];function nS(e,t,n,i){Array.isArray(n)||(n&&(UI[0]=n.toString()),n=UI);for(var o=0;o<n.length;o++){var s=WT(t,n[o],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function rS(e){Rg(e.g,function(t,n){this.g.hasOwnProperty(n)&&Lg(t)},e),e.g={}}nc.prototype.M=function(){nc.Z.M.call(this),rS(this)};nc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wh(){this.g=!0}wh.prototype.Aa=function(){this.g=!1};function RV(e,t,n,i,o,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var p=d[0];d=d[1];var m=p.split("_");a=2<=m.length&&m[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function PV(e,t,n,i,o,s,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+a})}function Hs(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+LV(e,n)+(i?" "+i:"")})}function xV(e,t){e.info(function(){return"TIMEOUT: "+t})}wh.prototype.info=function(){};function LV(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Fg(n)}catch{return t}}var rs={},BI=null;function bh(){return BI=BI||new Jt}rs.Ma="serverreachability";function iS(e){wn.call(this,rs.Ma,e)}dn(iS,wn);function rc(e){var t=bh();hn(t,new iS(t))}rs.STAT_EVENT="statevent";function oS(e,t){wn.call(this,rs.STAT_EVENT,e),this.stat=t}dn(oS,wn);function Dn(e){var t=bh();hn(t,new oS(t,e))}rs.Na="timingevent";function sS(e,t){wn.call(this,rs.Na,e),this.size=t}dn(sS,wn);function wc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Me.setTimeout(function(){e()},t)}var _h={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $g(){}$g.prototype.h=null;function $I(e){return e.h||(e.h=e.i())}function aS(){}var bc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qg(){wn.call(this,"d")}dn(qg,wn);function Kg(){wn.call(this,"c")}dn(Kg,wn);var km;function Ih(){}dn(Ih,$g);Ih.prototype.g=function(){return new XMLHttpRequest};Ih.prototype.i=function(){return{}};km=new Ih;function _c(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new nc(this),this.P=MV,e=Im?125:void 0,this.W=new yh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new cS}function cS(){this.i=null,this.g="",this.h=!1}var MV=45e3,Cm={},Nf={};ge=_c.prototype;ge.setTimeout=function(e){this.P=e};function Om(e,t,n){e.K=1,e.v=Th(di(t)),e.s=n,e.U=!0,lS(e,null)}function lS(e,t){e.F=Date.now(),Ic(e),e.A=di(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),gS(n.h,"t",i),e.C=0,n=e.l.H,e.h=new cS,e.g=VS(e.l,n?t:null,!e.s),0<e.O&&(e.L=new DV(fn(e.Ia,e,e.g),e.O)),nS(e.V,e.g,"readystatechange",e.gb),t=e.H?qT(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),rc(),RV(e.j,e.u,e.A,e.m,e.X,e.s)}ge.gb=function(e){e=e.target;var t=this.L;t&&si(e)==3?t.l():this.Ia(e)};ge.Ia=function(e){try{if(e==this.g)e:{var t=si(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||Im||this.g&&(this.h.h||this.g.ga()||zI(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?rc(3):rc(2)),Eh(this);var o=this.g.ba();this.N=o;t:if(fS(this)){var s=zI(this.g);e="";var a=s.length,l=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jo(this),Ma(this);var f="";break t}this.h.i=new Me.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,PV(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sf(d)){var m=d;break t}}m=null}if(o=m)Hs(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dm(this,o);else{this.i=!1,this.o=3,Dn(12),jo(this),Ma(this);break e}}this.U?(hS(this,t,f),Im&&this.i&&t==3&&(nS(this.V,this.W,"tick",this.fb),this.W.start())):(Hs(this.j,this.m,f,null),Dm(this,f)),t==4&&jo(this),this.i&&!this.I&&(t==4?PS(this.l,this):(this.i=!1,Ic(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Dn(12)):(this.o=0,Dn(13)),jo(this),Ma(this)}}}catch{}finally{}};function fS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function hS(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=VV(e,n),o==Nf){t==4&&(e.o=4,Dn(14),i=!1),Hs(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Cm){e.o=4,Dn(15),Hs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Hs(e.j,e.m,o,null),Dm(e,o);fS(e)&&o!=Nf&&o!=Cm&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Dn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zg(t),t.L=!0,Dn(11))):(Hs(e.j,e.m,n,"[Invalid Chunked Response]"),jo(e),Ma(e))}ge.fb=function(){if(this.g){var e=si(this.g),t=this.g.ga();this.C<t.length&&(Eh(this),hS(this,e,t),this.i&&e!=4&&Ic(this))}};function VV(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Nf:(n=Number(t.substring(n,i)),isNaN(n)?Cm:(i+=1,i+n>t.length?Nf:(t=t.substr(i,n),e.C=i+n,t)))}ge.cancel=function(){this.I=!0,jo(this)};function Ic(e){e.Y=Date.now()+e.P,dS(e,e.P)}function dS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=wc(fn(e.eb,e),t)}function Eh(e){e.B&&(Me.clearTimeout(e.B),e.B=null)}ge.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(xV(this.j,this.A),this.K!=2&&(rc(),Dn(17)),jo(this),this.o=2,Ma(this)):dS(this,this.Y-e)};function Ma(e){e.l.G==0||e.I||PS(e.l,e)}function jo(e){Eh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Ug(e.W),rS(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Dm(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Rm(n.i,e))){if(n.I=e.N,!e.J&&Rm(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Df(n),Nh(n);else break e;Jg(n),Dn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=wc(fn(n.ab,n),6e3));if(1>=bS(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Uo(n,11)}else if((e.J||n.g==e)&&Df(n),!Sf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=e.g;if(d){var p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var m=i.i;!m.g&&(Cn(p,"spdy")||Cn(p,"quic")||Cn(p,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(Gg(m,m.h),m.h=null))}if(i.D){var g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.sa=g,It(i.F,i.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=e;if(i.oa=MS(i,i.H?i.la:null,i.W),b.J){_S(i.i,b);var I=b,A=i.K;A&&I.setTimeout(A),I.B&&(Eh(I),Ic(I)),i.g=b}else DS(i);0<n.l.length&&kh(n)}else s[0]!="stop"&&s[0]!="close"||Uo(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Uo(n,7):Xg(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}rc(4)}catch{}}function FV(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(_m(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Hg(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(_m(e)||typeof e=="string")$T(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(_m(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=FV(e),o=i.length;for(var s=0;s<o;s++)t.call(void 0,i[s],n&&n[s],e)}}function Du(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Du)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}ge=Du.prototype;ge.R=function(){zg(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ge.T=function(){return zg(this),this.g.concat()};function zg(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Qo(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],Qo(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}ge.get=function(e,t){return Qo(this.h,e)?this.h[e]:t};ge.set=function(e,t){Qo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ge.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],s=this.get(o);e.call(t,s,o,this)}};function Qo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var pS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jV(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var s=e[n].substring(0,i);o=e[n].substring(i+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Yo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Yo){this.g=t!==void 0?t:e.g,kf(this,e.j),this.s=e.s,Cf(this,e.i),Of(this,e.m),this.l=e.l,t=e.h;var n=new ic;n.i=t.i,t.g&&(n.g=new Du(t.g),n.h=t.h),qI(this,n),this.o=e.o}else e&&(n=String(e).match(pS))?(this.g=!!t,kf(this,n[1]||"",!0),this.s=Va(n[2]||""),Cf(this,n[3]||"",!0),Of(this,n[4]),this.l=Va(n[5]||"",!0),qI(this,n[6]||"",!0),this.o=Va(n[7]||"")):(this.g=!!t,this.h=new ic(null,this.g))}Yo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Na(t,KI,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Na(t,KI,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Na(n,n.charAt(0)=="/"?KV:qV,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Na(n,zV)),e.join("")};function di(e){return new Yo(e)}function kf(e,t,n){e.j=n?Va(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Cf(e,t,n){e.i=n?Va(t,!0):t}function Of(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function qI(e,t,n){t instanceof ic?(e.h=t,GV(e.h,e.g)):(n||(t=Na(t,HV)),e.h=new ic(t,e.g))}function It(e,t,n){e.h.set(t,n)}function Th(e){return It(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function UV(e){return e instanceof Yo?di(e):new Yo(e,void 0)}function BV(e,t,n,i){var o=new Yo(null,void 0);return e&&kf(o,e),t&&Cf(o,t),n&&Of(o,n),i&&(o.l=i),o}function Va(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Na(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,$V),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $V(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var KI=/[#\/\?@]/g,qV=/[#\?:]/g,KV=/[#\?]/g,HV=/[#\?@]/g,zV=/#/g;function ic(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function oo(e){e.g||(e.g=new Du,e.h=0,e.i&&jV(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ge=ic.prototype;ge.add=function(e,t){oo(this),this.i=null,e=Ru(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function vS(e,t){oo(e),t=Ru(e,t),Qo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Qo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&zg(e)))}function mS(e,t){return oo(e),t=Ru(e,t),Qo(e.g.h,t)}ge.forEach=function(e,t){oo(this),this.g.forEach(function(n,i){$T(n,function(o){e.call(t,o,i,this)},this)},this)};ge.T=function(){oo(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],s=0;s<o.length;s++)n.push(t[i]);return n};ge.R=function(e){oo(this);var t=[];if(typeof e=="string")mS(this,e)&&(t=xI(t,this.g.get(Ru(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=xI(t,e[n])}return t};ge.set=function(e,t){return oo(this),this.i=null,e=Ru(this,e),mS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ge.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function gS(e,t,n){vS(e,t),0<n.length&&(e.i=null,e.g.set(Ru(e,t),Dg(n)),e.h+=n.length)}ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var a=o;i[s]!==""&&(a+="="+encodeURIComponent(String(i[s]))),e.push(a)}}return this.i=e.join("&")};function Ru(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function GV(e,t){t&&!e.j&&(oo(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(vS(this,i),gS(this,o,n))},e)),e.j=t}var WV=function(){function e(t,n){this.h=t,this.g=n}return e}();function yS(e){this.l=e||QV,Me.PerformanceNavigationTiming?(e=Me.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Me.g&&Me.g.Ea&&Me.g.Ea()&&Me.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var QV=10;function wS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function bS(e){return e.h?1:e.g?e.g.size:0}function Rm(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Gg(e,t){e.g?e.g.add(t):e.h=t}function _S(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}yS.prototype.cancel=function(){var e,t;if(this.i=IS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=UT(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function IS(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=UT(e.g.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return Dg(e.i)}function Wg(){}Wg.prototype.stringify=function(e){return Me.JSON.stringify(e,void 0)};Wg.prototype.parse=function(e){return Me.JSON.parse(e,void 0)};function YV(){this.g=new Wg}function XV(e,t,n){var i=n||"";try{Hg(e,function(o,s){var a=o;gc(o)&&(a=Fg(o)),t.push(i+s+"="+encodeURIComponent(a))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function JV(e,t){var n=new wh;if(Me.Image){var i=new Image;i.onload=Gl(Ql,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Gl(Ql,n,i,"TestLoadImage: error",!1,t),i.onabort=Gl(Ql,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Gl(Ql,n,i,"TestLoadImage: timeout",!1,t),Me.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Ql(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function Ec(e){this.l=e.$b||null,this.j=e.ib||!1}dn(Ec,$g);Ec.prototype.g=function(){return new Sh(this.l,this.j)};Ec.prototype.i=function(e){return function(){return e}}({});function Sh(e,t){Jt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Qg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dn(Sh,Jt);var Qg=0;ge=Sh.prototype;ge.open=function(e,t){if(this.readyState!=Qg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,oc(this)};ge.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Me).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tc(this)),this.readyState=Qg};ge.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,oc(this)),this.g&&(this.readyState=3,oc(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Me.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ES(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function ES(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ge.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tc(this):oc(this),this.readyState==3&&ES(this)}};ge.Ua=function(e){this.g&&(this.response=this.responseText=e,Tc(this))};ge.Ta=function(e){this.g&&(this.response=e,Tc(this))};ge.ha=function(){this.g&&Tc(this)};function Tc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,oc(e)}ge.setRequestHeader=function(e,t){this.v.append(e,t)};ge.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ge.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function oc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Sh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var ZV=Me.JSON.parse;function qt(e){Jt.call(this),this.headers=new Du,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=TS,this.K=this.L=!1}dn(qt,Jt);var TS="",eF=/^https?$/i,tF=["POST","PUT"];ge=qt.prototype;ge.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():km.g(),this.C=this.u?$I(this.u):$I(km),this.g.onreadystatechange=fn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){HI(this,s);return}e=n||"";var o=new Du(this.headers);i&&Hg(i,function(s,a){o.set(a,s)}),i=hV(o.T()),n=Me.FormData&&e instanceof Me.FormData,!(0<=BT(tF,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{NS(this),0<this.B&&((this.K=nF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fn(this.pa,this)):this.A=Bg(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){HI(this,s)}};function nF(e){return iu&&gV()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function rF(e){return e.toLowerCase()=="content-type"}ge.pa=function(){typeof Og<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hn(this,"timeout"),this.abort(8))};function HI(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,SS(e),Ah(e)}function SS(e){e.D||(e.D=!0,hn(e,"complete"),hn(e,"error"))}ge.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,hn(this,"complete"),hn(this,"abort"),Ah(this))};ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ah(this,!0)),qt.Z.M.call(this)};ge.Fa=function(){this.s||(this.F||this.v||this.l?AS(this):this.cb())};ge.cb=function(){AS(this)};function AS(e){if(e.h&&typeof Og<"u"&&(!e.C[1]||si(e)!=4||e.ba()!=2)){if(e.v&&si(e)==4)Bg(e.Fa,0,e);else if(hn(e,"readystatechange"),si(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var s=String(e.H).match(pS)[1]||null;if(!s&&Me.self&&Me.self.location){var a=Me.self.location.protocol;s=a.substr(0,a.length-1)}o=!eF.test(s?s.toLowerCase():"")}i=o}if(i)hn(e,"complete"),hn(e,"success");else{e.m=6;try{var l=2<si(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",SS(e)}}finally{Ah(e)}}}}function Ah(e,t){if(e.g){NS(e);var n=e.g,i=e.C[0]?Tf:null;e.g=null,e.C=null,t||hn(e,"ready");try{n.onreadystatechange=i}catch{}}}function NS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Me.clearTimeout(e.A),e.A=null)}function si(e){return e.g?e.g.readyState:0}ge.ba=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}};ge.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ge.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),ZV(t)}};function zI(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case TS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ge.Da=function(){return this.m};ge.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function iF(e){var t="";return Rg(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Yg(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=iF(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):It(e,t,n))}function Ta(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kS(e){this.za=0,this.l=[],this.h=new wh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ta("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ta("baseRetryDelayMs",5e3,e),this.$a=Ta("retryDelaySeedMs",1e4,e),this.Ya=Ta("forwardChannelMaxRetries",2,e),this.ra=Ta("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new yS(e&&e.concurrentRequestLimit),this.Ca=new YV,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ge=kS.prototype;ge.ma=8;ge.G=1;function Xg(e){if(CS(e),e.G==3){var t=e.V++,n=di(e.F);It(n,"SID",e.J),It(n,"RID",t),It(n,"TYPE","terminate"),Sc(e,n),t=new _c(e,e.h,t,void 0),t.K=2,t.v=Th(di(n)),n=!1,Me.navigator&&Me.navigator.sendBeacon&&(n=Me.navigator.sendBeacon(t.v.toString(),"")),!n&&Me.Image&&(new Image().src=t.v,n=!0),n||(t.g=VS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ic(t)}LS(e)}ge.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Nh(e){e.g&&(Zg(e),e.g.cancel(),e.g=null)}function CS(e){Nh(e),e.u&&(Me.clearTimeout(e.u),e.u=null),Df(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Me.clearTimeout(e.m),e.m=null)}function Kv(e,t){e.l.push(new WV(e.Za++,t)),e.G==3&&kh(e)}function kh(e){wS(e.i)||e.m||(e.m=!0,jg(e.Ha,e),e.C=0)}function oF(e,t){return bS(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=wc(fn(e.Ha,e,t),xS(e,e.C)),e.C++,!0)}ge.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new _c(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=qT(n),KT(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(i+=s,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=OS(this,t,i),o=di(this.F),It(o,"RID",e),It(o,"CVER",22),this.D&&It(o,"X-HTTP-Session-Id",this.D),Sc(this,o),this.o&&n&&Yg(o,this.o,n),Gg(this.i,t),this.Ra&&It(o,"TYPE","init"),this.ja?(It(o,"$req",i),It(o,"SID","null"),t.$=!0,Om(t,o,null)):Om(t,o,i),this.G=2}}else this.G==3&&(e?GI(this,e):this.l.length==0||wS(this.i)||GI(this))};function GI(e,t){var n;t?n=t.m:n=e.V++;var i=di(e.F);It(i,"SID",e.J),It(i,"RID",n),It(i,"AID",e.U),Sc(e,i),e.o&&e.s&&Yg(i,e.o,e.s),n=new _c(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=OS(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Gg(e.i,n),Om(n,i,t)}function Sc(e,t){e.j&&Hg({},function(n,i){It(t,i,n)})}function OS(e,t,n){n=Math.min(e.l.length,n);var i=e.j?fn(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=o[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var d=o[f].h,p=o[f].g;if(d-=s,0>d)s=Math.max(0,o[f].h-100),l=!1;else try{XV(p,a,"req"+d+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function DS(e){e.g||e.u||(e.Y=1,jg(e.Ga,e),e.A=0)}function Jg(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=wc(fn(e.Ga,e),xS(e,e.A)),e.A++,!0)}ge.Ga=function(){if(this.u=null,RS(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=wc(fn(this.bb,this),e)}};ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Dn(10),Nh(this),RS(this))};function Zg(e){e.B!=null&&(Me.clearTimeout(e.B),e.B=null)}function RS(e){e.g=new _c(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=di(e.oa);It(t,"RID","rpc"),It(t,"SID",e.J),It(t,"CI",e.N?"0":"1"),It(t,"AID",e.U),Sc(e,t),It(t,"TYPE","xmlhttp"),e.o&&e.s&&Yg(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Th(di(t)),n.s=null,n.U=!0,lS(n,e)}ge.ab=function(){this.v!=null&&(this.v=null,Nh(this),Jg(this),Dn(19))};function Df(e){e.v!=null&&(Me.clearTimeout(e.v),e.v=null)}function PS(e,t){var n=null;if(e.g==t){Df(e),Zg(e),e.g=null;var i=2}else if(Rm(e.i,t))n=t.D,_S(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=bh(),hn(i,new sS(i,n)),kh(e)}else DS(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&oF(e,t)||i==2&&Jg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Uo(e,5);break;case 4:Uo(e,10);break;case 3:Uo(e,6);break;default:Uo(e,2)}}}function xS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Uo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=fn(e.jb,e);n||(n=new Yo("//www.google.com/images/cleardot.gif"),Me.location&&Me.location.protocol=="http"||kf(n,"https"),Th(n)),JV(n.toString(),i)}else Dn(2);e.G=0,e.j&&e.j.va(t),LS(e),CS(e)}ge.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Dn(2)):(this.h.info("Failed to ping google.com"),Dn(1))};function LS(e){e.G=0,e.I=-1,e.j&&((IS(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Dg(e.l),e.l.length=0),e.j.ua())}function MS(e,t,n){var i=UV(n);if(i.i!="")t&&Cf(i,t+"."+i.i),Of(i,i.m);else{var o=Me.location;i=BV(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Rg(e.aa,function(s,a){It(i,a,s)}),t=e.D,n=e.sa,t&&n&&It(i,t,n),It(i,"VER",e.ma),Sc(e,i),i}function VS(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new qt(new Ec({ib:!0})):new qt(e.qa),t.L=e.H,t}function FS(){}ge=FS.prototype;ge.xa=function(){};ge.wa=function(){};ge.va=function(){};ge.ua=function(){};ge.Oa=function(){};function Rf(){if(iu&&!(10<=Number(yV)))throw Error("Environmental error: no available transport.")}Rf.prototype.g=function(e,t){return new ir(e,t)};function ir(e,t){Jt.call(this),this.g=new kS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Sf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Sf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Pu(this)}dn(ir,Jt);ir.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),jg(fn(e.hb,e,t))),Dn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=MS(e,null,e.W),kh(e)};ir.prototype.close=function(){Xg(this.g)};ir.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Kv(this.g,t)}else this.v?(t={},t.__data__=Fg(e),Kv(this.g,t)):Kv(this.g,e)};ir.prototype.M=function(){this.g.j=null,delete this.j,Xg(this.g),delete this.g,ir.Z.M.call(this)};function jS(e){qg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}dn(jS,qg);function US(){Kg.call(this),this.status=1}dn(US,Kg);function Pu(e){this.g=e}dn(Pu,FS);Pu.prototype.xa=function(){hn(this.g,"a")};Pu.prototype.wa=function(e){hn(this.g,new jS(e))};Pu.prototype.va=function(e){hn(this.g,new US)};Pu.prototype.ua=function(){hn(this.g,"b")};Rf.prototype.createWebChannel=Rf.prototype.g;ir.prototype.send=ir.prototype.u;ir.prototype.open=ir.prototype.m;ir.prototype.close=ir.prototype.close;_h.NO_ERROR=0;_h.TIMEOUT=8;_h.HTTP_ERROR=6;uS.COMPLETE="complete";aS.EventType=bc;bc.OPEN="a";bc.CLOSE="b";bc.ERROR="c";bc.MESSAGE="d";Jt.prototype.listen=Jt.prototype.N;qt.prototype.listenOnce=qt.prototype.O;qt.prototype.getLastError=qt.prototype.La;qt.prototype.getLastErrorCode=qt.prototype.Da;qt.prototype.getStatus=qt.prototype.ba;qt.prototype.getResponseJson=qt.prototype.Qa;qt.prototype.getResponseText=qt.prototype.ga;qt.prototype.send=qt.prototype.ea;var sF=function(){return new Rf},uF=function(){return bh()},Hv=_h,aF=uS,cF=rs,WI={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},lF=Ec,Yl=aS,fF=qt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();tr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},re=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return ke(t,e),t}(Error),Tr=new MT("@firebase/firestore");function Pm(){return Tr.logLevel}function ue(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Tr.logLevel<=rt.DEBUG){var i=t.map(ey);Tr.debug.apply(Tr,Ct(["Firestore (8.10.1): "+e],i))}}function Bt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Tr.logLevel<=rt.ERROR){var i=t.map(ey);Tr.error.apply(Tr,Ct(["Firestore (8.10.1): "+e],i))}}function Pf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Tr.logLevel<=rt.WARN){var i=t.map(ey);Tr.warn.apply(Tr,Ct(["Firestore (8.10.1): "+e],i))}}function ey(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Bt(t),new Error(t)}function Oe(e,t){e||Ie()}function de(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BS=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=hF(40),s=0;s<o.length;++s)i.length<20&&o[s]<n&&(i+=t.charAt(o[s]%t.length));return i},e}();function ze(e,t){return e<t?-1:e>t?1:0}function ou(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function $S(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?ze(this.nanoseconds,t.nanoseconds):ze(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Be=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Un(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function is(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KS=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&Ie(),i===void 0?i=t.length-n:i>t.length-n&&Ie(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var s=t.get(o),a=n.get(o);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),ot=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ke(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new re(B.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(KS),dF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Cr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ke(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return dF.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",s=0,a=function(){if(o.length===0)throw new re(B.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new re(B.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new re(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(a(),s++)}if(a(),l)throw new re(B.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(KS),su=function(){function e(t){this.fields=t,t.sort(Cr.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return ou(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),$n=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return ze(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();$n.EMPTY_BYTE_STRING=new $n("");var pF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(e){if(Oe(!!e),typeof e=="string"){var t=0,n=pF.exec(e);if(Oe(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Ut(e.seconds),nanos:Ut(e.nanos)}}function Ut(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function uu(e){return typeof e=="string"?$n.fromBase64String(e):$n.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function HS(e){var t=e.mapValue.fields.__previous_value__;return ty(t)?HS(t):t}function sc(e){var t=Zi(e.mapValue.fields.__local_write_time__.timestampValue);return new Un(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(e){return e==null}function xf(e){return e===0&&1/e==-1/0}function zS(e){return typeof e=="number"&&Number.isInteger(e)&&!xf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(ot.fromString(t))},e.fromName=function(t){return new e(ot.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&ot.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return ot.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new ot(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ty(e)?4:10:Ie()}function Qr(e,t){var n=Xo(e);if(n!==Xo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sc(e).isEqual(sc(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var s=Zi(i.timestampValue),a=Zi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return uu(i.bytesValue).isEqual(uu(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Ut(i.geoPointValue.latitude)===Ut(o.geoPointValue.latitude)&&Ut(i.geoPointValue.longitude)===Ut(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ut(i.integerValue)===Ut(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var s=Ut(i.doubleValue),a=Ut(o.doubleValue);return s===a?xf(s)===xf(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return ou(e.arrayValue.values||[],t.arrayValue.values||[],Qr);case 10:return function(i,o){var s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(QI(s)!==QI(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Qr(s[l],a[l])))return!1;return!0}(e,t);default:return Ie()}}function uc(e,t){return(e.values||[]).find(function(n){return Qr(n,t)})!==void 0}function au(e,t){var n=Xo(e),i=Xo(t);if(n!==i)return ze(n,i);switch(n){case 0:return 0;case 1:return ze(e.booleanValue,t.booleanValue);case 2:return function(o,s){var a=Ut(o.integerValue||o.doubleValue),l=Ut(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return YI(e.timestampValue,t.timestampValue);case 4:return YI(sc(e),sc(t));case 5:return ze(e.stringValue,t.stringValue);case 6:return function(o,s){var a=uu(o),l=uu(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var a=o.split("/"),l=s.split("/"),f=0;f<a.length&&f<l.length;f++){var d=ze(a[f],l[f]);if(d!==0)return d}return ze(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var a=ze(Ut(o.latitude),Ut(s.latitude));return a!==0?a:ze(Ut(o.longitude),Ut(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var a=o.values||[],l=s.values||[],f=0;f<a.length&&f<l.length;++f){var d=au(a[f],l[f]);if(d)return d}return ze(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a=o.fields||{},l=Object.keys(a),f=s.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var p=0;p<l.length&&p<d.length;++p){var m=ze(l[p],d[p]);if(m!==0)return m;var g=au(a[l[p]],f[d[p]]);if(g!==0)return g}return ze(l.length,d.length)}(e.mapValue,t.mapValue);default:throw Ie()}}function YI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ze(e,t);var n=Zi(e),i=Zi(t),o=ze(n.seconds,i.seconds);return o!==0?o:ze(n.nanos,i.nanos)}function ny(e){return xm(e)}function xm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=Zi(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?uu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Te.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",s=!0,a=0,l=i.values||[];a<l.length;a++)s?s=!1:o+=",",o+=xm(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",s=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];s?s=!1:o+=",",o+=f+":"+xm(i.fields[f])}return o+"}"}(e.mapValue):Ie();var t,n}function Lf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Lm(e){return!!e&&"integerValue"in e}function ry(e){return!!e&&"arrayValue"in e}function XI(e){return!!e&&"nullValue"in e}function JI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lf(e){return!!e&&"mapValue"in e}function Fa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return is(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Fa(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Fa(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!lf(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fa(n)},e.prototype.setAll=function(t){var n=this,i=Cr.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,s),o={},s=[],i=f.popLast()}l?o[f.lastSegment()]=Fa(l):s.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());lf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Qr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];lf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){is(n,function(l,f){return t[l]=f});for(var o=0,s=i;o<s.length;o++){var a=s[o];delete t[a]}},e.prototype.clone=function(){return new e(Fa(this.value))},e}();function GS(e){var t=[];return is(e.fields,function(n,i){var o=new Cr([n]);if(lf(i)){var s=GS(i.mapValue).fields;if(s.length===0)t.push(o);else for(var a=0,l=s;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new su(t)}var _n=function(){function e(t,n,i,o,s){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Be.min(),Zn.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Zn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Zn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),vF=function(e,t,n,i,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(e,t,n,i,o,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),new vF(e,t,n,i,o,s,a)}function Ac(e){var t=de(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+ny(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),os(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Vf(t.startAt)),t.endAt&&(n+="|ub:",n+=Vf(t.endAt)),t.h=n}return t.h}function Ch(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!EF(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],s=t.filters[i],o.op!==s.op||!o.field.isEqual(s.field)||!Qr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tE(e.startAt,t.startAt)&&tE(e.endAt,t.endAt)}function Mf(e){return Te.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var nr=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).field=n,s.op=i,s.value=o,s}return ke(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new mF(n,i,o):i==="array-contains"?new wF(n,o):i==="in"?new bF(n,o):i==="not-in"?new _F(n,o):i==="array-contains-any"?new IF(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new gF(n,o):new yF(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(au(i,this.value)):i!==null&&Xo(this.value)===Xo(i)&&this.m(au(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Ie()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),mF=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,o)||this).key=Te.fromName(o.referenceValue),s}return ke(t,e),t.prototype.matches=function(n){var i=Te.comparator(n.key,this.key);return this.m(i)},t}(nr),gF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=WS("in",i),o}return ke(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(nr),yF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=WS("not-in",i),o}return ke(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(nr);function WS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return Te.fromName(i.referenceValue)})}var wF=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return ke(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return ry(i)&&uc(i.arrayValue,this.value)},t}(nr),bF=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return ke(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&uc(this.value.arrayValue,i)},t}(nr),_F=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return ke(t,e),t.prototype.matches=function(n){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!uc(this.value.arrayValue,i)},t}(nr),IF=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return ke(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!ry(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return uc(i.value.arrayValue,s)})},t}(nr),ac=function(e,t){this.position=e,this.before=t};function Vf(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return ny(t)}).join(",")}var Ys=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function EF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function eE(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var s=t[o],a=e.position[o];if(i=s.field.isKeyField()?Te.comparator(Te.fromName(a.referenceValue),n.key):au(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function tE(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Qr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mi=function(e,t,n,i,o,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function QS(e,t,n,i,o,s,a,l){return new mi(e,t,n,i,o,s,a,l)}function Nc(e){return new mi(e)}function ff(e){return!os(e.limit)&&e.limitType==="F"}function Ff(e){return!os(e.limit)&&e.limitType==="L"}function iy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function oy(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function sy(e){return e.collectionGroup!==null}function cu(e){var t=de(e);if(t.p===null){t.p=[];var n=oy(t),i=iy(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new Ys(n)),t.p.push(new Ys(Cr.keyField(),"asc"));else{for(var o=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ys(Cr.keyField(),f))}}}return t.p}function Yr(e){var t=de(e);if(!t.T)if(t.limitType==="F")t.T=ZI(t.path,t.collectionGroup,cu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=cu(t);i<o.length;i++){var s=o[i],a=s.dir==="desc"?"asc":"desc";n.push(new Ys(s.field,a))}var l=t.endAt?new ac(t.endAt.position,!t.endAt.before):null,f=t.startAt?new ac(t.startAt.position,!t.startAt.before):null;t.T=ZI(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function YS(e,t,n){return new mi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function kc(e,t){return Ch(Yr(e),Yr(t))&&e.limitType===t.limitType}function XS(e){return Ac(Yr(e))+"|lt:"+e.limitType}function Mm(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+ny(o.value);var o}).join(", ")+"]"),os(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Vf(t.startAt)),t.endAt&&(n+=", endAt: "+Vf(t.endAt)),"Target("+n+")"}(Yr(e))+"; limitType="+e.limitType+")"}function Cc(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Te.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var a=s[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!eE(n.startAt,cu(n),i))&&(!n.endAt||!eE(n.endAt,cu(n),i))}(e,t)}function JS(e){return function(t,n){for(var i=!1,o=0,s=cu(e);o<s.length;o++){var a=s[o],l=TF(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function TF(e,t,n){var i=e.field.isKeyField()?Te.comparator(t.key,n.key):function(o,s,a){var l=s.data.field(o),f=a.data.field(o);return l!==null&&f!==null?au(l,f):Ie()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(t)?"-0":t}}function eA(e){return{integerValue:""+e}}function tA(e,t){return zS(t)?eA(t):ZS(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oh=function(){this._=void 0};function SF(e,t,n){return e instanceof lu?function(i,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Jo?rA(e,t):e instanceof Zo?iA(e,t):function(i,o){var s=nA(i,o),a=nE(s)+nE(i.A);return Lm(s)&&Lm(i.A)?eA(a):ZS(i.R,a)}(e,t)}function AF(e,t,n){return e instanceof Jo?rA(e,t):e instanceof Zo?iA(e,t):n}function nA(e,t){return e instanceof fu?Lm(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var lu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ke(t,e),t}(Oh),Jo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return ke(t,e),t}(Oh);function rA(e,t){for(var n=oA(t),i=function(a){n.some(function(l){return Qr(l,a)})||n.push(a)},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var Zo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return ke(t,e),t}(Oh);function iA(e,t){for(var n=oA(t),i=function(a){n=n.filter(function(l){return!Qr(l,a)})},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var fu=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return ke(t,e),t}(Oh);function nE(e){return Ut(e.integerValue||e.doubleValue)}function oA(e){return ry(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oc=function(e,t){this.field=e,this.transform=t},NF=function(e,t){this.version=e,this.transformResults=t},yn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function hf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Dh=function(){};function kF(e,t,n){e instanceof Dc?function(i,o,s){var a=i.value.clone(),l=oE(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof so?function(i,o,s){if(hf(i.precondition,o)){var a=oE(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(sA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Vm(e,t,n){e instanceof Dc?function(i,o,s){if(hf(i.precondition,o)){var a=i.value.clone(),l=sE(i.fieldTransforms,s,o);a.setAll(l),o.convertToFoundDocument(iE(o),a).setHasLocalMutations()}}(e,t,n):e instanceof so?function(i,o,s){if(hf(i.precondition,o)){var a=sE(i.fieldTransforms,s,o),l=o.data;l.setAll(sA(i)),l.setAll(a),o.convertToFoundDocument(iE(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){hf(i.precondition,o)&&o.convertToNoDocument(Be.min())}(e,t)}function CF(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var s=o[i],a=t.data.field(s.field),l=nA(s.transform,a||null);l!=null&&(n==null&&(n=Zn.empty()),n.set(s.field,l))}return n||null}function rE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ou(n,i,function(o,s){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof Jo&&d instanceof Jo||f instanceof Zo&&d instanceof Zo?ou(f.elements,d.elements,Qr):f instanceof fu&&d instanceof fu?Qr(f.A,d.A):f instanceof lu&&d instanceof lu}(a.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function iE(e){return e.isFoundDocument()?e.version:Be.min()}var Dc=function(e){function t(n,i,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=s,a.type=0,a}return ke(t,e),t}(Dh),so=function(e){function t(n,i,o,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return ke(t,e),t}(Dh);function sA(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function oE(e,t,n){var i=new Map;Oe(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],a=s.transform,l=t.data.field(s.field);i.set(s.field,AF(a,l,n[o]))}return i}function sE(e,t,n){for(var i=new Map,o=0,s=e;o<s.length;o++){var a=s[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,SF(l,f,t))}return i}var jt,Ye,Rc=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return ke(t,e),t}(Dh),uy=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return ke(t,e),t}(Dh),OF=function(e){this.count=e};function uA(e){switch(e){case B.OK:return Ie();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return Ie()}}function aA(e){if(e===void 0)return Bt("GRPC error has no .code"),B.UNKNOWN;switch(e){case jt.OK:return B.OK;case jt.CANCELLED:return B.CANCELLED;case jt.UNKNOWN:return B.UNKNOWN;case jt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case jt.INTERNAL:return B.INTERNAL;case jt.UNAVAILABLE:return B.UNAVAILABLE;case jt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case jt.NOT_FOUND:return B.NOT_FOUND;case jt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case jt.ABORTED:return B.ABORTED;case jt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case jt.DATA_LOSS:return B.DATA_LOSS;default:return Ie()}}(Ye=jt||(jt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In=function(){function e(t,n){this.comparator=t,this.root=n||Fi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Fi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Xl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Xl(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Xl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Xl(this.root,t,this.comparator,!0)},e}(),Xl=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?i(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Fi=function(){function e(t,n,i,o,s){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,s){return new e(t??this.key,n??this.value,i??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,s=i(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,i),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();var t=this.left.check();if(t!==this.right.check())throw Ie();return t+(this.isRed()?0:1)},e}();Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1,Fi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Ie()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,s){return this},e.prototype.insert=function(t,n,i){return new Fi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt=function(){function e(t){this.comparator=t,this.data=new In(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new uE(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new uE(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),uE=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),DF=new In(Te.comparator);function Sr(){return DF}var RF=new In(Te.comparator);function Fm(){return RF}var PF=new In(Te.comparator);function xF(){return PF}var LF=new Qt(Te.comparator);function mt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=LF,i=0,o=e;i<o.length;i++){var s=o[i];n=n.add(s)}return n}var MF=new Qt(ze);function Rh(){return MF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ay=function(){function e(t,n,i,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,cy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Be.min(),i,Rh(),Sr(),mt())},e}(),cy=function(){function e(t,n,i,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e($n.EMPTY_BYTE_STRING,n,mt(),mt(),mt())},e}(),df=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},cA=function(e,t){this.targetId=e,this.V=t},lA=function(e,t,n,i){n===void 0&&(n=$n.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},aE=function(){function e(){this.S=0,this.D=lE(),this.C=$n.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=mt(),n=mt(),i=mt();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ie()}}),new cy(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=lE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),VF=function(){function e(t){this.W=t,this.G=new Map,this.H=Sr(),this.J=cE(),this.Y=new Qt(ze)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)o=a[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:Ie()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){i.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var s=o.target;if(Mf(s))if(i===0){var a=new Te(s.path);this.tt(n,a,_n.newNoDocument(a,Be.min()))}else Oe(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Mf(f.target)){var d=new Te(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,_n.newNoDocument(d,t))}a.$&&(i.set(l,a.M()),a.L())}});var o=mt();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var p=n.ot(d);return!p||p.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var s=new ay(t,i,this.Y,this.H,o);return this.H=Sr(),this.J=cE(),this.Y=new Qt(ze),s},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new aE,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Qt(ze),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new aE),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function cE(){return new In(Te.comparator)}function lE(){return new In(Te.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FF={asc:"ASCENDING",desc:"DESCENDING"},jF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UF=function(e,t){this.databaseId=e,this.I=t};function cc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function fA(e,t){return e.I?t.toBase64():t.toUint8Array()}function BF(e,t){return cc(e,t.toTimestamp())}function Rn(e){return Oe(!!e),Be.fromTimestamp(function(t){var n=Zi(t);return new Un(n.seconds,n.nanos)}(e))}function ly(e,t){return function(n){return new ot(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function hA(e){var t=ot.fromString(e);return Oe(wA(t)),t}function lc(e,t){return ly(e.databaseId,t.path)}function ci(e,t){var n=hA(t);if(n.get(1)!==e.databaseId.projectId)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Te(pA(n))}function jm(e,t){return ly(e.databaseId,t)}function dA(e){var t=hA(e);return t.length===4?ot.emptyPath():pA(t)}function fc(e){return new ot(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pA(e){return Oe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function fE(e,t,n){return{name:lc(e,t),fields:n.value.mapValue.fields}}function $F(e,t,n){var i=ci(e,t.name),o=Rn(t.updateTime),s=new Zn({mapValue:{fields:t.fields}}),a=_n.newFoundDocument(i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function jf(e,t){var n;if(t instanceof Dc)n={update:fE(e,t.key,t.value)};else if(t instanceof Rc)n={delete:lc(e,t.key)};else if(t instanceof so)n={update:fE(e,t.key,t.data),updateMask:GF(t.fieldMask)};else{if(!(t instanceof uy))return Ie();n={verify:lc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,s){var a=s.transform;if(a instanceof lu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fu)return{fieldPath:s.field.canonicalString(),increment:a.A};throw Ie()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:BF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ie()}(e,t.precondition)),n}function hE(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?yn.updateTime(Rn(d.updateTime)):d.exists!==void 0?yn.exists(d.exists):yn.none()}(t.currentDocument):yn.none(),i=t.updateTransforms?t.updateTransforms.map(function(d){return function(p,m){var g=null;if("setToServerValue"in m)Oe(m.setToServerValue==="REQUEST_TIME"),g=new lu;else if("appendMissingElements"in m){var b=m.appendMissingElements.values||[];g=new Jo(b)}else if("removeAllFromArray"in m){var I=m.removeAllFromArray.values||[];g=new Zo(I)}else"increment"in m?g=new fu(p,m.increment):Ie();var A=Cr.fromServerFormat(m.fieldPath);return new Oc(A,g)}(e,d)}):[];if(t.update){t.update.name;var o=ci(e,t.update.name),s=new Zn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var p=d.fieldPaths||[];return new su(p.map(function(m){return Cr.fromServerFormat(m)}))}(t.updateMask);return new so(o,s,a,n,i)}return new Dc(o,s,n,i)}if(t.delete){var l=ci(e,t.delete);return new Rc(l,n)}if(t.verify){var f=ci(e,t.verify);return new uy(f,n)}return Ie()}function vA(e,t){return{documents:[jm(e,t.path)]}}function mA(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=jm(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=jm(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(p){if(p.op==="=="){if(JI(p.value))return{unaryFilter:{field:Vs(p.field),op:"IS_NAN"}};if(XI(p.value))return{unaryFilter:{field:Vs(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(JI(p.value))return{unaryFilter:{field:Vs(p.field),op:"IS_NOT_NAN"}};if(XI(p.value))return{unaryFilter:{field:Vs(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(p.field),op:KF(p.op),value:p.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:Vs(d.field),direction:qF(d.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,f){return l.I||os(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=dE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=dE(t.endAt)),n}function gA(e){var t=dA(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Oe(i===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=yA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(m){return function(g){return new Ys(zs(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(m)}));var f=null;n.limit&&(f=function(m){var g;return os(g=typeof m=="object"?m.value:m)?null:g}(n.limit));var d=null;n.startAt&&(d=pE(n.startAt));var p=null;return n.endAt&&(p=pE(n.endAt)),QS(t,o,l,a,f,"F",d,p)}function yA(e){return e?e.unaryFilter!==void 0?[zF(e)]:e.fieldFilter!==void 0?[HF(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return yA(t)}).reduce(function(t,n){return t.concat(n)}):Ie():[]}function dE(e){return{before:e.before,values:e.position}}function pE(e){var t=!!e.before,n=e.values||[];return new ac(n,t)}function qF(e){return FF[e]}function KF(e){return jF[e]}function Vs(e){return{fieldPath:e.canonicalString()}}function zs(e){return Cr.fromServerFormat(e.fieldPath)}function HF(e){return nr.create(zs(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ie()}}(e.fieldFilter.op),e.fieldFilter.value)}function zF(e){switch(e.unaryFilter.op){case"IS_NAN":var t=zs(e.unaryFilter.field);return nr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=zs(e.unaryFilter.field);return nr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=zs(e.unaryFilter.field);return nr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=zs(e.unaryFilter.field);return nr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ie()}}function GF(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function wA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=vE(t)),t=WF(e.get(n),t);return vE(t)}function WF(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function vE(e){return e+""}function ui(e){var t=e.length;if(Oe(t>=2),t===2)return Oe(e.charAt(0)===""&&e.charAt(1)===""),ot.emptyPath();for(var n=t-2,i=[],o="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&Ie(),e.charAt(a+1)){case"":var l=e.substring(s,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(s,a),o+="\0";break;case"":o+=e.substring(s,a+1);break;default:Ie()}s=a+2}return new ot(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QF=function(e,t){this.seconds=e,this.nanoseconds=t},Xn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Xn.store="owner",Xn.key="owner";var zi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};zi.store="mutationQueues",zi.keyPath="userId";var gt=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};gt.store="mutations",gt.keyPath="batchId",gt.userMutationsIndex="userMutationsIndex",gt.userMutationsKeyPath=["userId","batchId"];var vn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Ar(n)]},e.key=function(t,n,i){return[t,Ar(n),i]},e}();vn.store="documentMutations",vn.PLACEHOLDER=new vn;var YF=function(e,t){this.path=e,this.readTime=t},XF=function(e,t){this.path=e,this.version=t},kt=function(e,t,n,i,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=s};kt.store="remoteDocuments",kt.readTimeIndex="readTimeIndex",kt.readTimeIndexPath="readTime",kt.collectionReadTimeIndex="collectionReadTimeIndex",kt.collectionReadTimeIndexPath=["parentPath","readTime"];var Hr=function(e){this.byteSize=e};Hr.store="remoteDocumentGlobal",Hr.key="remoteDocumentGlobalKey";var Fn=function(e,t,n,i,o,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=a};Fn.store="targets",Fn.keyPath="targetId",Fn.queryTargetsIndexName="queryTargetsIndex",Fn.queryTargetsKeyPath=["canonicalId","targetId"];var ln=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};ln.store="targetDocuments",ln.keyPath=["targetId","path"],ln.documentTargetsIndex="documentTargetsIndex",ln.documentTargetsKeyPath=["path","targetId"];var Jn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Jn.key="targetGlobalKey",Jn.store="targetGlobal";var Ho=function(e,t){this.collectionId=e,this.parent=t};Ho.store="collectionParents",Ho.keyPath=["collectionId","parent"];var li=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};li.store="clientMetadata",li.keyPath="clientId";var hu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};hu.store="bundles",hu.keyPath="bundleId";var du=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};du.store="namedQueries",du.keyPath="name";var JF=Ct(Ct([],Ct(Ct([],Ct(Ct([],Ct(Ct([],[zi.store,gt.store,vn.store,kt.store,Fn.store,Xn.store,Jn.store,ln.store]),[li.store])),[Hr.store])),[Ho.store])),[hu.store,du.store]),bA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_A=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),qn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},oe=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){i.nextCallback=function(a){i.wrapSuccess(t,a).next(o,s)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,s=0,a=!1;t.forEach(function(l){++o,l.next(function(){++s,a&&s===o&&n()},function(f){return i(f)})}),a=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,s=t;o<s.length;o++)i(s[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(s,a){o.push(n.call(i,s,a))}),this.waitFor(o)},e}(),IA=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new qn,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new ja(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var s=fy(o.target.error);i.ft.reject(new ja(t,s))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(s){throw new ja(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ue("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new ej(n)},e}(),pu=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(Wo())===12.2&&Bt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ue("SimpleDb","Removing database:",t),Vo(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Wo(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return te(this,void 0,void 0,function(){var n,i=this;return Z(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ue("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;s(d)},l.onblocked=function(){a(new ja(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new re(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new ja(t,d))},l.onupgradeneeded=function(f){ue("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){ue("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return i.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return te(this,void 0,void 0,function(){var s,a,l,f,d;return Z(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var m,g,b,I,A;return Z(this,function(P){switch(P.label){case 0:++a,P.label=1;case 1:return P.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=P.sent(),m=IA.open(f.db,t,s?"readonly":"readwrite",i),g=o(m).catch(function(C){return m.abort(C),oe.reject(C)}).toPromise(),b={},g.catch(function(){}),[4,m.dt];case 3:return[2,(b.value=(P.sent(),g),b)];case 4:return I=P.sent(),A=I.name!=="FirebaseError"&&a<3,ue("SimpleDb","Transaction failed with error:",I.message,"Retrying:",A),f.close(),A?[3,5]:[2,{value:Promise.reject(I)}];case 5:return[2]}})},f=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(d=p.sent())=="object")return[2,d.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),ZF=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Vo(this.Pt.delete())},e}(),ja=function(e){function t(n,i){var o=this;return(o=e.call(this,B.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return ke(t,e),t}(re);function ss(e){return e.name==="IndexedDbTransactionError"}var ej=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(ue("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(ue("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Vo(i)},e.prototype.add=function(t){return ue("SimpleDb","ADD",this.store.name,t,t),Vo(this.store.add(t))},e.prototype.get=function(t){var n=this;return Vo(this.store.get(t)).next(function(i){return i===void 0&&(i=null),ue("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return ue("SimpleDb","DELETE",this.store.name,t),Vo(this.store.delete(t))},e.prototype.count=function(){return ue("SimpleDb","COUNT",this.store.name),Vo(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(s,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){ue("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new oe(function(i,o){n.onerror=function(s){var a=fy(s.target.error);o(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new oe(function(o,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new ZF(l),d=n(l.primaryKey,l.value,f);if(d instanceof oe){var p=d.catch(function(m){return f.done(),oe.reject(m)});i.push(p)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return oe.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Vo(e){return new oe(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=fy(i.target.error);n(o)}})}var mE=!1;function fy(e){var t=pu._t(Wo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new re("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return mE||(mE=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gE=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return ke(t,e),t}(_A);function Kn(e,t){var n=de(e);return pu.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hy=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&kF(s,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t.key)&&Vm(a,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t.key)&&Vm(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(Be.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},mt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&ou(this.mutations,t.mutations,function(n,i){return rE(n,i)})&&ou(this.baseMutations,t.baseMutations,function(n,i){return rE(n,i)})},e}(),tj=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){Oe(t.mutations.length===i.length);for(var o=xF(),s=t.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,i[a].version);return new e(t,n,i,o)},e}(),Ph=function(){function e(t,n,i,o,s,a,l){s===void 0&&(s=Be.min()),a===void 0&&(a=Be.min()),l===void 0&&(l=$n.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),EA=function(e){this.Lt=e};function Um(e,t){if(t.document)return $F(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Te.fromSegments(t.noDocument.path),i=mu(t.noDocument.readTime),o=_n.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=Te.fromSegments(t.unknownDocument.path);return i=mu(t.unknownDocument.version),_n.newUnknownDocument(s,i)}return Ie()}function yE(e,t,n){var i=dy(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(m,g){return{name:lc(m,g.key),fields:g.data.value.mapValue.fields,updateTime:cc(m,g.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new kt(null,null,s,a,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=vu(t.version);return a=t.hasCommittedMutations,new kt(null,new YF(l,f),null,a,i,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),p=vu(t.version);return new kt(new XF(d,p),null,null,!0,i,o)}return Ie()}function dy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function TA(e){var t=new Un(e[0],e[1]);return Be.fromTimestamp(t)}function vu(e){var t=e.toTimestamp();return new QF(t.seconds,t.nanoseconds)}function mu(e){var t=new Un(e.seconds,e.nanoseconds);return Be.fromTimestamp(t)}function qs(e,t){for(var n=(t.baseMutations||[]).map(function(f){return hE(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var s=t.mutations[i+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var a=t.mutations.map(function(f){return hE(e.Lt,f)}),l=Un.fromMillis(t.localWriteTimeMs);return new hy(t.batchId,l,n,a)}function ka(e){var t,n,i=mu(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?mu(e.lastLimboFreeSnapshotVersion):Be.min();return e.query.documents!==void 0?(Oe((n=e.query).documents.length===1),t=Yr(Nc(dA(n.documents[0])))):t=function(s){return Yr(gA(s))}(e.query),new Ph(t,e.targetId,0,e.lastListenSequenceNumber,i,o,$n.fromBase64String(e.resumeToken))}function SA(e,t){var n,i=vu(t.snapshotVersion),o=vu(t.lastLimboFreeSnapshotVersion);n=Mf(t.target)?vA(e.Lt,t.target):mA(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Fn(t.targetId,Ac(t.target),i,s,t.sequenceNumber,o,n)}function AA(e){var t=gA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?YS(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nj=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return wE(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:mu(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return wE(t).put({bundleId:(i=n).id,createTime:vu(Rn(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return bE(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:AA(o.bundledQuery),readTime:mu(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return bE(t).put(function(i){return{name:i.name,readTime:vu(Rn(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function wE(e){return Kn(e,hu.store)}function bE(e){return Kn(e,du.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rj=function(){function e(){this.Bt=new py}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),oe.resolve()},e.prototype.getCollectionParents=function(t,n){return oe.resolve(this.Bt.getEntries(n))},e}(),py=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Qt(ot.comparator),s=!o.has(i);return this.index[n]=o.add(i),s},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Qt(ot.comparator)).toArray()},e}(),ij=function(){function e(){this.qt=new py}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:Ar(s)};return _E(t).put(a)}return oe.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[$S(n),""],!1,!0);return _E(t).Nt(o).next(function(s){for(var a=0,l=s;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(ui(f.parent))}return i})},e}();function _E(e){return Kn(e,Ho.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$r=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(e,t,n){var i=e.store(gt.store),o=e.store(vn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(I,A,P){return l++,P.delete()});s.push(f.next(function(){Oe(l===1)}));for(var d=[],p=0,m=n.mutations;p<m.length;p++){var g=m[p],b=vn.key(t,g.key.path,n.batchId);s.push(o.delete(b)),d.push(g.key)}return oe.waitFor(s).next(function(){return d})}function Uf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ie();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(41943040,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);var oj=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return Oe(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ci(t).$t({index:gt.userMutationsIndex,range:i},function(o,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var s=this,a=Ks(t),l=Ci(t);return l.add({}).next(function(f){Oe(typeof f=="number");for(var d=new hy(f,n,i,o),p=function(C,j,F){var J=F.baseMutations.map(function(O){return jf(C.Lt,O)}),x=F.mutations.map(function(O){return jf(C.Lt,O)});return new gt(j,F.batchId,F.localWriteTime.toMillis(),J,x)}(s.R,s.userId,d),m=[],g=new Qt(function(C,j){return ze(C.canonicalString(),j.canonicalString())}),b=0,I=o;b<I.length;b++){var A=I[b],P=vn.key(s.userId,A.key.path,f);g=g.add(A.key.path.popLast()),m.push(l.put(p)),m.push(a.put(P,vn.PLACEHOLDER))}return g.forEach(function(C){m.push(s.Ut.addToCollectionParentIndex(t,C))}),t.addOnCommittedListener(function(){s.Kt[f]=d.keys()}),oe.waitFor(m).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Ci(t).get(n).next(function(o){return o?(Oe(o.userId===i.userId),qs(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?oe.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return i.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),a=null;return Ci(t).$t({index:gt.userMutationsIndex,range:s},function(l,f,d){f.userId===i.userId&&(Oe(f.batchId>=o),a=qs(i.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Ci(t).$t({index:gt.userMutationsIndex,range:n,reverse:!0},function(o,s,a){i=s.batchId,a.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ci(t).Nt(gt.userMutationsIndex,i).next(function(o){return o.map(function(s){return qs(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=vn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),a=[];return Ks(t).$t({range:s},function(l,f,d){var p=l[0],m=l[1],g=l[2],b=ui(m);if(p===i.userId&&n.path.isEqual(b))return Ci(t).get(g).next(function(I){if(!I)throw Ie();Oe(I.userId===i.userId),a.push(qs(i.R,I))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Qt(ze),s=[];return n.forEach(function(a){var l=vn.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=Ks(t).$t({range:f},function(p,m,g){var b=p[0],I=p[1],A=p[2],P=ui(I);b===i.userId&&a.path.isEqual(P)?o=o.add(A):g.done()});s.push(d)}),oe.waitFor(s).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,s=o.length+1,a=vn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Qt(ze);return Ks(t).$t({range:l},function(d,p,m){var g=d[0],b=d[1],I=d[2],A=ui(b);g===i.userId&&o.isPrefixOf(A)?A.length===s&&(f=f.add(I)):m.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],s=[];return n.forEach(function(a){s.push(Ci(t).get(a).next(function(l){if(l===null)throw Ie();Oe(l.userId===i.userId),o.push(qs(i.R,l))}))}),oe.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return NA(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),oe.forEach(o,function(s){return i.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return oe.resolve();var o=IDBKeyRange.lowerBound(vn.prefixForUser(n.userId)),s=[];return Ks(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=ui(a[1]);s.push(d)}else f.done()}).next(function(){Oe(s.length===0)})})},e.prototype.containsKey=function(t,n){return kA(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return CA(t).get(this.userId).next(function(i){return i||new zi(n.userId,-1,"")})},e}();function kA(e,t,n){var i=vn.prefixForPath(t,n.path),o=i[1],s=IDBKeyRange.lowerBound(i),a=!1;return Ks(e).$t({range:s,Ft:!0},function(l,f,d){var p=l[0],m=l[1];l[2],p===t&&m===o&&(a=!0),d.done()}).next(function(){return a})}function Ci(e){return Kn(e,gt.store)}function Ks(e){return Kn(e,vn.store)}function CA(e){return Kn(e,zi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),sj=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new Bf(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Be.fromTimestamp(new Un(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Fs(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return Oe(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,a=[];return Fs(t).$t(function(l,f){var d=ka(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(s++,a.push(o.removeTargetData(t,d)))}).next(function(){return oe.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Fs(t).$t(function(i,o){var s=ka(o);n(s)})},e.prototype.Xt=function(t){return EE(t).get(Jn.key).next(function(n){return Oe(n!==null),n})},e.prototype.Zt=function(t,n){return EE(t).put(Jn.key,n)},e.prototype.te=function(t,n){return Fs(t).put(SA(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=Ac(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return Fs(t).$t({range:o,index:Fn.queryTargetsIndexName},function(a,l,f){var d=ka(l);Ch(n,d.target)&&(s=d,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,s=[],a=ji(t);return n.forEach(function(l){var f=Ar(l.path);s.push(a.put(new ln(i,f))),s.push(o.referenceDelegate.addReference(t,i,l))}),oe.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,s=ji(t);return oe.forEach(n,function(a){var l=Ar(a.path);return oe.waitFor([s.delete([i,l]),o.referenceDelegate.removeReference(t,i,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=ji(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=ji(t),s=mt();return o.$t({range:i,Ft:!0},function(a,l,f){var d=ui(a[1]),p=new Te(d);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var i=Ar(n.path),o=IDBKeyRange.bound([i],[$S(i)],!1,!0),s=0;return ji(t).$t({index:ln.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Fs(t).get(n).next(function(i){return i?ka(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(e){return Kn(e,Fn.store)}function EE(e){return Kn(e,Jn.store)}function ji(e){return Kn(e,ln.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(e){return te(this,void 0,void 0,function(){return Z(this,function(t){if(e.code!==B.FAILED_PRECONDITION||e.message!==bA)throw e;return ue("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(e,t){var n=e[0],i=e[1],o=t[0],s=t[1],a=ze(n,o);return a===0?ze(i,s):a}var uj=function(){function e(t){this.ne=t,this.buffer=new Qt(TE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();TE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),aj=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;ue("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return te(n,void 0,void 0,function(){var o;return Z(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return ss(o=s.sent())?(ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,us(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),cj=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return oe.resolve(tr.o);var o=new uj(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return i.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(IE)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),IE):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,s,a,l,f,d,p=this,m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(g){return g>p.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+g),o=p.params.maximumSequenceNumbersToCollect):o=g,a=Date.now(),p.nthSequenceNumber(t,o)}).next(function(g){return i=g,l=Date.now(),p.removeTargets(t,i,n)}).next(function(g){return s=g,f=Date.now(),p.removeOrphanedDocuments(t,i)}).next(function(g){return d=Date.now(),Pm()<=rt.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-m)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+g+" documents in "+(d-f)+`ms
Total Duration: `+(d-m)+"ms"),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:g})})},e}(),lj=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new cj(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return Jl(t,i)},e.prototype.removeReference=function(t,n,i){return Jl(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return Jl(t,n)},e.prototype._e=function(t,n){return function(i,o){var s=!1;return CA(i).Ot(function(a){return kA(i,a,o).next(function(l){return l&&(s=!0),oe.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,f){if(f<=n){var d=i._e(t,l).next(function(p){if(!p)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),ji(t).delete([0,Ar(l.path)])})});s.push(d)}}).next(function(){return oe.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return Jl(t,n)},e.prototype.we=function(t,n){var i,o=ji(t),s=tr.o;return o.$t({index:ln.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,p=l.sequenceNumber;f===0?(s!==tr.o&&n(new Te(ui(i)),s),s=p,i=d):s=tr.o}).next(function(){s!==tr.o&&n(new Te(ui(i)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Jl(e,t){return ji(e).put(function(n,i){return new ln(0,Ar(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,s=i;o<s.length;o++){var a=s[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){is(this.inner,function(n,i){for(var o=0,s=i;o<s.length;o++){var a=s[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return qS(this.inner)},e}(),OA=function(){function e(){this.changes=new xu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Be.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:_n.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?oe.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),fj=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Vi(t).put(Zl(n),i)},e.prototype.removeEntry=function(t,n){var i=Vi(t),o=Zl(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return Vi(t).get(Zl(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return Vi(t).get(Zl(n)).next(function(o){return{document:i.ye(n,o),size:Uf(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=Sr();return this.pe(t,n,function(s,a){var l=i.ye(s,a);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=Sr(),s=new In(Te.comparator);return this.pe(t,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),s=s.insert(a,Uf(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return oe.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Vi(t).$t({range:o},function(l,f,d){for(var p=Te.fromSegments(l);a&&Te.comparator(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,f),a=s.hasNext()?s.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,s=Sr(),a=n.path.length+1,l={};if(i.isEqual(Be.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),p=dy(i);l.range=IDBKeyRange.lowerBound([d,p],!0),l.index=kt.collectionReadTimeIndex}return Vi(t).$t(l,function(m,g,b){if(m.length===a){var I=Um(o.R,g);n.path.isPrefixOf(I.key.path)?Cc(n,I)&&(s=s.insert(I.key,I)):b.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new hj(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return SE(t).get(Hr.key).next(function(n){return Oe(!!n),n})},e.prototype.me=function(t,n){return SE(t).put(Hr.key,n)},e.prototype.ye=function(t,n){if(n){var i=Um(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(Be.min()))return i}return _n.newInvalidDocument(t)},e}(),hj=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new xu(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),o}return ke(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],s=0,a=new Qt(function(l,f){return ze(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var p=yE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var m=Uf(p);s+=m-d,o.push(i.Ie.addEntry(n,l,p))}else if(s-=d,i.trackRemovals){var g=yE(i.Ie.R,_n.newNoDocument(l,Be.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,g))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),oe.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(s){return o.Ae.set(i,s.size),s.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(s){var a=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(OA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(e){return Kn(e,Hr.store)}function Vi(e){return Kn(e,kt.store)}function Zl(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dj=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var s=this;Oe(i<o&&i>=0&&o<=11);var a=new IA("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(Xn.store)}(t),function(f){f.createObjectStore(zi.store,{keyPath:zi.keyPath}),f.createObjectStore(gt.store,{keyPath:gt.keyPath,autoIncrement:!0}).createIndex(gt.userMutationsIndex,gt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(vn.store)}(t),AE(t),function(f){f.createObjectStore(kt.store)}(t));var l=oe.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(ln.store),f.deleteObjectStore(Fn.store),f.deleteObjectStore(Jn.store)}(t),AE(t)),l=l.next(function(){return function(f){var d=f.store(Jn.store),p=new Jn(0,0,Be.min().toTimestamp(),0);return d.put(Jn.key,p)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(gt.store).Nt().next(function(p){f.deleteObjectStore(gt.store),f.createObjectStore(gt.store,{keyPath:gt.keyPath,autoIncrement:!0}).createIndex(gt.userMutationsIndex,gt.userMutationsKeyPath,{unique:!0});var m=d.store(gt.store),g=p.map(function(b){return m.put(b)});return oe.waitFor(g)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(li.store,{keyPath:li.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return s.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Hr.store)}(t),s.be(a)})),i<7&&o>=7&&(l=l.next(function(){return s.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return s.Pe(t,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(kt.store);d.createIndex(kt.readTimeIndex,kt.readTimeIndexPath,{unique:!1}),d.createIndex(kt.collectionReadTimeIndex,kt.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return s.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(hu.store,{keyPath:hu.keyPath})})(t),function(f){f.createObjectStore(du.store,{keyPath:du.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(kt.store).$t(function(i,o){n+=Uf(o)}).next(function(){var i=new Hr(n);return t.store(Hr.store).put(Hr.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(zi.store),o=t.store(gt.store);return i.Nt().next(function(s){return oe.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(gt.userMutationsIndex,l).next(function(f){return oe.forEach(f,function(d){Oe(d.userId===a.userId);var p=qs(n.R,d);return NA(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(ln.store),i=t.store(kt.store);return t.store(Jn.store).get(Jn.key).next(function(o){var s=[];return i.$t(function(a,l){var f=new ot(a),d=function(p){return[0,Ar(p)]}(f);s.push(n.get(d).next(function(p){return p?oe.resolve():function(m){return n.put(new ln(0,Ar(m),o.highestListenSequenceNumber))}(f)}))}).next(function(){return oe.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Ho.store,{keyPath:Ho.keyPath});var i=n.store(Ho.store),o=new py,s=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:Ar(f)})}};return n.store(kt.store).$t({Ft:!0},function(a,l){var f=new ot(a);return s(f.popLast())}).next(function(){return n.store(vn.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=ui(f);return s(d.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(Fn.store);return i.$t(function(o,s){var a=ka(s),l=SA(n.R,a);return i.put(l)})},e}();function AE(e){e.createObjectStore(ln.store,{keyPath:ln.keyPath}).createIndex(ln.documentTargetsIndex,ln.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Fn.store,{keyPath:Fn.keyPath}).createIndex(Fn.queryTargetsIndexName,Fn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Jn.store)}var zv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pj=function(){function e(t,n,i,o,s,a,l,f,d,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=s,this.window=a,this.document=l,this.De=d,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(m){return Promise.resolve()},!e.yt())throw new re(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lj(this,o),this.Le=n+"main",this.R=new EA(f),this.Be=new pu(this.Le,11,new dj(this.R)),this.qe=new sj(this.referenceDelegate,this.R),this.Ut=new ij,this.Ue=function(m,g){return new fj(m,g)}(this.R,this.Ut),this.Ke=new nj,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&Bt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new re(B.FAILED_PRECONDITION,zv);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new tr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return te(n,void 0,void 0,function(){return Z(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return te(n,void 0,void 0,function(){return Z(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return te(n,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return ef(n).put(new li(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(ss(n))return ue("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Sa(t).get(Xn.key).next(function(i){return oe.resolve(n.tn(i))})},e.prototype.en=function(t){return ef(t).delete(this.clientId)},e.prototype.nn=function(){return te(this,void 0,void 0,function(){var t,n,i,o,s=this;return Z(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Kn(l,li.store);return f.Nt().next(function(d){var p=s.rn(d,18e5),m=d.filter(function(g){return p.indexOf(g)===-1});return oe.forEach(m,function(g){return f.delete(g.clientId)}).next(function(){return m})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?oe.resolve(!0):Sa(t).get(Xn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new re(B.FAILED_PRECONDITION,zv);return!1}}return!(!n.networkEnabled||!n.inForeground)||ef(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&ue("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return te(this,void 0,void 0,function(){var t=this;return Z(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Xn.store,li.store],function(i){var o=new gE(i,tr.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return ef(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return oj.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ue("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,JF,function(l){return s=new gE(l,o.Ne?o.Ne.next():tr.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw Bt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new re(B.FAILED_PRECONDITION,bA);return i(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return i(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Sa(t).get(Xn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new re(B.FAILED_PRECONDITION,zv)})},e.prototype.Ze=function(t){var n=new Xn(this.clientId,this.allowTabSynchronization,Date.now());return Sa(t).put(Xn.key,n)},e.yt=function(){return pu.yt()},e.prototype.Xe=function(t){var n=this,i=Sa(t);return i.get(Xn.key).next(function(o){return n.tn(o)?(ue("IndexedDbPersistence","Releasing primary lease."),i.delete(Xn.key)):oe.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(Bt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),bM()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ue("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Bt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Bt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Sa(e){return Kn(e,Xn.store)}function ef(e){return Kn(e,li.store)}function vy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var DA=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,a=i;s<a.length;s++)a[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return Te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):sy(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new Te(n)).next(function(i){var o=Fm();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,s=n.collectionGroup,a=Fm();return this.Ut.getCollectionParents(t,s).next(function(l){return oe.forEach(l,function(f){var d=function(p,m){return new mi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,f.child(s));return o.An(t,d,i).next(function(p){p.forEach(function(m,g){a=a.insert(m,g)})})}).next(function(){return a})})},e.prototype.An=function(t,n,i){var o,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,o).next(function(f){o=f;for(var d=0,p=s;d<p.length;d++)for(var m=p[d],g=0,b=m.mutations;g<b.length;g++){var I=b[g],A=I.key,P=o.get(A);P==null&&(P=_n.newInvalidDocument(A),o=o.insert(A,P)),Vm(I,P,m.localWriteTime),P.isFoundDocument()||(o=o.remove(A))}})}).next(function(){return o.forEach(function(l,f){Cc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=mt(),s=0,a=n;s<a.length;s++)for(var l=0,f=a[s].mutations;l<f.length;l++){var d=f[l];d instanceof so&&i.get(d.key)===null&&(o=o.add(d.key))}var p=i;return this.Ue.getEntries(t,o).next(function(m){return m.forEach(function(g,b){b.isFoundDocument()&&(p=p.insert(g,b))}),p})},e}(),vj=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=mt(),o=mt(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),RA=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(Be.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=s.Cn(n,a);return(ff(n)||Ff(n))&&s.Nn(n.limitType,l,o,i)?s.Dn(t,n):(Pm()<=rt.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mm(n)),s.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var i=new Qt(JS(t));return n.forEach(function(o,s){Cc(t,s)&&(i=i.add(s))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Pm()<=rt.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Mm(n)),this.Sn.getDocumentsMatchingQuery(t,n,Be.min())},e}(),mj=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new In(ze),this.Fn=new xu(function(s){return Ac(s)},Ch),this.$n=Be.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new DA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(e,t,n,i){return new mj(e,t,n,i)}function xA(e,t){return te(this,void 0,void 0,function(){var n,i,o,s;return Z(this,function(a){switch(a.label){case 0:return n=de(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(t),o=new DA(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var p=[],m=[],g=mt(),b=0,I=f;b<I.length;b++){var A=I[b];p.push(A.batchId);for(var P=0,C=A.mutations;P<C.length;P++){var j=C[P];g=g.add(j.key)}}for(var F=0,J=d;F<J.length;F++){var x=J[F];m.push(x.batchId);for(var O=0,L=x.mutations;O<L.length;O++){var k=L[O];g=g.add(k.key)}}return o.pn(l,g).next(function($){return{Ln:$,removedBatchIds:p,addedBatchIds:m}})})})];case 1:return s=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function gj(e,t){var n=de(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var p=f.batch,m=p.keys(),g=oe.resolve();return m.forEach(function(b){g=g.next(function(){return d.getEntry(l,b)}).next(function(I){var A=f.docVersions.get(b);Oe(A!==null),I.version.compareTo(A)<0&&(p.applyToRemoteDocument(I,f),I.isValidDocument()&&d.addEntry(I,f.commitVersion))})}),g.next(function(){return a._n.removeMutationBatch(l,p)})}(n,i,t,s).next(function(){return s.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function LA(e){var t=de(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function yj(e,t){var n=de(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(p,m){var g=o.get(m);if(g){l.push(n.qe.removeMatchingKeys(s,p.removedDocuments,m).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,m)}));var b=p.resumeToken;if(b.approximateByteSize()>0){var I=g.withResumeToken(b,i).withSequenceNumber(s.currentSequenceNumber);o=o.insert(m,I),function(A,P,C){return Oe(P.resumeToken.approximateByteSize()>0),A.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8||C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(g,I,p)&&l.push(n.qe.updateTargetData(s,I))}}});var f=Sr();if(t.documentUpdates.forEach(function(p,m){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(wj(s,a,t.documentUpdates,i,void 0).next(function(p){f=p})),!i.isEqual(Be.min())){var d=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,i)});l.push(d)}return oe.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function wj(e,t,n,i,o){var s=mt();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=Sr();return n.forEach(function(f,d){var p=a.get(f),m=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual(Be.min())?(t.removeEntry(f,m),l=l.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d,m),l=l.insert(f,d)):ue("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),l})}function bj(e,t){var n=de(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function $f(e,t){var n=de(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(s){return s?(o=s,oe.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Ph(t,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function gu(e,t,n){return te(this,void 0,void 0,function(){var i,o,s,a;return Z(this,function(l){switch(l.label){case 0:i=de(e),o=i.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!ss(a=l.sent()))throw a;return ue("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function qf(e,t,n){var i=de(e),o=Be.min(),s=mt();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var p=de(l),m=p.Fn.get(d);return m!==void 0?oe.resolve(p.kn.get(m)):p.qe.getTargetData(f,d)}(i,a,Yr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){s=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,t,n?o:Be.min(),n?s:mt())}).next(function(l){return{documents:l,Bn:s}})})}function MA(e,t){var n=de(e),i=de(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return i.lt(s,t).next(function(a){return a?a.target:null})})}function VA(e){var t=de(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,s){var a=de(i),l=Sr(),f=dy(s),d=Vi(o),p=IDBKeyRange.lowerBound(f,!0);return d.$t({index:kt.readTimeIndex,range:p},function(m,g){var b=Um(a.R,g);l=l.insert(b.key,b),f=g.readTime}).next(function(){return{wn:l,readTime:TA(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function _j(e){return te(this,void 0,void 0,function(){var t;return Z(this,function(n){return[2,(t=de(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var s=Vi(o),a=Be.min();return s.$t({index:kt.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=TA(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ij=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return oe.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:Rn(i.createTime)}),oe.resolve()},e.prototype.getNamedQuery=function(t,n){return oe.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:AA(i.bundledQuery),readTime:Rn(i.readTime)}}(n)),oe.resolve()},e}(),my=function(){function e(){this.Wn=new Qt(Xt.Gn),this.zn=new Qt(Xt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new Xt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Xt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new Te(new ot([])),o=new Xt(i,t),s=new Xt(i,t+1),a=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Te(new ot([])),i=new Xt(n,t),o=new Xt(n,t+1),s=mt();return this.zn.forEachInRange([i,o],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Xt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),Xt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Te.comparator(t.key,n.key)||ze(t.ns,n.ns)},e.Hn=function(t,n){return ze(t.ns,n.ns)||Te.comparator(t.key,n.key)},e}(),Ej=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Qt(Xt.Gn)}return e.prototype.checkEmpty=function(t){return oe.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new hy(s,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new Xt(d.key,s)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return oe.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return oe.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),s=o<0?0:o;return oe.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return oe.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return oe.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new Xt(n,0),s=new Xt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,s],function(l){var f=i.os(l.ns);a.push(f)}),oe.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Qt(ze);return n.forEach(function(s){var a=new Xt(s,0),l=new Xt(s,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),oe.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,s=i;Te.isDocumentKey(s)||(s=s.child(""));var a=new Xt(new Te(s),0),l=new Qt(ze);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),oe.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var s=n.os(o);s!==null&&i.push(s)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;Oe(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return oe.forEach(n.mutations,function(s){var a=new Xt(s.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new Xt(n,0),o=this.rs.firstAfterOrEqual(i);return oe.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,oe.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),Tj=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new In(Te.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,s=this.docs.get(o),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return oe.resolve(i?i.document.clone():_n.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=Sr();return n.forEach(function(s){var a=i.docs.get(s);o=o.insert(s,a?a.document.clone():_n.newInvalidDocument(s))}),oe.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=Sr(),s=new Te(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,p=d.document,m=d.readTime;if(!n.path.isPrefixOf(f.path))break;m.compareTo(i)<=0||Cc(n,p)&&(o=o.insert(p.key,p.clone()))}return oe.resolve(o)},e.prototype.fs=function(t,n){return oe.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new Sj(this)},e.prototype.getSize=function(t){return oe.resolve(this.size)},e}(),Sj=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return ke(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(s))):i.Ie.removeEntry(s)}),oe.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(OA),Aj=function(){function e(t){this.persistence=t,this.ds=new xu(function(n){return Ac(n)},Ch),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.ws=0,this._s=new my,this.targetCount=0,this.ys=Bf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),oe.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return oe.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return oe.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),oe.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),oe.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Bf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,oe.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),oe.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,oe.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),oe.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return oe.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return oe.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),oe.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(a){s.push(o.markPotentiallyOrphaned(t,a))}),oe.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),oe.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return oe.resolve(i)},e.prototype.containsKey=function(t,n){return oe.resolve(this._s.containsKey(n))},e}(),Nj=function(){function e(t,n){var i=this;this.gs={},this.Ne=new tr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Aj(this),this.Ut=new rj,this.Ue=function(o,s){return new Tj(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new EA(n),this.Ke=new Ij(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new Ej(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ue("MemoryPersistence","Starting transaction:",t);var s=new kj(this.Ne.next());return this.referenceDelegate.Es(),i(s).next(function(a){return o.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return oe.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),kj=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return ke(t,e),t}(_A),Cj=function(){function e(t){this.persistence=t,this.As=new my,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ie()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),oe.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),oe.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),oe.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(s){return i.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.vs,function(o){var s=Te.fromPath(o);return n.Ps(t,s).next(function(a){a||i.removeEntry(s)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return oe.or([function(){return oe.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),un=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(e,t){return"firestore_clients_"+e+"_"+t}function kE(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function Gv(e,t){return"firestore_targets_"+e+"_"+t}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");var CE=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,s=JSON.parse(i),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new re(s.error.code,s.error.message)),a?new e(t,n,s.state,o):(Bt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Wv=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new re(o.error.code,o.error.message)),s?new e(t,o.state,i):(Bt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),OE=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,s=Rh(),a=0;o&&a<i.activeTargetIds.length;++a)o=zS(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return o?new e(t,s):(Bt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Oj=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Bt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Bm=function(){function e(){this.activeTargetIds=Rh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Qv=function(){function e(t,n,i,o,s){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new In(ze),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=NE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Bm),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return te(this,void 0,void 0,function(){var t,n,i,o,s,a,l,f,d,p,m,g=this;return Z(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=b.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(s=this.getItem(NE(this.persistenceKey,o)))&&(a=OE.Vs(o,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,p=this.$s;d<p.length;d++)m=p[d],this.ks(m);return this.$s=[],this.window.addEventListener("pagehide",function(){return g.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(Gv(this.persistenceKey,t));if(i){var o=Wv.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Gv(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,i.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ue("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ue("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ue("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(ue("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Bt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return te(n,void 0,void 0,function(){var o,s,a,l,f,d;return Z(this,function(p){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(s=this.ni(i.key,i.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(m){var g=tr.o;if(m!=null)try{var b=JSON.parse(m);Oe(typeof b=="number"),g=b}catch(I){Bt("SharedClientState","Failed to read sequence number from WebStorage",I)}return g}(i.newValue))!==tr.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new CE(this.currentUser,t,n,i),s=kE(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=kE(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=Gv(this.persistenceKey,t),s=new Wv(t,n,i);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return OE.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),s=i[2]!==void 0?i[2]:null;return CE.Vs(new un(s),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return Wv.Vs(o,n)},e.prototype.js=function(t){return Oj.Vs(t)},e.prototype.ii=function(t){return te(this,void 0,void 0,function(){return Z(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ue("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){s.has(d)||l.push(d)}),s.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Rh();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),FA=function(){function e(){this.li=new Bm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Bm,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),Dj=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),DE=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),Rj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Pj=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),xj=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return ke(t,e),t.prototype.Fi=function(n,i,o,s){return new Promise(function(a,l){var f=new fF;f.listenOnce(aF.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Hv.NO_ERROR:var p=f.getResponseJson();ue("Connection","XHR received:",JSON.stringify(p)),a(p);break;case Hv.TIMEOUT:ue("Connection",'RPC "'+n+'" timed out'),l(new re(B.DEADLINE_EXCEEDED,"Request time out"));break;case Hv.HTTP_ERROR:var m=f.getStatus();if(ue("Connection",'RPC "'+n+'" failed with status:',m,"response text:",f.getResponseText()),m>0){var g=f.getResponseJson().error;if(g&&g.status&&g.message){var b=function(I){var A=I.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(A)>=0?A:B.UNKNOWN}(g.status);l(new re(b,g.message))}else l(new re(B.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new re(B.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ue("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);f.send(i,"POST",d,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=sF(),a=uF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new lF({})),this.ki(l.initMessageHeaders,i),dM()||mM()||gM()||yM()||wM()||vM()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ue("Connection","Creating WebChannel: "+f,l);var d=s.createWebChannel(f,l),p=!1,m=!1,g=new Pj({Ei:function(I){m?ue("Connection","Not sending because WebChannel is closed:",I):(p||(ue("Connection","Opening WebChannel transport."),d.open(),p=!0),ue("Connection","WebChannel sending:",I),d.send(I))},Ti:function(){return d.close()}}),b=function(I,A,P){I.listen(A,function(C){try{P(C)}catch(j){setTimeout(function(){throw j},0)}})};return b(d,Yl.EventType.OPEN,function(){m||ue("Connection","WebChannel transport opened.")}),b(d,Yl.EventType.CLOSE,function(){m||(m=!0,ue("Connection","WebChannel transport closed"),g.Vi())}),b(d,Yl.EventType.ERROR,function(I){m||(m=!0,Pf("Connection","WebChannel transport errored:",I),g.Vi(new re(B.UNAVAILABLE,"The operation could not be completed")))}),b(d,Yl.EventType.MESSAGE,function(I){var A;if(!m){var P=I.data[0];Oe(!!P);var C=P,j=C.error||((A=C[0])===null||A===void 0?void 0:A.error);if(j){ue("Connection","WebChannel received error:",j);var F=j.status,J=function(O){var L=jt[O];if(L!==void 0)return aA(L)}(F),x=j.message;J===void 0&&(J=B.INTERNAL,x="Unknown error status: "+F+" with message "+j.message),m=!0,g.Vi(new re(J,x)),d.close()}else ue("Connection","WebChannel received:",P),g.Si(P)}}),b(a,cF.STAT_EVENT,function(I){I.stat===WI.PROXY?ue("Connection","Detected buffering proxy"):I.stat===WI.NOPROXY&&ue("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var s=this.xi(t,n);ue("RestConnection","Sending: ",s,i);var a={};return this.ki(a,o),this.Fi(t,s,a,i).then(function(l){return ue("RestConnection","Received: ",l),l},function(l){throw Pf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=Rj[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){return typeof window<"u"?window:null}function pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(e){return new UF(e,!0)}var gy=function(){function e(t,n,i,o,s){i===void 0&&(i=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,i-o);s>0&&ue("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),UA=function(){function e(t,n,i,o,s,a){this.Se=t,this.zi=i,this.Hi=o,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new gy(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return te(this,void 0,void 0,function(){return Z(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return te(this,void 0,void 0,function(){return Z(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return te(this,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Bt(n.toString()),Bt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===B.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var s=new re(B.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return te(t,void 0,void 0,function(){return Z(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ue("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Lj=function(e){function t(n,i,o,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=s,l}return ke(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(s,a){var l;if("targetChange"in a){a.targetChange;var f=function(P){return P==="NO_CHANGE"?0:P==="ADD"?1:P==="REMOVE"?2:P==="CURRENT"?3:P==="RESET"?4:Ie()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],p=function(P,C){return P.I?(Oe(C===void 0||typeof C=="string"),$n.fromBase64String(C||"")):(Oe(C===void 0||C instanceof Uint8Array),$n.fromUint8Array(C||new Uint8Array))}(s,a.targetChange.resumeToken),m=(g=a.targetChange.cause)&&function(P){var C=P.code===void 0?B.UNKNOWN:aA(P.code);return new re(C,P.message||"")}(g);l=new lA(f,d,p,m||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=ci(s,f.document.name),p=Rn(f.document.updateTime);var g=new Zn({mapValue:{fields:f.document.fields}}),b=(m=_n.newFoundDocument(d,p,g),f.targetIds||[]),I=f.removedTargetIds||[];l=new df(b,I,m.key,m)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=ci(s,f.document),p=f.readTime?Rn(f.readTime):Be.min(),g=_n.newNoDocument(d,p),m=f.removedTargetIds||[],l=new df([],m,g.key,g);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=ci(s,f.document),p=f.removedTargetIds||[],l=new df([],p,d,null);else{if(!("filter"in a))return Ie();a.filter;var A=a.filter;A.targetId,f=A.count||0,d=new OF(f),p=A.targetId,l=new cA(p,d)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return Be.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Be.min():a.readTime?Rn(a.readTime):Be.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=fc(this.R),i.addTarget=function(s,a){var l,f=a.target;return(l=Mf(f)?{documents:vA(s,f)}:{query:mA(s,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=fA(s,a.resumeToken):a.snapshotVersion.compareTo(Be.min())>0&&(l.readTime=cc(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ie()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=fc(this.R),i.removeTarget=n,this.cr(i)},t}(UA),Mj=function(e){function t(n,i,o,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=s,l.gr=!1,l}return ke(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Oe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(s,a){return s&&s.length>0?(Oe(a!==void 0),s.map(function(l){return function(f,d){var p=f.updateTime?Rn(f.updateTime):Rn(d);return p.isEqual(Be.min())&&(p=Rn(d)),new NF(p,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=Rn(n.commitTime);return this.listener.Tr(o,i)}return Oe(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=fc(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return jf(i.R,s)})};this.cr(o)},t}(UA),Vj=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=i,s.R=o,s.Rr=!1,s}return ke(t,e),t.prototype.br=function(){if(this.Rr)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new re(B.UNKNOWN,a.toString())})},t.prototype.$i=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new re(B.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),Fj=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Bt(n),this.Vr=!1):ue("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),jj=function(e,t,n,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return te(s,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return uo(this)?(ue("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return te(this,void 0,void 0,function(){var d;return Z(this,function(p){switch(p.label){case 0:return(d=de(f)).Or.add(4),[4,Lu(d)];case 1:return p.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Pc(d)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new Fj(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(e){return te(this,void 0,void 0,function(){var t,n;return Z(this,function(i){switch(i.label){case 0:if(!uo(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Lu(e){return te(this,void 0,void 0,function(){var t,n;return Z(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Lh(e,t){var n=de(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),by(n)?wy(n):Vu(n).er()&&yy(n,t))}function hc(e,t){var n=de(e),i=Vu(n);n.$r.delete(t),i.er()&&BA(n,t),n.$r.size===0&&(i.er()?i.ir():uo(n)&&n.Br.set("Unknown"))}function yy(e,t){e.qr.U(t.targetId),Vu(e).mr(t)}function BA(e,t){e.qr.U(t),Vu(e).yr(t)}function wy(e){e.qr=new VF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Vu(e).start(),e.Br.Sr()}function by(e){return uo(e)&&!Vu(e).tr()&&e.$r.size>0}function uo(e){return de(e).Or.size===0}function $A(e){e.qr=void 0}function Uj(e){return te(this,void 0,void 0,function(){return Z(this,function(t){return e.$r.forEach(function(n,i){yy(e,n)}),[2]})})}function Bj(e,t){return te(this,void 0,void 0,function(){return Z(this,function(n){return $A(e),by(e)?(e.Br.Nr(t),wy(e)):e.Br.set("Unknown"),[2]})})}function $j(e,t,n){return te(this,void 0,void 0,function(){var i,o,s;return Z(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof lA&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return te(this,void 0,void 0,function(){var d,p,m,g;return Z(this,function(b){switch(b.label){case 0:d=f.cause,p=0,m=f.targetIds,b.label=1;case 1:return p<m.length?(g=m[p],l.$r.has(g)?[4,l.remoteSyncer.rejectListen(g,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(g),l.qr.removeTarget(g),b.label=3;case 3:b.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Kf(e,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof df?e.qr.X(t):t instanceof cA?e.qr.rt(t):e.qr.et(t),n.isEqual(Be.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,LA(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(p,m){if(p.resumeToken.approximateByteSize()>0){var g=l.$r.get(m);g&&l.$r.set(m,g.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach(function(p){var m=l.$r.get(p);if(m){l.$r.set(p,m.withResumeToken($n.EMPTY_BYTE_STRING,m.snapshotVersion)),BA(l,p);var g=new Ph(m.target,p,1,m.sequenceNumber);yy(l,g)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ue("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Kf(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Kf(e,t,n){return te(this,void 0,void 0,function(){var i=this;return Z(this,function(o){switch(o.label){case 0:if(!ss(t))throw t;return e.Or.add(1),[4,Lu(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return LA(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return te(i,void 0,void 0,function(){return Z(this,function(s){switch(s.label){case 0:return ue("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Pc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function qA(e,t){return t().catch(function(n){return Kf(e,n,t)})}function Mu(e){return te(this,void 0,void 0,function(){var t,n,i,o,s;return Z(this,function(a){switch(a.label){case 0:t=de(e),n=eo(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return uo(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,bj(t.localStore,i)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=eo(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return s=a.sent(),[4,Kf(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return KA(t)&&HA(t),[2]}})})}function KA(e){return uo(e)&&!eo(e).tr()&&e.Fr.length>0}function HA(e){eo(e).start()}function qj(e){return te(this,void 0,void 0,function(){return Z(this,function(t){return eo(e).Ar(),[2]})})}function Kj(e){return te(this,void 0,void 0,function(){var t,n,i,o;return Z(this,function(s){for(t=eo(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function Hj(e,t,n){return te(this,void 0,void 0,function(){var i,o;return Z(this,function(s){switch(s.label){case 0:return i=e.Fr.shift(),o=tj.from(i,t,n),[4,qA(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Mu(e)];case 2:return s.sent(),[2]}})})}function zj(e,t){return te(this,void 0,void 0,function(){return Z(this,function(n){switch(n.label){case 0:return t&&eo(e).pr?[4,function(i,o){return te(this,void 0,void 0,function(){var s,a;return Z(this,function(l){switch(l.label){case 0:return uA(a=o.code)&&a!==B.ABORTED?(s=i.Fr.shift(),eo(i).sr(),[4,qA(i,function(){return i.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Mu(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return KA(e)&&HA(e),[2]}})})}function $m(e,t){return te(this,void 0,void 0,function(){var n;return Z(this,function(i){switch(i.label){case 0:return n=de(e),t?(n.Or.delete(2),[4,Pc(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Lu(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Vu(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var s=de(n);return s.br(),new Lj(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:Uj.bind(null,e),Ri:Bj.bind(null,e),_r:$j.bind(null,e)}),e.Mr.push(function(n){return te(t,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),by(e)?wy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),$A(e),i.label=3;case 3:return[2]}})})})),e.Ur}function eo(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var s=de(n);return s.br(),new Mj(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:qj.bind(null,e),Ri:zj.bind(null,e),Ir:Kj.bind(null,e),Tr:Hj.bind(null,e)}),e.Mr.push(function(n){return te(t,void 0,void 0,function(){return Z(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Mu(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(ue("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var Gj=function(){function e(t,n,i,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,i,o,s){var a=new e(t,n,Date.now()+i,o,s);return a.start(i),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(B.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Fu(e,t){if(Bt("AsyncQueue",t+": "+e),ss(e))return new re(B.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zA=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||Te.comparator(n.key,i.key)}:function(n,i){return Te.comparator(n.key,i.key)},this.keyedMap=Fm(),this.sortedSet=new In(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),RE=function(){function e(){this.Qr=new In(Te.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):Ie():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),Hf=function(){function e(t,n,i,o,s,a,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,zA.emptySet(n),s,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),Wj=function(){this.Wr=void 0,this.listeners=[]},Qj=function(){this.queries=new xu(function(e){return XS(e)},kc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(e,t){return te(this,void 0,void 0,function(){var n,i,o,s,a,l,f;return Z(this,function(d){switch(d.label){case 0:if(n=de(e),i=t.query,o=!1,(s=n.queries.get(i))||(o=!0,s=new Wj),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=s,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=Fu(l,"Initialization of query '"+Mm(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&Ey(n),[2]}})})}function Iy(e,t){return te(this,void 0,void 0,function(){var n,i,o,s,a;return Z(this,function(l){return n=de(e),i=t.query,o=!1,(s=n.queries.get(i))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),o=s.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function Yj(e,t){for(var n=de(e),i=!1,o=0,s=t;o<s.length;o++){var a=s[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,p=f.listeners;d<p.length;d++)p[d].Hr(a)&&(i=!0);f.Wr=a}}i&&Ey(n)}function Xj(e,t,n){var i=de(e),o=i.queries.get(t);if(o)for(var s=0,a=o.listeners;s<a.length;s++)a[s].onError(n);i.queries.delete(t)}function Ey(e){e.Gr.forEach(function(t){t.next()})}var Ty=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var s=o[i];s.type!==3&&n.push(s)}t=new Hf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Hf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GA=function(e){this.key=e},WA=function(e){this.key=e},QA=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=mt(),this.mutatedKeys=mt(),this.lo=JS(t),this.fo=new zA(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new RE,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,d=ff(this.query)&&s.size===this.query.limit?s.last():null,p=Ff(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(g,b){var I=s.get(g),A=Cc(i.query,b)?b:null,P=!!I&&i.mutatedKeys.has(I.key),C=!!A&&(A.hasLocalMutations||i.mutatedKeys.has(A.key)&&A.hasCommittedMutations),j=!1;I&&A?I.data.isEqual(A.data)?P!==C&&(o.track({type:3,doc:A}),j=!0):i.yo(I,A)||(o.track({type:2,doc:A}),j=!0,(d&&i.lo(A,d)>0||p&&i.lo(A,p)<0)&&(f=!0)):!I&&A?(o.track({type:0,doc:A}),j=!0):I&&!A&&(o.track({type:1,doc:I}),j=!0,(d||p)&&(f=!0)),j&&(A?(l=l.add(A),a=C?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),ff(this.query)||Ff(this.query))for(;l.size>this.query.limit;){var m=ff(this.query)?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),o.track({type:1,doc:m})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,m){return function(g,b){var I=function(A){switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return I(g)-I(b)}(p.type,m.type)||o.lo(p.doc,m.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new Hf(this.query,t.fo,s,a,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new RE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=mt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new WA(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new GA(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=mt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Hf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),Jj=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Zj=function(e){this.key=e,this.bo=!1},eU=function(){function e(t,n,i,o,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new xu(function(l){return XS(l)},kc),this.Vo=new Map,this.So=new Set,this.Do=new In(Te.comparator),this.Co=new Map,this.No=new my,this.xo={},this.ko=new Map,this.Fo=Bf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function tU(e,t){return te(this,void 0,void 0,function(){var n,i,o,s,a,l;return Z(this,function(f){switch(f.label){case 0:return n=Cy(e),(s=n.Po.get(t))?(i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,$f(n.localStore,Yr(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,Sy(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Lh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function Sy(e,t,n,i){return te(this,void 0,void 0,function(){var o,s,a,l,f,d;return Z(this,function(p){switch(p.label){case 0:return e.Oo=function(m,g,b){return function(I,A,P,C){return te(this,void 0,void 0,function(){var j,F,J;return Z(this,function(x){switch(x.label){case 0:return j=A.view._o(P),j.Nn?[4,qf(I.localStore,A.query,!1).then(function(O){var L=O.documents;return A.view._o(L,j)})]:[3,2];case 1:j=x.sent(),x.label=2;case 2:return F=C&&C.targetChanges.get(A.targetId),J=A.view.applyChanges(j,I.isPrimaryClient,F),[2,(qm(I,A.targetId,J.To),J.snapshot)]}})})}(e,m,g,b)},[4,qf(e.localStore,t,!0)];case 1:return o=p.sent(),s=new QA(t,o.Bn),a=s._o(o.documents),l=cy.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=s.applyChanges(a,e.isPrimaryClient,l),qm(e,n,f.To),d=new Jj(t,n,s),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function nU(e,t){return te(this,void 0,void 0,function(){var n,i,o;return Z(this,function(s){switch(s.label){case 0:return n=de(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!kc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,gu(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),hc(n.remoteStore,i.targetId),yu(n,i.targetId)}).catch(us)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return yu(n,i.targetId),[4,gu(n.localStore,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function rU(e,t,n){return te(this,void 0,void 0,function(){var i,o,s,a;return Z(this,function(l){switch(l.label){case 0:i=Oy(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var p,m=de(f),g=Un.now(),b=d.reduce(function(I,A){return I.add(A.key)},mt());return m.persistence.runTransaction("Locally write mutations","readwrite",function(I){return m.Mn.pn(I,b).next(function(A){p=A;for(var P=[],C=0,j=d;C<j.length;C++){var F=j[C],J=CF(F,p.get(F.key));J!=null&&P.push(new so(F.key,J,GS(J.value.mapValue),yn.exists(!0)))}return m._n.addMutationBatch(I,g,P,d)})}).then(function(I){return I.applyToLocalDocumentSet(p),{batchId:I.batchId,changes:p}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,p){var m=f.xo[f.currentUser.toKey()];m||(m=new In(ze)),m=m.insert(d,p),f.xo[f.currentUser.toKey()]=m}(i,o.batchId,n),[4,ao(i,o.changes)];case 3:return l.sent(),[4,Mu(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Fu(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function YA(e,t){return te(this,void 0,void 0,function(){var n,i;return Z(this,function(o){switch(o.label){case 0:n=de(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,yj(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(Oe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?Oe(l.bo):s.removedDocuments.size>0&&(Oe(l.bo),l.bo=!1))}),[4,ao(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,us(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function PE(e,t,n){var i=de(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,a){var l=de(s);l.onlineState=a;var f=!1;l.queries.forEach(function(d,p){for(var m=0,g=p.listeners;m<g.length;m++)g[m].zr(a)&&(f=!0)}),f&&Ey(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function iU(e,t,n){return te(this,void 0,void 0,function(){var i,o,s,a,l,f;return Z(this,function(d){switch(d.label){case 0:return(i=de(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(s=o&&o.key)?(a=(a=new In(Te.comparator)).insert(s,_n.newNoDocument(s,Be.min())),l=mt().add(s),f=new ay(Be.min(),new Map,new Qt(ze),a,l),[4,YA(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(s),i.Co.delete(t),ky(i),[3,4];case 2:return[4,gu(i.localStore,t,!1).then(function(){return yu(i,t,n)}).catch(us)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function oU(e,t){return te(this,void 0,void 0,function(){var n,i,o;return Z(this,function(s){switch(s.label){case 0:n=de(e),i=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,gj(n.localStore,t)];case 2:return o=s.sent(),Ny(n,i,null),Ay(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,ao(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,us(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function sU(e,t,n){return te(this,void 0,void 0,function(){var i,o;return Z(this,function(s){switch(s.label){case 0:i=de(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var f=de(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var p;return f._n.lookupMutationBatch(d,l).next(function(m){return Oe(m!==null),p=m.keys(),f._n.removeMutationBatch(d,m)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,p)})})}(i.localStore,t)];case 2:return o=s.sent(),Ny(i,t,n),Ay(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,ao(i,o)];case 3:return s.sent(),[3,6];case 4:return[4,us(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function uU(e,t){return te(this,void 0,void 0,function(){var n,i,o,s,a;return Z(this,function(l){switch(l.label){case 0:uo((n=de(e)).remoteStore)||ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=de(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return d._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return s=l.sent(),a=Fu(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Ay(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Ny(e,t,n){var i=de(e),o=i.xo[i.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function yu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var s=o[i];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||XA(e,a)})}function XA(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(hc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),ky(e))}function qm(e,t,n){for(var i=0,o=n;i<o.length;i++){var s=o[i];s instanceof GA?(e.No.addReference(s.key,t),aU(e,s)):s instanceof WA?(ue("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||XA(e,s.key)):Ie()}}function aU(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(ue("SyncEngine","New document in limbo: "+n),e.So.add(i),ky(e))}function ky(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Te(ot.fromString(t)),i=e.Fo.next();e.Co.set(i,new Zj(n)),e.Do=e.Do.insert(n,i),Lh(e.remoteStore,new Ph(Yr(Nc(n.path)),i,2,tr.o))}}function ao(e,t,n){return te(this,void 0,void 0,function(){var i,o,s,a;return Z(this,function(l){switch(l.label){case 0:return i=de(e),o=[],s=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,t,n).then(function(p){if(p){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,p.fromCache?"not-current":"current"),o.push(p);var m=vj.Pn(d.targetId,p);s.push(m)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return te(this,void 0,void 0,function(){var p,m,g,b,I,A,P,C,j;return Z(this,function(F){switch(F.label){case 0:p=de(f),F.label=1;case 1:return F.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(J){return oe.forEach(d,function(x){return oe.forEach(x.bn,function(O){return p.persistence.referenceDelegate.addReference(J,x.targetId,O)}).next(function(){return oe.forEach(x.vn,function(O){return p.persistence.referenceDelegate.removeReference(J,x.targetId,O)})})})})];case 2:return F.sent(),[3,4];case 3:if(!ss(m=F.sent()))throw m;return ue("LocalStore","Failed to update sequence numbers: "+m),[3,4];case 4:for(g=0,b=d;g<b.length;g++)I=b[g],A=I.targetId,I.fromCache||(P=p.kn.get(A),C=P.snapshotVersion,j=P.withLastLimboFreeSnapshotVersion(C),p.kn=p.kn.insert(A,j));return[2]}})})}(i.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function cU(e,t){return te(this,void 0,void 0,function(){var n,i;return Z(this,function(o){switch(o.label){case 0:return(n=de(e)).currentUser.isEqual(t)?[3,3]:(ue("SyncEngine","User change. New user:",t.toKey()),[4,xA(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new re(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,ao(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function lU(e,t){var n=de(e),i=n.Co.get(t);if(i&&i.bo)return mt().add(i.key);var o=mt(),s=n.Vo.get(t);if(!s)return o;for(var a=0,l=s;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function fU(e,t){return te(this,void 0,void 0,function(){var n,i,o;return Z(this,function(s){switch(s.label){case 0:return[4,qf((n=de(e)).localStore,t.query,!0)];case 1:return i=s.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&qm(n,t.targetId,o.To),o)]}})})}function hU(e){return te(this,void 0,void 0,function(){var t;return Z(this,function(n){return[2,VA((t=de(e)).localStore).then(function(i){return ao(t,i)})]})})}function dU(e,t,n,i){return te(this,void 0,void 0,function(){var o,s;return Z(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=de(l),p=de(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(m){return p.jt(m,f).next(function(g){return g?d.Mn.pn(m,g):oe.resolve(null)})})}((o=de(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Mu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Ny(o,t,i||null),Ay(o,t),function(l,f){de(de(l)._n).Gt(f)}(o.localStore,t)):Ie(),a.label=4;case 4:return[4,ao(o,s)];case 5:return a.sent(),[3,7];case 6:ue("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function pU(e,t){return te(this,void 0,void 0,function(){var n,i,o,s,a,l,f,d;return Z(this,function(p){switch(p.label){case 0:return Cy(n=de(e)),Oy(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,xE(n,i.toArray())]);case 1:return o=p.sent(),n.$o=!0,[4,$m(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=o;s<a.length;s++)l=a[s],Lh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(m,g){n.sharedClientState.isLocalQueryTarget(g)?f.push(g):d=d.then(function(){return yu(n,g),gu(n.localStore,g,!0)}),hc(n.remoteStore,g)}),[4,d]);case 4:return p.sent(),[4,xE(n,f)];case 5:return p.sent(),function(m){var g=de(m);g.Co.forEach(function(b,I){hc(g.remoteStore,I)}),g.No.ts(),g.Co=new Map,g.Do=new In(Te.comparator)}(n),n.$o=!1,[4,$m(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function xE(e,t,n){return te(this,void 0,void 0,function(){var i,o,s,a,l,f,d,p,m,g,b,I,A,P;return Z(this,function(C){switch(C.label){case 0:i=de(e),o=[],s=[],a=0,l=t,C.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(p=i.Vo.get(f))&&p.length!==0?[4,$f(i.localStore,Yr(p[0]))]:[3,7]):[3,13];case 2:d=C.sent(),m=0,g=p,C.label=3;case 3:return m<g.length?(b=g[m],I=i.Po.get(b),[4,fU(i,I)]):[3,6];case 4:(A=C.sent()).snapshot&&s.push(A.snapshot),C.label=5;case 5:return m++,[3,3];case 6:return[3,11];case 7:return[4,MA(i.localStore,f)];case 8:return P=C.sent(),[4,$f(i.localStore,P)];case 9:return d=C.sent(),[4,Sy(i,JA(P),f,!1)];case 10:C.sent(),C.label=11;case 11:o.push(d),C.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(s),o)]}})})}function JA(e){return QS(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function vU(e){var t=de(e);return de(de(t.localStore).persistence).fn()}function mU(e,t,n,i){return te(this,void 0,void 0,function(){var o,s,a;return Z(this,function(l){switch(l.label){case 0:return(o=de(e)).$o?(ue("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,VA(o.localStore)];case 3:return s=l.sent(),a=ay.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,ao(o,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,gu(o.localStore,t,!0)];case 6:return l.sent(),yu(o,t,i),[3,8];case 7:Ie(),l.label=8;case 8:return[2]}})})}function gU(e,t,n){return te(this,void 0,void 0,function(){var i,o,s,a,l,f,d,p,m,g;return Z(this,function(b){switch(b.label){case 0:if(!(i=Cy(e)).$o)return[3,10];o=0,s=t,b.label=1;case 1:return o<s.length?(a=s[o],i.Vo.has(a)?(ue("SyncEngine","Adding an already active target "+a),[3,5]):[4,MA(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,$f(i.localStore,l)];case 3:return f=b.sent(),[4,Sy(i,JA(l),f.targetId,!1)];case 4:b.sent(),Lh(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(I){return Z(this,function(A){switch(A.label){case 0:return i.Vo.has(I)?[4,gu(i.localStore,I,!1).then(function(){hc(i.remoteStore,I),yu(i,I)}).catch(us)]:[3,2];case 1:A.sent(),A.label=2;case 2:return[2]}})},p=0,m=n,b.label=7;case 7:return p<m.length?(g=m[p],[5,d(g)]):[3,10];case 8:b.sent(),b.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function Cy(e){var t=de(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iU.bind(null,t),t.vo._r=Yj.bind(null,t.eventManager),t.vo.Mo=Xj.bind(null,t.eventManager),t}function Oy(e){var t=de(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sU.bind(null,t),t}var ZA=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return te(this,void 0,void 0,function(){return Z(this,function(n){switch(n.label){case 0:return this.R=xh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return PA(this.persistence,new RA,t.initialUser,this.R)},e.prototype.qo=function(t){return new Nj(Cj.bs,this.R)},e.prototype.Bo=function(t){return new FA},e.prototype.terminate=function(){return te(this,void 0,void 0,function(){return Z(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),eN=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=i,s.forceOwnership=o,s.synchronizeTabs=!1,s}return ke(t,e),t.prototype.initialize=function(n){return te(this,void 0,void 0,function(){var i=this;return Z(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,_j(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Oy(this.Qo.syncEngine)];case 4:return o.sent(),[4,Mu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return PA(this.persistence,new RA,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new aj(i,n.asyncQueue)},t.prototype.qo=function(n){var i=vy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?$r.withCacheSize(this.cacheSizeBytes):$r.DEFAULT;return new pj(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,jA(),pf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new FA},t}(ZA),yU=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return ke(t,e),t.prototype.initialize=function(n){return te(this,void 0,void 0,function(){var i,o=this;return Z(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof Qv?(this.sharedClientState.syncEngine={ui:dU.bind(null,i),ai:mU.bind(null,i),hi:gU.bind(null,i),fn:vU.bind(null,i),ci:hU.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return te(o,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return[4,pU(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var i=jA();if(!Qv.yt(i))throw new re(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=vy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Qv(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(eN),Km=function(){function e(){}return e.prototype.initialize=function(t,n){return te(this,void 0,void 0,function(){var i=this;return Z(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return PE(i.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=cU.bind(null,this.syncEngine),[4,$m(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new Qj},e.prototype.createDatastore=function(t){var n,i=xh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new xj(n));return function(s,a,l){return new Vj(s,a,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,s,a,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,s=function(f){return PE(l.syncEngine,f,0)},a=DE.yt()?new DE:new Dj,new jj(n,i,o,s,a)},e.prototype.createSyncEngine=function(t,n){return function(i,o,s,a,l,f,d){var p=new eU(i,o,s,a,l,f);return d&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return te(this,void 0,void 0,function(){var n;return Z(this,function(i){switch(i.label){case 0:return n=de(t),ue("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Lu(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),wU=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return te(this,void 0,void 0,function(){var n,i=this;return Z(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new re(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return te(this,void 0,void 0,function(){var l,f,d,p,m,g;return Z(this,function(b){switch(b.label){case 0:return l=de(s),f=fc(l.R)+"/documents",d={documents:a.map(function(I){return lc(l.R,I)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return p=b.sent(),m=new Map,p.forEach(function(I){var A=function(P,C){return"found"in C?function(j,F){Oe(!!F.found),F.found.name,F.found.updateTime;var J=ci(j,F.found.name),x=Rn(F.found.updateTime),O=new Zn({mapValue:{fields:F.found.fields}});return _n.newFoundDocument(J,x,O)}(P,C):"missing"in C?function(j,F){Oe(!!F.missing),Oe(!!F.readTime);var J=ci(j,F.missing),x=Rn(F.readTime);return _n.newNoDocument(J,x)}(P,C):Ie()}(l.R,I);m.set(A.key.toString(),A)}),g=[],[2,(a.forEach(function(I){var A=m.get(I.toString());Oe(!!A),g.push(A)}),g)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return i.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Rc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return te(this,void 0,void 0,function(){var t,n=this;return Z(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var a=Te.fromPath(s);n.mutations.push(new uy(a,n.precondition(a)))}),[4,function(o,s){return te(this,void 0,void 0,function(){var a,l,f;return Z(this,function(d){switch(d.label){case 0:return a=de(o),l=fc(a.R)+"/documents",f={writes:s.map(function(p){return jf(a.R,p)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Ie();n=Be.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new re(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?yn.updateTime(n):yn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Be.min()))throw new re(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yn.updateTime(n)}return yn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),bU=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new gy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return te(t,void 0,void 0,function(){var n,i,o=this;return Z(this,function(s){return n=new wU(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!os(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!uA(n)}return!1},e}(),_U=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=un.UNAUTHENTICATED,this.clientId=BS.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return te(o,void 0,void 0,function(){return Z(this,function(a){switch(a.label){case 0:return ue("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return te(this,void 0,void 0,function(){return Z(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return te(t,void 0,void 0,function(){var i,o;return Z(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=s.sent(),o=Fu(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(e,t){return te(this,void 0,void 0,function(){var n,i,o=this;return Z(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),i=n.initialUser,e.setCredentialChangeListener(function(a){return te(o,void 0,void 0,function(){return Z(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,xA(t.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function nN(e,t){return te(this,void 0,void 0,function(){var n,i;return Z(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Dy(e)];case 1:return n=o.sent(),ue("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return te(this,void 0,void 0,function(){var f,d;return Z(this,function(p){switch(p.label){case 0:return(f=de(a)).asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials"),d=uo(f),f.Or.add(3),[4,Lu(f)];case 1:return p.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),f.Or.delete(3),[4,Pc(f)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Dy(e){return te(this,void 0,void 0,function(){return Z(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ue("FirestoreClient","Using default OfflineComponentProvider"),[4,tN(e,new ZA)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Vh(e){return te(this,void 0,void 0,function(){return Z(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ue("FirestoreClient","Using default OnlineComponentProvider"),[4,nN(e,new Km)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function LE(e){return Dy(e).then(function(t){return t.persistence})}function rN(e){return Dy(e).then(function(t){return t.localStore})}function ME(e){return Vh(e).then(function(t){return t.remoteStore})}function iN(e){return Vh(e).then(function(t){return t.syncEngine})}function wu(e){return te(this,void 0,void 0,function(){var t,n;return Z(this,function(i){switch(i.label){case 0:return[4,Vh(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=tU.bind(null,t.syncEngine),n.onUnlisten=nU.bind(null,t.syncEngine),n)]}})})}function VE(e,t,n){var i=this;n===void 0&&(n={});var o=new qn;return e.asyncQueue.enqueueAndForget(function(){return te(i,void 0,void 0,function(){var s;return Z(this,function(a){switch(a.label){case 0:return s=function(l,f,d,p,m){var g=new Mh({next:function(I){f.enqueueAndForget(function(){return Iy(l,b)});var A=I.docs.has(d);!A&&I.fromCache?m.reject(new re(B.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&I.fromCache&&p&&p.source==="server"?m.reject(new re(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:function(I){return m.reject(I)}}),b=new Ty(Nc(d.path),g,{includeMetadataChanges:!0,so:!0});return _y(l,b)},[4,wu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function FE(e,t,n){var i=this;n===void 0&&(n={});var o=new qn;return e.asyncQueue.enqueueAndForget(function(){return te(i,void 0,void 0,function(){var s;return Z(this,function(a){switch(a.label){case 0:return s=function(l,f,d,p,m){var g=new Mh({next:function(I){f.enqueueAndForget(function(){return Iy(l,b)}),I.fromCache&&p.source==="server"?m.reject(new re(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:function(I){return m.reject(I)}}),b=new Ty(d,g,{includeMetadataChanges:!0,so:!0});return _y(l,b)},[4,wu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var IU=function(e,t,n,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},zf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),jE=new Map,oN=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},UE=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(un.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),EU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),TU=function(){function e(t){var n=this;this.currentUser=un.UNAUTHENTICATED,this.oc=new qn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){ue("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(ue("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(ue("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Oe(typeof o.accessToken=="string"),new oN(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return te(i,void 0,void 0,function(){return Z(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Oe(t===null||typeof t=="string"),new un(t)},e}(),SU=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=un.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),AU=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new SU(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(un.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(e,t,n){if(!n)throw new re(B.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Py(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new re(B.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function sN(e,t,n,i){if(t===!0&&i===!0)throw new re(B.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function BE(e){if(!Te.isDocumentKey(e))throw new re(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function $E(e){if(Te.isDocumentKey(e))throw new re(B.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Fh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Ie()}function ct(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new re(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Fh(e);throw new re(B.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function qE(e,t){if(t<=0)throw new re(B.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KE=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new re(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new re(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,sN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),dc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KE({}),this._settingsFrozen=!1,t instanceof zf?(this._databaseId=t,this._credentials=new UE):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new re(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zf(i.options.projectId)}(t),this._credentials=new TU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new re(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new re(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KE(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new UE;switch(n.type){case"gapi":var i=n.client;return Oe(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new AU(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new re(B.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=jE.get(t))&&(ue("ComponentProvider","Removing Datastore"),jE.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),St=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Gi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),rr=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Gi=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,Nc(o))||this)._path=o,s.type="collection",s}return ke(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new St(this.firestore,null,new Te(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(rr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=$t(e),Ry("collection","path",t),e instanceof dc)return $E(n=ot.fromString.apply(ot,Ct([t],i))),new Gi(e,null,n);if(!(e instanceof St||e instanceof Gi))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $E(n=ot.fromString.apply(ot,Ct([e.path],i)).child(ot.fromString(t))),new Gi(e.firestore,null,n)}function vf(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=$t(e),arguments.length===1&&(t=BS.u()),Ry("doc","path",t),e instanceof dc)return BE(n=ot.fromString.apply(ot,Ct([t],i))),new St(e,null,new Te(n));if(!(e instanceof St||e instanceof Gi))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return BE(n=e._path.child(ot.fromString.apply(ot,Ct([t],i)))),new St(e.firestore,e instanceof Gi?e.converter:null,new Te(n))}function aN(e,t){return e=$t(e),t=$t(t),(e instanceof St||e instanceof Gi)&&(t instanceof St||t instanceof Gi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function cN(e,t){return e=$t(e),t=$t(t),e instanceof rr&&t instanceof rr&&e.firestore===t.firestore&&kc(e._query,t._query)&&e.converter===t.converter}var NU=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new gy(this,"async_queue_retry"),this.Ic=function(){var i=pf();i&&ue("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=pf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=pf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new qn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return te(this,void 0,void 0,function(){var t,n=this;return Z(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ss(t=i.sent()))throw t;return ue("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Bt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=Gj.createAndSchedule(this,t,n,i,function(a){return o.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&Ie()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return te(this,void 0,void 0,function(){var t;return Z(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var s=o[i];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function bu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,s=["next","error","complete"];o<s.length;o++){var a=s[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(e)}var kU=-1,zt=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new NU,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return ke(t,e),t.prototype._terminate=function(){return this._firestoreClient||lN(this),this._firestoreClient.terminate()},t}(dc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(e){return e._firestoreClient||lN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function lN(e){var t,n=e._freezeSettings(),i=function(o,s,a,l){return new IU(o,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new _U(e._credentials,e._queue,i)}function HE(e,t,n){var i=this,o=new qn;return e.asyncQueue.enqueue(function(){return te(i,void 0,void 0,function(){var s;return Z(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,tN(e,n)];case 1:return a.sent(),[4,nN(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===B.FAILED_PRECONDITION||l.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function zE(e){if(e._initialized||e._terminated)throw new re(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new re(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),es=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e($n.fromBase64String(t))}catch(n){throw new re(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e($n.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),as=function(e){this._methodName=e},jh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new re(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new re(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return ze(this._lat,t._lat)||ze(this._long,t._long)},e}(),CU=/^__.*__$/,OU=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new so(t,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(t,this.data,n,this.fieldTransforms)},e}(),fN=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new so(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}var dN=function(){function e(t,n,i,o,s,a){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Gf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(hN(this.Nc)&&CU.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),DU=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||xh(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new dN({Nc:t,methodName:n,qc:i,path:Cr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function cs(e){var t=e._freezeSettings(),n=xh(e._databaseId);return new DU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Uh(e,t,n,i,o,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);Vy("Data must be an object, but it was:",a,i);var l,f,d=mN(i,a);if(s.merge)l=new su(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){for(var p=[],m=0,g=s.mergeFields;m<g.length;m++){var b=Hm(t,g[m],n);if(!a.contains(b))throw new re(B.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");yN(p,b)||p.push(b)}l=new su(p),f=a.fieldTransforms.filter(function(I){return l.covers(I.field)})}else l=null,f=a.fieldTransforms;return new OU(new Zn(d),l,f)}var xy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ke(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(as);function pN(e,t,n){return new dN({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var RU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ke(t,e),t.prototype._toFieldTransform=function(n){return new Oc(n.path,new lu)},t.prototype.isEqual=function(n){return n instanceof t},t}(as),PU=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return ke(t,e),t.prototype._toFieldTransform=function(n){var i=pN(this,n,!0),o=this.Kc.map(function(a){return ls(a,i)}),s=new Jo(o);return new Oc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(as),xU=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return ke(t,e),t.prototype._toFieldTransform=function(n){var i=pN(this,n,!0),o=this.Kc.map(function(a){return ls(a,i)}),s=new Zo(o);return new Oc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(as),LU=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return ke(t,e),t.prototype._toFieldTransform=function(n){var i=new fu(n.R,tA(n.R,this.Qc));return new Oc(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(as);function Ly(e,t,n,i){var o=e.Uc(1,t,n);Vy("Data must be an object, but it was:",o,i);var s=[],a=Zn.empty();is(i,function(f,d){var p=Fy(t,f,n);d=$t(d);var m=o.Oc(p);if(d instanceof xy)s.push(p);else{var g=ls(d,m);g!=null&&(s.push(p),a.set(p,g))}});var l=new su(s);return new fN(a,l,o.fieldTransforms)}function My(e,t,n,i,o,s){var a=e.Uc(1,t,n),l=[Hm(t,i,n)],f=[o];if(s.length%2!=0)throw new re(B.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)l.push(Hm(t,s[d])),f.push(s[d+1]);for(var p=[],m=Zn.empty(),g=l.length-1;g>=0;--g)if(!yN(p,l[g])){var b=l[g],I=f[g];I=$t(I);var A=a.Oc(b);if(I instanceof xy)p.push(b);else{var P=ls(I,A);P!=null&&(p.push(b),m.set(b,P))}}var C=new su(p);return new fN(m,C,a.fieldTransforms)}function vN(e,t,n,i){return i===void 0&&(i=!1),ls(n,e.Uc(i?4:3,t))}function ls(e,t){if(gN(e=$t(e)))return Vy("Unsupported field value:",t,e),mN(e,t);if(e instanceof as)return function(n,i){if(!hN(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],s=0,a=0,l=n;a<l.length;a++){var f=ls(l[a],i.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=$t(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tA(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Un.fromDate(n);return{timestampValue:cc(i.R,o)}}if(n instanceof Un)return o=new Un(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:cc(i.R,o)};if(n instanceof jh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof es)return{bytesValue:fA(i.R,n._byteString)};if(n instanceof St){o=i.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw i.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:ly(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+Fh(n))}(e,t)}function mN(e,t){var n={};return qS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):is(e,function(i,o){var s=ls(o,t.kc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function gN(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Un||e instanceof jh||e instanceof es||e instanceof St||e instanceof as)}function Vy(e,t,n){if(!gN(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=Fh(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function Hm(e,t,n){if((t=$t(t))instanceof zr)return t._internalPath;if(typeof t=="string")return Fy(e,t);throw Gf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var MU=new RegExp("[~\\*/\\[\\]]");function Fy(e,t,n){if(t.search(MU)>=0)throw Gf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(zr.bind.apply(zr,Ct([void 0],t.split("."))))()._internalPath}catch{throw Gf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Gf(e,t,n,i,o){var s=i&&!i.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||a)&&(f+=" (found",s&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new re(B.INVALID_ARGUMENT,(l+=". ")+e+f)}function yN(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pc=function(){function e(t,n,i,o,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new St(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new VU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Wf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),VU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ke(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(pc);function Wf(e,t){return typeof t=="string"?Fy(e,t):t instanceof zr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),fi=function(e){function t(n,i,o,s,a,l){var f=this;return(f=e.call(this,n,i,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return ke(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Ua(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(Wf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(pc),Ua=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ke(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(fi),Ui=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bo(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Ua(i._firestore,i._userDataWriter,o.key,o,new Bo(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var s=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Ua(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Ua(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:FU(l.type),doc:f,oldIndex:d,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function FU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}function wN(e,t){return e instanceof fi&&t instanceof fi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ui&&t instanceof Ui&&e._firestore===t._firestore&&cN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(e){if(Ff(e)&&e.explicitOrderBy.length===0)throw new re(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xc=function(){};function Oi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var s=o[i];e=s._apply(e)}return e}var jU=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=i,s.Gc=o,s.type="where",s}return ke(t,e),t.prototype._apply=function(n){var i=cs(n.firestore),o=function(s,a,l,f,d,p,m){var g;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new re(B.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){XE(m,p);for(var b=[],I=0,A=m;I<A.length;I++){var P=A[I];b.push(YE(f,s,P))}g={arrayValue:{values:b}}}else g=YE(f,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||XE(m,p),g=vN(l,"where",m,p==="in"||p==="not-in");var C=nr.create(d,p,g);return function(j,F){if(F.g()){var J=oy(j);if(J!==null&&!J.isEqual(F.field))throw new re(B.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+J.toString()+"' and '"+F.field.toString()+"'");var x=iy(j);x!==null&&IN(j,F.field,x)}var O=function(L,k){for(var $=0,T=L.filters;$<T.length;$++){var Ee=T[$];if(k.indexOf(Ee.op)>=0)return Ee.op}return null}(j,function(L){switch(L){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(F.op));if(O!==null)throw O===F.op?new re(B.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+F.op.toString()+"' filter."):new re(B.INVALID_ARGUMENT,"Invalid query. You cannot use '"+F.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,C),C}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new rr(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new mi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(xc),UU=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return ke(t,e),t.prototype._apply=function(n){var i=function(o,s,a){if(o.startAt!==null)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Ys(s,a);return function(f,d){if(iy(f)===null){var p=oy(f);p!==null&&IN(f,p,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new rr(n.firestore,n.converter,function(o,s){var a=o.explicitOrderBy.concat([s]);return new mi(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(xc),GE=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=i,s.Jc=o,s}return ke(t,e),t.prototype._apply=function(n){return new rr(n.firestore,n.converter,YS(n._query,this.Hc,this.Jc))},t}(xc),WE=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return ke(t,e),t.prototype._apply=function(n){var i=_N(n,this.type,this.Yc,this.Xc);return new rr(n.firestore,n.converter,function(o,s){return new mi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,i))},t}(xc),QE=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return ke(t,e),t.prototype._apply=function(n){var i=_N(n,this.type,this.Yc,this.Xc);return new rr(n.firestore,n.converter,function(o,s){return new mi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,i))},t}(xc);function _N(e,t,n,i){if(n[0]=$t(n[0]),n[0]instanceof pc)return function(s,a,l,f,d){if(!f)throw new re(B.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],m=0,g=cu(s);m<g.length;m++){var b=g[m];if(b.field.isKeyField())p.push(Lf(a,f.key));else{var I=f.data.field(b.field);if(ty(I))throw new re(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(I===null){var A=b.field.canonicalString();throw new re(B.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+A+"' (used as the orderBy) does not exist.")}p.push(I)}}return new ac(p,d)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=cs(e.firestore);return function(s,a,l,f,d,p){var m=s.explicitOrderBy;if(d.length>m.length)throw new re(B.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],b=0;b<d.length;b++){var I=d[b];if(m[b].field.isKeyField()){if(typeof I!="string")throw new re(B.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof I);if(!sy(s)&&I.indexOf("/")!==-1)throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+I+"' contains a slash.");var A=s.path.child(ot.fromString(I));if(!Te.isDocumentKey(A))throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+A+"' is not because it contains an odd number of segments.");var P=new Te(A);g.push(Lf(a,P))}else{var C=vN(l,f,I);g.push(C)}}return new ac(g,p)}(e._query,e.firestore._databaseId,o,t,n,i)}function YE(e,t,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!sy(t)&&n.indexOf("/")!==-1)throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(ot.fromString(n));if(!Te.isDocumentKey(i))throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Lf(e,new Te(i))}if(n instanceof St)return Lf(e,n._key);throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Fh(n)+".")}function XE(e,t){if(!Array.isArray(e)||e.length===0)throw new re(B.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new re(B.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function IN(e,t,n){if(!n.isEqual(t))throw new re(B.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jy=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Xo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(uu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Ie()}},e.prototype.convertObject=function(t,n){var i=this,o={};return is(t.fields,function(s,a){o[s]=i.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new jh(Ut(t.latitude),Ut(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=HS(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(sc(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Zi(t);return new Un(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=ot.fromString(t);Oe(wA(i));var o=new zf(i.get(1),i.get(3)),s=new Te(i.popFirst(5));return o.isEqual(n)||Bt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var BU=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return ke(t,e),t.prototype.convertBytes=function(n){return new es(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,i)},t}(jy),$U=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=cs(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=Bi(t,this._firestore),s=Bh(o.converter,n,i),a=Uh(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,yn.none())),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var a,l=Bi(t,this._firestore);return a=typeof(n=$t(n))=="string"||n instanceof zr?My(this._dataReader,"WriteBatch.update",l._key,n,i,o):Ly(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,yn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Bi(t,this._firestore);return this._mutations=this._mutations.concat(new Rc(n._key,yn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new re(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(e,t){if((e=$t(e)).firestore!==t)throw new re(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zo=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return ke(t,e),t.prototype.convertBytes=function(n){return new es(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,i)},t}(jy);function JE(e,t,n){e=ct(e,St);var i=ct(e.firestore,zt),o=Bh(e.converter,t,n);return Lc(i,[Uh(cs(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,yn.none())])}function ZE(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=ct(e,St);var s=ct(e.firestore,zt),a=cs(s);return Lc(s,[(typeof(t=$t(t))=="string"||t instanceof zr?My(a,"updateDoc",e._key,t,n,i):Ly(a,"updateDoc",e._key,t)).toMutation(e._key,yn.exists(!0))])}function EN(e){for(var t,n,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=$t(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||bu(o[l])||(a=o[l],l++);var f,d,p,m={includeMetadataChanges:a.includeMetadataChanges};if(bu(o[l])){var g=o[l];o[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),o[l+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),o[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}if(e instanceof St)d=ct(e.firestore,zt),p=Nc(e._key.path),f={next:function(A){o[l]&&o[l](zm(d,e,A))},error:o[l+1],complete:o[l+2]};else{var b=ct(e,rr);d=ct(b.firestore,zt),p=b._query;var I=new zo(d);f={next:function(A){o[l]&&o[l](new Ui(d,I,b,A))},error:o[l+1],complete:o[l+2]},bN(e._query)}return function(A,P,C,j){var F=this,J=new Mh(j),x=new Ty(P,J,C);return A.asyncQueue.enqueueAndForget(function(){return te(F,void 0,void 0,function(){var O;return Z(this,function(L){switch(L.label){case 0:return O=_y,[4,wu(A)];case 1:return[2,O.apply(void 0,[L.sent(),x])]}})})}),function(){J.Wo(),A.asyncQueue.enqueueAndForget(function(){return te(F,void 0,void 0,function(){var O;return Z(this,function(L){switch(L.label){case 0:return O=Iy,[4,wu(A)];case 1:return[2,O.apply(void 0,[L.sent(),x])]}})})})}}(mn(d),p,m,f)}function Lc(e,t){return function(n,i){var o=this,s=new qn;return n.asyncQueue.enqueueAndForget(function(){return te(o,void 0,void 0,function(){var a;return Z(this,function(l){switch(l.label){case 0:return a=rU,[4,iN(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,s])]}})})}),s.promise}(mn(e),t)}function zm(e,t,n){var i=n.docs.get(t._key),o=new zo(e);return new fi(e,o,t._key,i,new Bo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qU=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return ke(t,e),t.prototype.get=function(n){var i=this,o=Bi(n,this._firestore),s=new zo(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new fi(i._firestore,s,o._key,a._document,new Bo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=cs(t)}return e.prototype.get=function(t){var n=this,i=Bi(t,this._firestore),o=new BU(this._firestore);return this._transaction.lookup([i._key]).then(function(s){if(!s||s.length!==1)return Ie();var a=s[0];if(a.isFoundDocument())return new pc(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new pc(n._firestore,o,i._key,null,i.converter);throw Ie()})},e.prototype.set=function(t,n,i){var o=Bi(t,this._firestore),s=Bh(o.converter,n,i),a=Uh(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a,l=Bi(t,this._firestore);return a=typeof(n=$t(n))=="string"||n instanceof zr?My(this._dataReader,"Transaction.update",l._key,n,i,o):Ly(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Bi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){if(typeof Uint8Array>"u")throw new re(B.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function t1(){if(typeof atob>"u")throw new re(B.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var TN=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return t1(),new e(es.fromBase64String(t))},e.fromUint8Array=function(t){return e1(),new e(es.fromUint8Array(t))},e.prototype.toBase64=function(){return t1(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return e1(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),KU=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){zE(i=ct(i,zt));var s=mn(i),a=i._freezeSettings(),l=new Km;return HE(s,l,new eN(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){zE(n=ct(n,zt));var i=mn(n),o=n._freezeSettings(),s=new Km;return HE(i,s,new yU(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new re(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new qn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return te(i,void 0,void 0,function(){var s;return Z(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return te(this,void 0,void 0,function(){var f;return Z(this,function(d){switch(d.label){case 0:return pu.yt()?(f=l+"main",[4,pu.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(vy(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return s=a.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),SN=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof zf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Pf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,s,a,l){var f;l===void 0&&(l={});var d=(o=ct(o,dc))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==s&&Pf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:s+":"+a,ssl:!1})),l.mockUserToken){var p,m;if(typeof l.mockUserToken=="string")p=l.mockUserToken,m=un.MOCK_USER;else{p=hM(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var g=l.mockUserToken.sub||l.mockUserToken.user_id;if(!g)throw new re(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new un(g)}o._credentials=new EU(new oN(p,m))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return te(n,void 0,void 0,function(){var i,o;return Z(this,function(s){switch(s.label){case 0:return[4,LE(t)];case 1:return i=s.sent(),[4,ME(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=de(a);return l.Or.delete(0),Pc(l)}(o))]}})})})}(mn(ct(this._delegate,zt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return te(n,void 0,void 0,function(){var i,o;return Z(this,function(s){switch(s.label){case 0:return[4,LE(t)];case 1:return i=s.sent(),[4,ME(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!1),function(a){return te(this,void 0,void 0,function(){var l;return Z(this,function(f){switch(f.label){case 0:return(l=de(a)).Or.add(0),[4,Lu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(mn(ct(this._delegate,zt)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&sN("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new qn;return t.asyncQueue.enqueueAndForget(function(){return te(n,void 0,void 0,function(){var o;return Z(this,function(s){switch(s.label){case 0:return o=uU,[4,iN(t)];case 1:return[2,o.apply(void 0,[s.sent(),i])]}})})}),i.promise}(mn(ct(this._delegate,zt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,s){var a=this,l=new Mh(s);return o.asyncQueue.enqueueAndForget(function(){return te(a,void 0,void 0,function(){var f;return Z(this,function(d){switch(d.label){case 0:return f=function(p,m){de(p).Gr.add(m),m.next()},[4,wu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return te(a,void 0,void 0,function(){var f;return Z(this,function(d){switch(d.label){case 0:return f=function(p,m){de(p).Gr.delete(m)},[4,wu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(mn(n=ct(n,zt)),bu(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new re(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qf(this,uN(this._delegate,t))}catch(n){throw Nn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Go(this,vf(this._delegate,t))}catch(n){throw Nn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Kh(this,function(n,i){if(n=ct(n,dc),Ry("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new re(B.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new rr(n,null,function(o){return new mi(ot.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw Nn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(s,a){var l=this,f=new qn;return s.asyncQueue.enqueueAndForget(function(){return te(l,void 0,void 0,function(){var d;return Z(this,function(p){switch(p.label){case 0:return[4,function(m){return Vh(m).then(function(g){return g.datastore})}(s)];case 1:return d=p.sent(),new bU(s.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(mn(i),function(s){return o(new qU(i,s))})}(this._delegate,function(i){return t(new AN(n,i))})},e.prototype.batch=function(){var t=this;return mn(this._delegate),new NN(new $U(this._delegate,function(n){return Lc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new re(B.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new re(B.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),$h=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return ke(t,e),t.prototype.convertBytes=function(n){return new TN(new es(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Go.eu(i,this.firestore,null)},t}(jy);function HU(e){var t;t=e,Tr.setLogLevel(t)}var AN=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new $h(t)}return e.prototype.get=function(t){var n=this,i=$o(t);return this._delegate.get(i).then(function(o){return new vc(n._firestore,new fi(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=$o(t);return i?(Py("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=$o(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Ct([l,n,i],s)),this},e.prototype.delete=function(t){var n=$o(t);return this._delegate.delete(n),this},e}(),NN=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=$o(t);return i?(Py("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=$o(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Ct([l,n,i],s)),this},e.prototype.delete=function(t){var n=$o(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),qh=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Ua(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new mc(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var s=o.get(n);return s||(s=new e(t,new $h(t),n),o.set(n,s)),s},e}();qh.su=new WeakMap;var Go=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new $h(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new re(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new St(n._delegate,i,new Te(t)))},e.eu=function(t,n,i){return new e(n,new St(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Qf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qf(this.firestore,uN(this._delegate,t))}catch(n){throw Nn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=$t(t))instanceof St&&aN(this._delegate,t)},e.prototype.set=function(t,n){n=Py("DocumentReference.set",n);try{return n?JE(this._delegate,t,n):JE(this._delegate,t)}catch(i){throw Nn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?ZE(this._delegate,t):ZE.apply(void 0,Ct([this._delegate,t,n],i))}catch(s){throw Nn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Lc(ct((t=this._delegate).firestore,zt),[new Rc(t._key,yn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=kN(n),s=CN(n,function(a){return new vc(t.firestore,new fi(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return EN(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=ct(i,St);var o=ct(i.firestore,zt),s=mn(o),a=new zo(o);return function(l,f){var d=this,p=new qn;return l.asyncQueue.enqueueAndForget(function(){return te(d,void 0,void 0,function(){var m;return Z(this,function(g){switch(g.label){case 0:return m=function(b,I,A){return te(this,void 0,void 0,function(){var P,C;return Z(this,function(j){switch(j.label){case 0:return j.trys.push([0,2,,3]),[4,function(F,J){var x=de(F);return x.persistence.runTransaction("read document","readonly",function(O){return x.Mn.mn(O,J)})}(b,I)];case 1:return(C=j.sent()).isFoundDocument()?A.resolve(C):C.isNoDocument()?A.resolve(null):A.reject(new re(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return P=j.sent(),C=Fu(P,"Failed to get document '"+I+" from cache"),A.reject(C),[3,3];case 3:return[2]}})})},[4,rN(l)];case 1:return[2,m.apply(void 0,[g.sent(),f,p])]}})})}),p.promise}(s,i._key).then(function(l){return new fi(o,a,i._key,l,new Bo(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=ct(i,St);var o=ct(i.firestore,zt);return VE(mn(o),i._key,{source:"server"}).then(function(s){return zm(o,i,s)})}(this._delegate):function(i){i=ct(i,St);var o=ct(i.firestore,zt);return VE(mn(o),i._key).then(function(s){return zm(o,i,s)})}(this._delegate)).then(function(i){return new vc(n.firestore,new fi(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(qh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Nn(e,t,n){return e.message=e.message.replace(t,n),e}function kN(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!bu(i))return i}return{}}function CN(e,t){var n,i,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=bu(e[0])?e[0]:bu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var vc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Go(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return wN(this._delegate,t._delegate)},e}(),mc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ke(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(vc),Kh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new $h(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,Oi(this._delegate,function(o,s,a){var l=s,f=Wf("where",o);return new jU(f,l,a)}(t,n,i)))}catch(o){throw Nn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Oi(this._delegate,function(i,o){o===void 0&&(o="asc");var s=o,a=Wf("orderBy",i);return new UU(a,s)}(t,n)))}catch(i){throw Nn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Oi(this._delegate,function(n){return qE("limit",n),new GE("limit",n,"F")}(t)))}catch(n){throw Nn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Oi(this._delegate,function(n){return qE("limitToLast",n),new GE("limitToLast",n,"L")}(t)))}catch(n){throw Nn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new WE("startAt",i,!0)}.apply(void 0,t)))}catch(i){throw Nn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new WE("startAfter",i,!1)}.apply(void 0,t)))}catch(i){throw Nn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new QE("endBefore",i,!0)}.apply(void 0,t)))}catch(i){throw Nn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oi(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new QE("endAt",i,!1)}.apply(void 0,t)))}catch(i){throw Nn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return cN(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=ct(i,rr);var o=ct(i.firestore,zt),s=mn(o),a=new zo(o);return function(l,f){var d=this,p=new qn;return l.asyncQueue.enqueueAndForget(function(){return te(d,void 0,void 0,function(){var m;return Z(this,function(g){switch(g.label){case 0:return m=function(b,I,A){return te(this,void 0,void 0,function(){var P,C,j,F,J;return Z(this,function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),[4,qf(b,I,!0)];case 1:return J=x.sent(),P=new QA(I,J.Bn),C=P._o(J.documents),j=P.applyChanges(C,!1),A.resolve(j.snapshot),[3,3];case 2:return F=x.sent(),J=Fu(F,"Failed to execute query '"+I+" against cache"),A.reject(J),[3,3];case 3:return[2]}})})},[4,rN(l)];case 1:return[2,m.apply(void 0,[g.sent(),f,p])]}})})}),p.promise}(s,i._query).then(function(l){return new Ui(o,a,i,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=ct(i,rr);var o=ct(i.firestore,zt),s=mn(o),a=new zo(o);return FE(s,i._query,{source:"server"}).then(function(l){return new Ui(o,a,i,l)})}(this._delegate):function(i){i=ct(i,rr);var o=ct(i.firestore,zt),s=mn(o),a=new zo(o);return bN(i._query),FE(s,i._query).then(function(l){return new Ui(o,a,i,l)})}(this._delegate)).then(function(i){return new Gm(n.firestore,new Ui(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=kN(n),s=CN(n,function(a){return new Gm(t.firestore,new Ui(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return EN(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(qh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),zU=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new mc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Gm=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Kh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new mc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new zU(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new mc(i._firestore,o))})},e.prototype.isEqual=function(t){return wN(this._delegate,t._delegate)},e}(),Qf=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return ke(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Go(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Go(this.firestore,n===void 0?vf(this._delegate):vf(this._delegate,n))}catch(i){throw Nn(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,s){var a=ct(o.firestore,zt),l=vf(o),f=Bh(o.converter,s);return Lc(a,[Uh(cs(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,yn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Go(i.firestore,o)})},t.prototype.isEqual=function(n){return aN(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(qh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Kh);function $o(e){return ct(e,St)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GU=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(zr.bind.apply(zr,Ct([void 0],t)))}return e.documentId=function(){return new e(Cr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=$t(t))instanceof zr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),WU=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new RU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new xy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new PU("arrayUnion",o)}.apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new xU("arrayRemove",o)}.apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new LU("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),QU={Firestore:SN,GeoPoint:jh,Timestamp:Un,Blob:TN,Transaction:AN,WriteBatch:NN,DocumentReference:Go,DocumentSnapshot:vc,Query:Kh,QueryDocumentSnapshot:mc,QuerySnapshot:Gm,CollectionReference:Qf,FieldPath:GU,FieldValue:WU,setLogLevel:HU,CACHE_SIZE_UNLIMITED:kU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(e){(function(t,n){t.INTERNAL.registerComponent(new vh("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},QU)))})(e,function(t,n){return new SN(t,new zt(t,n),new KU)}),e.registerVersion("@firebase/firestore","2.4.1")}YU(Re);const XU={apiKey:"AIzaSyBXoXGXAc7kxUr-Qh8S-NU-vQVoJAmWapw",authDomain:"takenote-app-281c4.firebaseapp.com",projectId:"takenote-app-281c4",storageBucket:"takenote-app-281c4.appspot.com",messagingSenderId:"590311108266",appId:"1:590311108266:web:ea443cdf91dfee0756aad3"};Re.initializeApp(XU);const ai=Re.auth(),Uy=Re.firestore(),JU=Uy.collection("users"),Ba=Uy.collection("labels"),Xs=Uy.collection("notes"),By=bT("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await ai.createUserWithEmailAndPassword(e.email,e.password);await JU.doc(t.user.uid).set({username:e.username,email:e.email}),await t.user.updateProfile({displayName:e.username}),this.userLoggedIn=!0},async authenticate(e){await ai.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signout(){await ai.signOut(),this.userLoggedIn=!1}}});const ZU={name:"Login",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:100"},login_in_submission:!1,login_show_alert:!1,login_alert_msg:"Please wait! We are logging you in."}},methods:{...ro(By,["authenticate"]),async login(e){this.login_show_alert=!0,this.login_in_submission=!0,this.login_alert_msg="Please wait! We are logging you in.";try{await this.authenticate(e),_u.push("/TakeNote"),console.log("login")}catch(t){switch(this.login_in_submission=!1,console.log(t.code),t.code){case"auth/user-not-found":this.login_alert_msg="User not found";break;case"auth/wrong-password":this.login_alert_msg="Wrong password";break;case"auth/missing-email":this.login_alert_msg="Please input an email address";break;case"auth/missing-password":this.login_alert_msg="Please input a password";break;case"auth/admin-restricted-operation":this.login_alert_msg="Please input necessary details";break;default:this.login_alert_msg="Something went wrong"}return}}}},e2={class:"form-container"},t2={class:"logo-wrapper"},n2=V("img",{src:ph,alt:"Logo",class:"logo-img"},null,-1),r2=V("p",{class:"login-register__text"},"Never forget the important things again.",-1),i2={key:0,class:"error-text login-error-text"},o2={class:"inputs"},s2={class:"input"},u2={class:"input"},a2={class:"signin-signup__wrapper"},c2=V("p",null,"Don't have an account?",-1);function l2(e,t,n,i,o,s){const a=Xe("router-link"),l=Xe("vee-field"),f=Xe("ErrorMessage"),d=Xe("base-button"),p=Xe("vee-form");return Le(),at("div",e2,[Ae(p,{"validation-schema":o.loginSchema,class:"login-form",onSubmit:s.login},{default:ht(()=>[V("div",t2,[Ae(a,{to:{name:"Home"}},{default:ht(()=>[n2]),_:1})]),r2,o.login_show_alert?(Le(),at("p",i2,br(o.login_alert_msg),1)):rn("",!0),V("div",o2,[V("div",s2,[Ae(l,{name:"email",type:"email",placeholder:"Email",class:"email"})]),Ae(f,{class:"error-text",name:"email"}),V("div",u2,[Ae(l,{name:"password",type:"password",placeholder:"Password"})]),Ae(f,{class:"error-text",name:"password"}),Ae(d,{class:"login-register-btn yellow",type:"submit",onClick:s.login},{default:ht(()=>[kn("Log in")]),_:1},8,["onClick"])]),V("div",a2,[c2,Ae(a,{to:{name:"Register"}},{default:ht(()=>[kn("Sign up")]),_:1})])]),_:1},8,["validation-schema","onSubmit"])])}const f2=Zt(ZU,[["render",l2]]);const h2={name:"Register",data(){return{schema:{username:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",password:"required|min:9|max:100",confirm_password:"password_mismatch:@password"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_msg:"Please wait! Your account is being created."}},methods:{...ro(By,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_msg="Please wait! Your account is being created.";try{await this.createUser(e),_u.push("/login")}catch(t){switch(console.log(t.code),t.code){case"auth/email-already-in-use":this.reg_alert_msg="Email already in use";break;case"auth/invalid-email":this.reg_alert_msg="Invalid email";break;case"auth/operation-not-allowed":this.reg_alert_msg="Operation not allowed";break;case"auth/weak-password":this.reg_alert_msg="Weak password";break;case"auth/missing-email":this.reg_alert_msg="Please input an email address";break;case"auth/missing-password":this.reg_alert_msg="Please input a password";break;case"auth/admin-restricted-operation":this.reg_alert_msg="Please input necessary details";break;default:this.reg_alert_msg="Something went wrong"}return}}}},$y=e=>(Or("data-v-64dfa743"),e=e(),Dr(),e),d2={class:"form-container"},p2={class:"logo-wrapper"},v2=$y(()=>V("img",{src:ph,alt:"Logo",class:"logo-img"},null,-1)),m2=$y(()=>V("p",{class:"login-register__text"},"Never forget the important things again.",-1)),g2={key:0,class:"error-text reg-error-text"},y2={class:"inputs"},w2={class:"input"},b2={class:"input"},_2={class:"input"},I2={class:"input"},E2={class:"signin-signup__wrapper"},T2=$y(()=>V("p",null,"Already have an account?",-1));function S2(e,t,n,i,o,s){const a=Xe("router-link"),l=Xe("vee-field"),f=Xe("ErrorMessage"),d=Xe("base-button"),p=Xe("vee-form");return Le(),at("div",d2,[Ae(p,{"validation-schema":o.schema,class:"register-form",onSubmit:s.register},{default:ht(()=>[V("div",p2,[Ae(a,{to:{name:"Home"}},{default:ht(()=>[v2]),_:1})]),m2,o.reg_show_alert?(Le(),at("p",g2,br(o.reg_alert_msg),1)):rn("",!0),V("div",y2,[V("div",w2,[Ae(l,{name:"username",type:"text",placeholder:"Username"})]),Ae(f,{class:"error-text",name:"username"}),V("div",b2,[Ae(l,{name:"email",type:"email",placeholder:"Email"})]),Ae(f,{class:"error-text",name:"email"}),V("div",_2,[Ae(l,{name:"password",bails:!1},{default:ht(({field:m,errors:g})=>[V("input",dT({type:"password",placeholder:"Password"},m),null,16),(Le(!0),at(an,null,wg(g,b=>(Le(),at("div",{class:"error-text",key:b},br(b),1))),128))]),_:1})]),V("div",I2,[Ae(l,{name:"confirm_password",type:"password",placeholder:"Confirm Password"})]),Ae(f,{class:"error-text",name:"confirm_password"}),Ae(d,{class:"login-register-btn purple",type:"submit"},{default:ht(()=>[kn("Sign up")]),_:1})]),V("div",E2,[T2,Ae(a,{to:{name:"Login"}},{default:ht(()=>[kn("Sign in")]),_:1})])]),_:1},8,["validation-schema","onSubmit"])])}const A2=Zt(h2,[["render",S2],["__scopeId","data-v-64dfa743"]]);const N2={},ON=e=>(Or("data-v-09d17ba7"),e=e(),Dr(),e),k2={class:"form-container"},C2={class:"reset-form"},O2=ON(()=>V("h3",null,"Reset Password",-1)),D2=ON(()=>V("p",null,"Enter your email to reset it",-1)),R2={class:"inputs"},P2={class:"input"};function x2(e,t,n,i,o,s){const a=Xe("base-button");return Le(),at("div",k2,[V("form",C2,[O2,D2,V("div",R2,[V("div",P2,[Zs(V("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=l=>e.email=l)},null,512),[[fh,e.email]])]),Ae(a,{class:"login-register-btn gray"},{default:ht(()=>[kn("Reset")]),_:1})])])])}const L2=Zt(N2,[["render",x2],["__scopeId","data-v-09d17ba7"]]),to=bT("modal",{state:()=>({isOpen:!1,modalAnimation:!1,inputLabelModal:!1,updateLabelModal:!1,updateLabelID:null,updateLabelText:"",inputNoteModal:!1,updateNoteModal:!1,updateID:null,updateColor:"yellow",updateNoteTitle:"",updateDate:"",updateContent:""}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}},actions:{closeAll(){this.isOpen=!1,this.modalAnimation=!1,this.inputLabelModal=!1,this.updateLabelModal=!1,this.inputNoteModal=!1,this.updateNoteModal=!1},showInputLabelModal(){this.isOpen=!0,this.modalAnimation=!0,this.inputLabelModal=!0},showUpdateLabelModal(){this.isOpen=!0,this.modalAnimation=!0,this.updateLabelModal=!0},showInputNoteModal(){this.isOpen=!0,this.modalAnimation=!0,this.inputNoteModal=!0},showUpdateNoteModal(e,t,n,i,o){this.isOpen=!0,this.modalAnimation=!0,this.updateNoteModal=!0,this.updateID=e,this.updateColor=t,this.updateNoteTitle=n,this.updateDate=i,this.updateContent=o}}});const M2={name:"ModalWrapper",computed:{..._T(to,["hiddenClass","modalAnimation"])}},V2=e=>(Or("data-v-2fbc8e3e"),e=e(),Dr(),e),F2=V2(()=>V("div",{class:"blanket-wrapper"},[V("div")],-1));function j2(e,t,n,i,o,s){return Le(),at("div",{class:Nr(["modalWrapper__container",e.hiddenClass])},[F2,V("div",{class:Nr(["modal-container",{show:e.modalAnimation,"":!e.modalAnimation}])},[bg(e.$slots,"default",{},void 0,!0)],2)],2)}const Hh=Zt(M2,[["render",j2],["__scopeId","data-v-2fbc8e3e"]]);const U2={name:"InputLabel",components:{ModalWrapper:Hh},data(){return{schema:{labelTitle:"required|alpha_spaces"},labelTitle:"",labels:[]}},methods:{...ro(to,["closeAll"]),async upload(e){const t=new Date,n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,weekday:"short"},i=t.toLocaleString("en-US",n),o={uid:ai.currentUser.uid,labelTitle:e.labelTitle,date:i};this.labels.push(o),console.log(this.labels),await Ba.add(o),this.labelTitle="",this.closeAll(),this.$emit("display-label")}}},DN=e=>(Or("data-v-3dd9c5bd"),e=e(),Dr(),e),B2={class:"inputLabel__container"},$2=DN(()=>V("p",null,"Input Label Title",-1)),q2={class:"input"},K2={class:"btn__wrapper"},H2=DN(()=>V("button",{class:"btnSave",type:"submit"},"Save",-1));function z2(e,t,n,i,o,s){const a=Xe("vee-field"),l=Xe("vee-form"),f=Xe("modal-wrapper");return Le(),An(f,null,{default:ht(()=>[Ae(l,{"validation-schema":o.schema,onSubmit:s.upload},{default:ht(()=>[V("div",B2,[$2,V("div",q2,[Ae(a,{ref:"labelInput",name:"labelTitle",type:"text",placeholder:"Enter Label Title",modelValue:o.labelTitle,"onUpdate:modelValue":t[0]||(t[0]=d=>o.labelTitle=d)},null,8,["modelValue"])]),V("div",K2,[H2,V("button",{class:"btnCancel",onClick:t[1]||(t[1]=Ke((...d)=>e.closeAll&&e.closeAll(...d),["prevent"]))},"Cancel")])])]),_:1},8,["validation-schema","onSubmit"])]),_:1})}const G2=Zt(U2,[["render",z2],["__scopeId","data-v-3dd9c5bd"]]);const W2={props:["labelID","updateTitle"],name:"UpdateLabel",components:{ModalWrapper:Hh},data(){return{schema:{labelTitle:"required|alpha_spaces"},labelTitle:this.updateTitle,labels:[]}},created(){console.log(this.labelID),console.log(this.updateTitle)},methods:{...ro(to,["closeAll"]),async upload(e){const t=new Date,n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,weekday:"short"},i=t.toLocaleString("en-US",n),o={labelTitle:e.labelTitle,date:i};this.labels.push(o),console.log(this.labels),await Ba.doc(this.labelID).update(o),this.labelTitle="",this.closeAll(),this.$emit("display-label")}}},RN=e=>(Or("data-v-fb147994"),e=e(),Dr(),e),Q2={class:"inputLabel__container"},Y2=RN(()=>V("p",null,"Update Label Title",-1)),X2={class:"input"},J2={class:"btn__wrapper"},Z2=RN(()=>V("button",{class:"btnSave",type:"submit"},"Update",-1));function eB(e,t,n,i,o,s){const a=Xe("vee-field"),l=Xe("vee-form"),f=Xe("modal-wrapper");return Le(),An(f,null,{default:ht(()=>[Ae(l,{"validation-schema":o.schema,onSubmit:s.upload},{default:ht(()=>[V("div",Q2,[Y2,V("div",X2,[Ae(a,{ref:"labelInput",name:"labelTitle",type:"text",placeholder:"Enter Label Title",modelValue:o.labelTitle,"onUpdate:modelValue":t[0]||(t[0]=d=>o.labelTitle=d)},null,8,["modelValue"])]),V("div",J2,[Z2,V("button",{class:"btnCancel",onClick:t[1]||(t[1]=Ke((...d)=>e.closeAll&&e.closeAll(...d),["prevent"]))},"Cancel")])])]),_:1},8,["validation-schema","onSubmit"])]),_:1})}const tB=Zt(W2,[["render",eB],["__scopeId","data-v-fb147994"]]);const nB={props:["noteLabelID"],components:{ModalWrapper:Hh},name:"InputNote",data(){return{noteOption:!1,colorActive:"yellow",titleContent:"",content:"",placeholder:"Take a note...",labelId:this.labelID}},computed:{},methods:{...ro(to,["closeAll"]),toggleNoteOptions(){this.noteOption=!this.noteOption},pickColor(e){this.colorActive=e,this.noteOption=!1},autoResize(){const e=this.$refs.myTextarea;e.style.height="1.5rem",e.style.height=`${e.scrollHeight}px`},editText(e){const t=window.getSelection(),n=t.toString();if(this.$refs.editableText.contains(t.anchorNode))if(n.length>0)document.execCommand(e,!1,null);else{const o=t.getRangeAt(0),s=document.createElement("span");s.classList.add(e),s.appendChild(o.extractContents()),o.insertNode(s)}},applyEdit(e){this.editText(e)},async save(){if(this.titleContent===""){this.closeAll();return}else{const o=this.$refs.editableText;o.innerHTML==="Take a note..."?(this.content=" ",console.log(this.content)):(this.content=o.innerHTML,console.log(this.content))}const e=new Date,t={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,weekday:"short"},n=e.toLocaleString("en-US",t),i={lid:this.noteLabelID,noteTitle:this.titleContent,date:n,color:this.colorActive,content:this.content};await Xs.add(i),this.$emit("display-note"),this.closeAll()},handleInput(e){this.content=e.target.innerHTML},handleFocus(e){e.target.innerHTML===this.placeholder&&(e.target.innerHTML="")},handleBlur(e){e.target.innerHTML===""&&(e.target.innerHTML=this.placeholder)}},mounted(){this.$refs.myTextarea.focus(),this.autoResize();const e=this.$refs.editableText;e.innerHTML===""&&(e.innerHTML=this.placeholder)}},zh=e=>(Or("data-v-d67dd64c"),e=e(),Dr(),e),rB={key:0,class:"noteOption__wrapper"},iB={class:"color__wrapper"},oB={class:"noteList-header__wrapper"},sB={class:"btnStyling__wrapper"},uB=zh(()=>V("span",{class:"material-symbols-outlined"}," format_bold ",-1)),aB=[uB],cB=zh(()=>V("span",{class:"material-symbols-outlined"}," format_italic ",-1)),lB=[cB],fB=zh(()=>V("span",{class:"material-symbols-outlined"}," format_underlined ",-1)),hB=[fB],dB=zh(()=>V("span",{class:"material-symbols-outlined"}," strikethrough_s ",-1)),pB=[dB];function vB(e,t,n,i,o,s){const a=Xe("vee-form"),l=Xe("modal-wrapper");return Le(),An(l,null,{default:ht(()=>[Ae(a,{class:"noteList__wrapper",onSubmit:s.save},{default:ht(()=>[V("div",{class:Nr(["top-color",o.colorActive])},[V("span",{class:"material-symbols-outlined",onClick:t[0]||(t[0]=Ke((...f)=>s.toggleNoteOptions&&s.toggleNoteOptions(...f),["prevent"]))}," more_horiz "),V("span",{class:"material-symbols-outlined",onClick:t[1]||(t[1]=Ke((...f)=>s.save&&s.save(...f),["prevent"]))}," close ")],2),o.noteOption?(Le(),at("div",rB,[V("div",iB,[V("div",{class:"yellow",onClick:t[2]||(t[2]=Ke(f=>s.pickColor("yellow"),["prevent"]))}),V("div",{class:"green",onClick:t[3]||(t[3]=Ke(f=>s.pickColor("green"),["prevent"]))}),V("div",{class:"red",onClick:t[4]||(t[4]=Ke(f=>s.pickColor("red"),["prevent"]))}),V("div",{class:"blue",onClick:t[5]||(t[5]=Ke(f=>s.pickColor("blue"),["prevent"]))}),V("div",{class:"purple",onClick:t[6]||(t[6]=Ke(f=>s.pickColor("purple"),["prevent"]))}),V("div",{class:"gray",onClick:t[7]||(t[7]=Ke(f=>s.pickColor("gray"),["prevent"]))})])])):rn("",!0),V("div",oB,[Zs(V("textarea",{ref:"myTextarea","onUpdate:modelValue":t[8]||(t[8]=f=>o.titleContent=f),class:"title-textarea",onInput:t[9]||(t[9]=(...f)=>s.autoResize&&s.autoResize(...f)),onKeydown:t[10]||(t[10]=(...f)=>s.autoResize&&s.autoResize(...f)),placeholder:"Input Title"},null,544),[[fh,o.titleContent]])]),V("div",{ref:"editableText",class:"noteList-content__wrapper",contenteditable:"",onInput:t[11]||(t[11]=(...f)=>s.handleInput&&s.handleInput(...f)),onFocus:t[12]||(t[12]=(...f)=>s.handleFocus&&s.handleFocus(...f)),onBlur:t[13]||(t[13]=(...f)=>s.handleBlur&&s.handleBlur(...f)),id:"editable-text"},null,544),V("div",sB,[V("button",{onClick:t[14]||(t[14]=Ke(f=>s.applyEdit("bold"),["prevent"]))},aB),V("button",{onClick:t[15]||(t[15]=Ke(f=>s.applyEdit("italic"),["prevent"]))},lB),V("button",{onClick:t[16]||(t[16]=Ke(f=>s.applyEdit("underline"),["prevent"]))},hB),V("button",{onClick:t[17]||(t[17]=Ke(f=>s.applyEdit("strikethrough"),["prevent"]))},pB)])]),_:1},8,["onSubmit"])]),_:1})}const mB=Zt(nB,[["render",vB],["__scopeId","data-v-d67dd64c"]]);const gB={props:["noteID","color","title","date","noteContent"],components:{ModalWrapper:Hh},name:"UpdateNote",data(){return{noteOption:!1,colorActive:this.color,previousColor:this.color,titleContent:this.title,previousTitle:this.title,content:this.noteContent,labelId:this.noteID}},created(){console.log(this.content)},computed:{},methods:{...ro(to,["closeAll"]),toggleNoteOptions(){this.noteOption=!this.noteOption},pickColor(e){this.colorActive=e,this.noteOption=!1},autoResize(){const e=this.$refs.myTextarea;e.style.height="1.5rem",e.style.height=`${e.scrollHeight}px`},editText(e){const t=window.getSelection(),n=t.toString();if(this.$refs.editableText.contains(t.anchorNode))if(n.length>0)document.execCommand(e,!1,null);else{const o=t.getRangeAt(0),s=document.createElement("span");s.classList.add(e),s.appendChild(o.extractContents()),o.insertNode(s)}},applyEdit(e){this.editText(e)},async update(){const e=this.$refs.editableText;if(this.previousTitle===this.titleContent&&this.content===e.innerHTML&&this.previousColor===this.colorActive){this.closeAll();return}else{const t=this.$refs.editableText;this.content=t.innerHTML,this.content===""?this.content=" ":this.content=t.innerHTML;const n=new Date,i={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,weekday:"short"},o=n.toLocaleString("en-US",i),s={noteTitle:this.titleContent,date:o,color:this.colorActive,content:this.content},a=this.noteID;await Xs.doc(a).update(s),this.$emit("display-note"),this.closeAll()}},async deleteNote(){const e=this.noteID;await Xs.doc(e).delete(),this.$emit("display-note"),this.closeAll()}},mounted(){this.$refs.myTextarea.focus(),this.autoResize();const e=this.$refs.editableText;e.innerHTML===""&&(e.innerHTML=this.placeholder)}},ju=e=>(Or("data-v-c4dc1f57"),e=e(),Dr(),e),yB={key:0,class:"noteOption__wrapper"},wB={class:"color__wrapper"},bB=ju(()=>V("span",{class:"material-symbols-outlined"}," delete ",-1)),_B=ju(()=>V("p",null,"Delete Note",-1)),IB=[bB,_B],EB={class:"noteList-header__wrapper"},TB=["innerHTML"],SB={class:"btnStyling__wrapper"},AB=ju(()=>V("span",{class:"material-symbols-outlined"}," format_bold ",-1)),NB=[AB],kB=ju(()=>V("span",{class:"material-symbols-outlined"}," format_italic ",-1)),CB=[kB],OB=ju(()=>V("span",{class:"material-symbols-outlined"}," format_underlined ",-1)),DB=[OB],RB=ju(()=>V("span",{class:"material-symbols-outlined"}," strikethrough_s ",-1)),PB=[RB];function xB(e,t,n,i,o,s){const a=Xe("vee-form"),l=Xe("modal-wrapper");return Le(),An(l,null,{default:ht(()=>[Ae(a,{class:"noteList__wrapper",onSubmit:s.update},{default:ht(()=>[V("div",{class:Nr(["top-color",o.colorActive])},[V("span",{class:"material-symbols-outlined",onClick:t[0]||(t[0]=Ke((...f)=>s.toggleNoteOptions&&s.toggleNoteOptions(...f),["prevent"]))}," more_horiz "),V("span",{class:"material-symbols-outlined",onClick:t[1]||(t[1]=Ke((...f)=>s.update&&s.update(...f),["prevent"]))}," close ")],2),o.noteOption?(Le(),at("div",yB,[V("div",wB,[V("div",{class:"yellow",onClick:t[2]||(t[2]=Ke(f=>s.pickColor("yellow"),["prevent"]))}),V("div",{class:"green",onClick:t[3]||(t[3]=Ke(f=>s.pickColor("green"),["prevent"]))}),V("div",{class:"red",onClick:t[4]||(t[4]=Ke(f=>s.pickColor("red"),["prevent"]))}),V("div",{class:"blue",onClick:t[5]||(t[5]=Ke(f=>s.pickColor("blue"),["prevent"]))}),V("div",{class:"purple",onClick:t[6]||(t[6]=Ke(f=>s.pickColor("purple"),["prevent"]))}),V("div",{class:"gray",onClick:t[7]||(t[7]=Ke(f=>s.pickColor("gray"),["prevent"]))})]),V("div",{class:"deleteNote__wrapper",onClick:t[8]||(t[8]=Ke((...f)=>s.deleteNote&&s.deleteNote(...f),["prevent"]))},IB)])):rn("",!0),V("div",EB,[Zs(V("textarea",{ref:"myTextarea","onUpdate:modelValue":t[9]||(t[9]=f=>o.titleContent=f),class:"title-textarea",onInput:t[10]||(t[10]=(...f)=>s.autoResize&&s.autoResize(...f)),onKeydown:t[11]||(t[11]=(...f)=>s.autoResize&&s.autoResize(...f)),placeholder:"Input Title"},null,544),[[fh,o.titleContent]])]),V("div",{ref:"editableText",class:"noteList-content__wrapper",contenteditable:"",id:"editable-text",innerHTML:n.noteContent},null,8,TB),V("div",SB,[V("button",{onClick:t[12]||(t[12]=Ke(f=>s.applyEdit("bold"),["prevent"]))},NB),V("button",{onClick:t[13]||(t[13]=Ke(f=>s.applyEdit("italic"),["prevent"]))},CB),V("button",{onClick:t[14]||(t[14]=Ke(f=>s.applyEdit("underline"),["prevent"]))},DB),V("button",{onClick:t[15]||(t[15]=Ke(f=>s.applyEdit("strikethrough"),["prevent"]))},PB)])]),_:1},8,["onSubmit"])]),_:1})}const LB=Zt(gB,[["render",xB],["__scopeId","data-v-c4dc1f57"]]);const MB={props:["notes"],name:"NoteItem",methods:{...ro(to,["showUpdateNoteModal"])}},VB=["onClick"],FB={class:"noteList-header__wrapper"},jB={class:"notelist-title"},UB={class:"notelist-date"},BB={class:"noteList-content__wrapper"},$B=["innerHTML"];function qB(e,t,n,i,o,s){return Le(!0),at(an,null,wg(n.notes,a=>(Le(),at("li",{class:"noteList__wrapper",key:a.docID,onClick:Ke(l=>e.showUpdateNoteModal(a.docID,a.color,a.noteTitle,a.date,a.content),["prevent"])},[V("div",{class:Nr(["top-color",a.color])},null,2),V("div",FB,[V("p",jB,br(a.noteTitle),1),V("p",UB,br(a.date),1)]),V("div",BB,[V("div",{innerHTML:a.content},null,8,$B)])],8,VB))),128)}const KB=Zt(MB,[["render",qB],["__scopeId","data-v-8c89f432"]]),HB="/takenote-app/assets/emptynote-3beec221.svg";const zB={name:"emptyNotesUI"},PN=e=>(Or("data-v-25e70a30"),e=e(),Dr(),e),GB={class:"emptyNote__container"},WB=PN(()=>V("div",{class:"emptyNote__wrapper"},[V("img",{src:HB,alt:""})],-1)),QB=PN(()=>V("p",null,"You don't have any notes yet.",-1)),YB=[WB,QB];function XB(e,t,n,i,o,s){return Le(),at("div",GB,YB)}const JB=Zt(zB,[["render",XB],["__scopeId","data-v-25e70a30"]]),ZB="/takenote-app/assets/emptylabel-6d4d1318.svg";const e$={name:"emptyLabel",methods:{addLabel(){this.$emit("add-label")}}},qy=e=>(Or("data-v-d1d1932f"),e=e(),Dr(),e),t$={class:"emptyLabel__container"},n$=qy(()=>V("div",{class:"emptyLabel__wrapper"},[V("img",{src:ZB,alt:""})],-1)),r$=qy(()=>V("h2",null,"Add your first note",-1)),i$=qy(()=>V("p",null,"Relax and note something beautiful",-1));function o$(e,t,n,i,o,s){const a=Xe("base-button");return Le(),at("div",t$,[n$,r$,i$,Ae(a,{class:"yellow btnAdd",onClick:Ke(s.addLabel,["prevent"])},{default:ht(()=>[kn("Add Label")]),_:1},8,["onClick"])])}const s$=Zt(e$,[["render",o$],["__scopeId","data-v-d1d1932f"]]);const u$={name:"LabelLoading"},a$={class:"loader"},c$=hT('<p class="heading" data-v-1139df78>Loading</p><div class="loading" data-v-1139df78><div class="load" data-v-1139df78></div><div class="load" data-v-1139df78></div><div class="load" data-v-1139df78></div><div class="load" data-v-1139df78></div></div>',2),l$=[c$];function f$(e,t,n,i,o,s){return Le(),at("div",a$,l$)}const h$=Zt(u$,[["render",f$],["__scopeId","data-v-1139df78"]]);const d$={name:"NotesLoading"},p$={class:"loader"};function v$(e,t,n,i,o,s){return Le(),at("div",p$)}const m$=Zt(d$,[["render",v$],["__scopeId","data-v-ca6b6a7d"]]);const g$={name:"MainApp",components:{InputLabelModal:G2,UpdateLabelModal:tB,InputNoteModal:mB,UpdateNoteModal:LB,NoteItem:KB,EmptyNoteUI:JB,EmptyLabel:s$,LabelLoading:h$,NotesLoading:m$},data(){return{isToggleClickable:!1,year:"",mobile:!0,labelList:!1,labels:[],notes:[],emptyNotes:!1,labelTitle:"",labelID:null,searchQuery:"",searchResults:[],label_show_loading:!1,notes_show_loading:!1}},computed:{..._T(to,["inputLabelModal","updateLabelModal","updateLabelText","inputNoteModal","updateNoteModal","updateID","updateColor","updateNoteTitle","updateDate","updateContent"]),getCurrentYear(){return this.year=new Date().getFullYear()},filteredNotes(){if(this.searchQuery){const e=this.searchQuery.toLowerCase();return this.notes.filter(t=>{const n=t.noteTitle?t.noteTitle.toLowerCase():"",i=t.content?t.content.toLowerCase():"";return n.includes(e)||i.includes(e)})}else return this.notes}},mounted(){this.updateScreenSize(),this.fetchNotes(),window.addEventListener("resize",this.updateScreenSize);try{ai.currentUser.uid?console.log("logged user"):console.log("not log")}catch{_u.push("/")}},beforeUnmount(){window.removeEventListener("resize",this.updateScreenSize)},async created(){this.label_show_loading=!0;try{(await Ba.where("uid","==",ai.currentUser.uid).orderBy("date","desc").get()).forEach(this.addLabel),this.label_show_loading=!1,this.fetchNotes()}catch(e){console.log(e)}},methods:{...ro(to,["showInputLabelModal","showUpdateLabelModal","showInputNoteModal","showUpdateNoteModal"]),addLabel(e){const t={...e.data(),docID:e.id};this.labels.push(t);const n=this.labels[0];this.labelTitle=n.labelTitle,this.labelID=n.docID},async deleteLabel(){const e=await Xs.where("lid","==",this.labelID).get();await Ba.doc(this.labelID).delete(),e.forEach(t=>{Xs.doc(t.id).delete()}),this.labelTitle="",this.fetchLabel()},async fetchLabel(){this.label_show_loading=!0,this.labels=[],(await Ba.where("uid","==",ai.currentUser.uid).orderBy("date","desc").get()).forEach(this.addLabel),this.label_show_loading=!1,this.fetchNotes()},async fetchNotes(){this.notes_show_loading=!0,this.emptyNotes=!1;try{this.notes=[],(await Xs.where("lid","==",this.labelID).orderBy("date","desc").get()).forEach(t=>{const i={...t.data(),docID:t.id};this.notes.push(i),this.notes_show_loading=!1}),this.notes_show_loading=!1}catch(e){console.error(e)}this.notesAvailability()},displayNote(e,t){this.notes=[],this.labelTitle=t,this.labelID=e,this.fetchNotes(),this.mobile&&(this.labelList=!1),console.log(this.notes)},toggleLabelList(){this.mobile&&(this.labelList=!this.labelList)},updateScreenSize(){this.mobile=!(window.innerWidth>600),this.labelList=window.innerWidth>600},notesAvailability(){this.notes.length===0?this.emptyNotes=!0:this.emptyNotes=!1,this.notes_show_loading=!1},async logout(){try{await ai.signOut(),_u.push("/"),console.log("logout")}catch(e){console.error(e)}}}},fs=e=>(Or("data-v-667833fe"),e=e(),Dr(),e),y$={class:"mainApp__container"},w$={class:"side__container"},b$={class:"header__container mobile-margin"},_$=fs(()=>V("div",{class:"logo__wrapper"},[V("img",{src:ph,alt:""})],-1)),I$={class:"cta__wrapper"},E$={class:"labels__container"},T$={class:"labels__wrapper"},S$=fs(()=>V("p",null,"LABELS",-1)),A$={key:1,class:"label-lists__wrapper"},N$=["onClick"],k$={class:"mobile-margin"},C$={key:0,class:"footer__wrapper"},O$={class:"logout__wrapper"},D$=fs(()=>V("span",{class:"material-symbols-outlined"}," logout ",-1)),R$=fs(()=>V("p",null,"Design & Built by Mark Ian Reyes",-1)),P$={key:0,class:"main__container"},x$={class:"main-header__container"},L$={class:"main-header__wrapper mobile-margin"},M$={class:"title-note__wrapper"},V$={class:"cta-icon__wrapper"},F$={class:"action-note__wrapper"},j$={class:"search-input__wrapper"},U$=fs(()=>V("span",{class:"material-symbols-outlined"}," search ",-1)),B$={class:"btn__wrapper"},$$={class:"main-noteList__container mobile-margin"},q$={key:1,class:"emptyLabel__container"},K$={key:2,class:"footer__wrapper"},H$={class:"logout__wrapper"},z$=fs(()=>V("span",{class:"material-symbols-outlined"}," logout ",-1)),G$=fs(()=>V("p",null,"Design & Built by Mark Ian Reyes",-1));function W$(e,t,n,i,o,s){const a=Xe("base-button"),l=Xe("LabelLoading"),f=Xe("EmptyNoteUI"),d=Xe("NoteItem"),p=Xe("NotesLoading"),m=Xe("EmptyLabel"),g=Xe("InputLabelModal"),b=Xe("UpdateLabelModal"),I=Xe("InputNoteModal"),A=Xe("UpdateNoteModal");return Le(),at(an,null,[V("div",y$,[V("div",w$,[V("header",b$,[_$,V("div",I$,[Ae(a,{class:"purple",onClick:Ke(e.showInputLabelModal,["prevent"])},{default:ht(()=>[kn("New Note")]),_:1},8,["onClick"]),V("p",null,"Total Notes: "+br(o.labels.length),1)])]),V("nav",E$,[V("div",T$,[V("div",{class:"label-text__wrapper mobile-margin",onClick:t[0]||(t[0]=Ke((...P)=>s.toggleLabelList&&s.toggleLabelList(...P),["prevent"]))},[S$,o.mobile?(Le(),at("span",{key:0,class:Nr(["material-symbols-outlined",o.labelList?"active":""])}," expand_more ",2)):rn("",!0)])]),o.label_show_loading?(Le(),An(l,{key:0,class:"labelLoading"})):rn("",!0),o.labelList?(Le(),at("ul",A$,[(Le(!0),at(an,null,wg(o.labels,P=>(Le(),at("li",{class:"label-list",key:P.docID,onClick:Ke(C=>s.displayNote(P.docID,P.labelTitle),["prevent"])},[V("div",k$,br(P.labelTitle),1)],8,N$))),128))])):rn("",!0)]),o.mobile?rn("",!0):(Le(),at("footer",C$,[V("div",O$,[D$,V("button",{onClick:t[1]||(t[1]=Ke((...P)=>s.logout&&s.logout(...P),["prevent"])),class:"logoutBtn"},"Logout")]),V("p",null,"Copyright: © "+br(s.getCurrentYear),1),R$]))]),o.labels.length!==0?(Le(),at("main",P$,[V("div",x$,[V("div",L$,[V("div",M$,[V("h2",null,br(o.labelTitle),1),V("div",V$,[V("span",{class:"material-symbols-outlined",onClick:t[2]||(t[2]=Ke(P=>e.showUpdateLabelModal(),["prevent"]))}," edit "),V("span",{class:"material-symbols-outlined",onClick:t[3]||(t[3]=Ke((...P)=>s.deleteLabel&&s.deleteLabel(...P),["prevent"]))}," delete ")])]),V("div",F$,[V("div",j$,[U$,Zs(V("input",{type:"text",placeholder:"Search","onUpdate:modelValue":t[4]||(t[4]=P=>o.searchQuery=P)},null,512),[[fh,o.searchQuery]])]),V("div",B$,[Ae(a,{class:"yellow",onClick:Ke(e.showInputNoteModal,["prevent"])},{default:ht(()=>[kn("Create Note")]),_:1},8,["onClick"])])])])]),o.emptyNotes?(Le(),An(f,{key:0,class:"emptyNote"})):rn("",!0),V("div",$$,[V("ul",null,[Ae(d,{notes:s.filteredNotes},null,8,["notes"])]),o.notes_show_loading?(Le(),An(p,{key:0,class:"notesLoader"})):rn("",!0)])])):(Le(),at("main",q$,[V("div",null,[Ae(m,{class:"emptyLabel",onAddLabel:e.showInputLabelModal},null,8,["onAddLabel"])])])),o.mobile?(Le(),at("footer",K$,[V("div",H$,[z$,V("button",{onClick:t[5]||(t[5]=Ke((...P)=>s.logout&&s.logout(...P),["prevent"])),class:"logoutBtn"},"Logout")]),V("p",null,"Copyright: © "+br(s.getCurrentYear),1),G$])):rn("",!0)]),(Le(),An($P,{to:"body"},[e.inputLabelModal?(Le(),An(g,{key:0,onDisplayLabel:s.fetchLabel},null,8,["onDisplayLabel"])):rn("",!0),e.updateLabelModal?(Le(),An(b,{key:1,labelID:o.labelID,updateTitle:o.labelTitle,onDisplayLabel:s.fetchLabel},null,8,["labelID","updateTitle","onDisplayLabel"])):rn("",!0),e.inputNoteModal?(Le(),An(I,{key:2,noteLabelID:o.labelID,onDisplayNote:s.fetchNotes},null,8,["noteLabelID","onDisplayNote"])):rn("",!0),e.updateNoteModal?(Le(),An(A,{key:3,noteID:e.updateID,color:e.updateColor,title:e.updateNoteTitle,date:e.updateDate,noteContent:e.updateContent,onDisplayNote:s.fetchNotes},null,8,["noteID","color","title","date","noteContent","onDisplayNote"])):rn("",!0)]))],64)}const Q$=Zt(g$,[["render",W$],["__scopeId","data-v-667833fe"]]),xN=FL({history:eL("/takenote-app/"),routes:[{path:"/",name:"Home",component:oM,meta:{title:"Home"}},{path:"/login",name:"Login",component:f2,meta:{title:"Login"}},{path:"/register",name:"Register",component:A2,meta:{title:"Create Account"}},{path:"/forgot-password",name:"ForgotPassword",component:L2,meta:{title:"Reset Password"}},{path:"/TakeNote",name:"mainApp",component:Q$,meta:{title:"Main App",requiresAuth:!0}}]});xN.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}!By().userLoggedIn&&e.name!=="mainApp"?(n({name:"mainApp"}),window.history.pushState(null,"","/")):n()});const _u=xN;/**
  * vee-validate v4.8.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function Xr(e){return typeof e=="function"}function $a(e){return e==null}const ts=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function LN(e){return Number(e)>=0}function Y$(e){const t=parseFloat(e);return isNaN(t)?e:t}const MN={};function js(e,t){J$(e,t),MN[e]=t}function X$(e){return MN[e]}function J$(e,t){if(!Xr(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const Mc=Symbol("vee-validate-form"),Z$=Symbol("vee-validate-field-instance"),Yf=Symbol("Default empty value"),e3=typeof window<"u";function Wm(e){return Xr(e)&&!!e.__locatorRef}function Wi(e){return!!e&&Xr(e.parse)&&e.__type==="VVTypedSchema"}function qa(e){return!!e&&Xr(e.validate)}function Iu(e){return e==="checkbox"||e==="radio"}function t3(e){return ts(e)||Array.isArray(e)}function VN(e){return Array.isArray(e)?e.length===0:ts(e)&&Object.keys(e).length===0}function Gh(e){return/^\[.+\]$/i.test(e)}function n3(e){return FN(e)&&e.multiple}function FN(e){return e.tagName==="SELECT"}function r3(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function i3(e,t){return!r3(e,t)&&t.type!=="file"&&!Iu(t.type)}function jN(e){return Ky(e)&&e.target&&"submit"in e.target}function Ky(e){return e?!!(typeof Event<"u"&&Xr(Event)&&e instanceof Event||e&&e.srcElement):!1}function n1(e,t){return t in e&&e[t]!==Yf}function Gt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!Gt(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!Gt(i[1],t.get(i[0])))return!1;return!0}if(r1(e)&&r1(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!Gt(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function r1(e){return e3?e instanceof File:!1}function i1(e,t,n){typeof n.value=="object"&&(n.value=pt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function pt(e){if(typeof e!="object")return e;var t=0,n,i,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(pt(a))})):s==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(pt(l),pt(a))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(pt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)i1(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||i1(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function Hy(e){return Gh(e)?e.replace(/\[|\]/gi,""):e}function xt(e,t,n){return e?Gh(t)?e[Hy(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>t3(o)&&s in o?o[s]:n,e):n}function Pi(e,t,n){if(Gh(t)){e[Hy(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<i.length;s++){if(s===i.length-1){o[i[s]]=n;return}(!(i[s]in o)||$a(o[i[s]]))&&(o[i[s]]=LN(i[s+1])?[]:{}),o=o[i[s]]}}function Yv(e,t){if(Array.isArray(e)&&LN(t)){e.splice(Number(t),1);return}ts(e)&&delete e[t]}function tf(e,t){if(Gh(t)){delete e[Hy(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Yv(i,n[s]);break}if(!(n[s]in i)||$a(i[n[s]]))break;i=i[n[s]]}const o=n.map((s,a)=>xt(e,n.slice(0,a).join(".")));for(let s=o.length-1;s>=0;s--)if(VN(o[s])){if(s===0){Yv(e,n[0]);continue}Yv(o[s-1],n[s-1])}}function on(e){return Object.keys(e)}function zy(e,t=void 0){const n=no();return(n==null?void 0:n.provides[e])||jn(e,t)}function Qm(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(s=>Gt(s,t));return o>=0?i.splice(o,1):i.push(t),i}return Gt(e,t)?n:t}function o1(e,t=0){let n=null,i=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...o);i.forEach(a=>a(s)),i=[]},t),new Promise(s=>i.push(s))}}function o3(e,t){return ts(t)&&t.number?Y$(e):e}function Ym(e,t){let n;return async function(...o){const s=e(...o);n=s;const a=await s;return s!==n||(n=void 0,t(a,o)),a}}function s3({get:e,set:t}){const n=wt(pt(e()));return ut(e,i=>{Gt(i,n.value)||(n.value=pt(i))},{deep:!0}),ut(n,i=>{Gt(i,e())||t(pt(i))},{deep:!0}),n}function u3(e){return Xr(e)?e():K(e)}function a3(e){return Ce(()=>u3(e))}const Wh=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default;function Xv(e){if(UN(e))return e._value}function UN(e){return"_value"in e}function Gy(e){if(!Ky(e))return e;const t=e.target;if(Iu(t.type)&&UN(t))return Xv(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(n3(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Xv);if(FN(t)){const n=Array.from(t.options).find(i=>i.selected);return n?Xv(n):t.value}return t.value}function BN(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?ts(e)&&e._$$isNormalized?e:ts(e)?Object.keys(e).reduce((n,i)=>{const o=c3(e[i]);return e[i]!==!1&&(n[i]=s1(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=l3(i);return o.name&&(n[o.name]=s1(o.params)),n},t):t}function c3(e){return e===!0?[]:Array.isArray(e)||ts(e)?e:[e]}function s1(e){const t=n=>typeof n=="string"&&n[0]==="@"?f3(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const l3=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function f3(e){const t=n=>xt(n,e)||n[e];return t.__locatorRef=e,t}function h3(e){return Array.isArray(e)?e.filter(Wm):on(e).filter(t=>Wm(e[t])).map(t=>e[t])}const d3={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let p3=Object.assign({},d3);const Wy=()=>p3;async function $N(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await v3(o,e)).errors;return{errors:a,valid:!a.length}}async function v3(e,t){if(Wi(e.rules)||qa(e.rules))return g3(t,e.rules);if(Xr(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let p=0;p<f;p++){const m=l[p],g=await m(t,a);if(typeof g!="string"&&g)continue;const I=typeof g=="string"?g:KN(a);if(d.push(I),e.bails)return{errors:d}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:BN(e.rules)}),i=[],o=Object.keys(n.rules),s=o.length;for(let a=0;a<s;a++){const l=o[a],f=await y3(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}function m3(e){return!!e&&e.name==="ValidationError"}function qN(e){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!m3(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(s)}}}}}async function g3(e,t){const i=await(Wi(t)?t:qN(t)).parse(e),o=[];for(const s of i.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function y3(e,t,n){const i=X$(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=w3(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(t,o,s);return typeof a=="string"?{error:a}:{error:a?void 0:KN(s)}}function KN(e){const t=Wy().generateMessage;return t?t(e):"Field is invalid"}function w3(e,t){const n=i=>Wm(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function b3(e,t){const i=await(Wi(e)?e:qN(e)).parse(t),o={},s={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,p)=>`[${p}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!i.errors.length,results:o,errors:s,values:i.value}}async function _3(e,t,n){const o=on(e).map(async d=>{var p,m,g;const b=(p=n==null?void 0:n.names)===null||p===void 0?void 0:p[d],I=await $N(xt(t,d),e[d],{name:(b==null?void 0:b.name)||d,label:b==null?void 0:b.label,values:t,bails:(g=(m=n==null?void 0:n.bailsMap)===null||m===void 0?void 0:m[d])!==null&&g!==void 0?g:!0});return Object.assign(Object.assign({},I),{path:d})});let s=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:l,errors:f}}let u1=0;function I3(e,t){const{value:n,initialValue:i,setInitialValue:o}=HN(e,t.modelValue,t.form),{errorMessage:s,errors:a,setErrors:l}=S3(e,t.form),f=T3(n,i,a),d=u1>=Number.MAX_SAFE_INTEGER?0:++u1;function p(m){var g;"value"in m&&(n.value=m.value),"errors"in m&&l(m.errors),"touched"in m&&(f.touched=(g=m.touched)!==null&&g!==void 0?g:f.touched),"initialValue"in m&&o(m.initialValue)}return{id:d,path:e,value:n,initialValue:i,meta:f,errors:a,errorMessage:s,setState:p}}function HN(e,t,n){const i=wt(K(t));function o(){return n?xt(n.meta.value.initialValues,K(e),K(i)):K(i)}function s(d){if(!n){i.value=d;return}n.stageInitialValue(K(e),d,!0)}const a=Ce(o);if(!n)return{value:wt(o()),initialValue:a,setInitialValue:s};const l=E3(t,n,a,e);return n.stageInitialValue(K(e),l,!0),{value:Ce({get(){return xt(n.values,K(e))},set(d){n.setFieldValue(K(e),d)}}),initialValue:a,setInitialValue:s}}function E3(e,t,n,i){return st(e)?K(e):e!==void 0?e:xt(t.values,K(i),K(n))}function T3(e,t,n){const i=hr({touched:!1,pending:!1,valid:!0,validated:!!K(n).length,initialValue:Ce(()=>K(t)),dirty:Ce(()=>!Gt(K(e),K(t)))});return ut(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function S3(e,t){function n(o){return o?Array.isArray(o)?o:[o]:[]}if(!t){const o=wt([]);return{errors:o,errorMessage:Ce(()=>o.value[0]),setErrors:s=>{o.value=n(s)}}}const i=Ce(()=>t.errorBag.value[K(e)]||[]);return{errors:i,errorMessage:Ce(()=>i.value[0]),setErrors:o=>{t.setFieldErrorBag(K(e),n(o))}}}function A3(e,t,n){return Iu(n==null?void 0:n.type)?C3(e,t,n):zN(e,t,n)}function zN(e,t,n){const{initialValue:i,validateOnMount:o,bails:s,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:p,controlled:m,keepValueOnUnmount:g,modelPropName:b,syncVModel:I,form:A}=N3(n),P=m?zy(Mc):void 0,C=A||P,j=a3(e);let F=!1;const{id:J,value:x,initialValue:O,meta:L,setState:k,errors:$,errorMessage:T}=I3(j,{modelValue:i,form:C});I&&O3({value:x,prop:b,handleChange:fe});const Ee=()=>{L.touched=!0},Ne=Ce(()=>{let R=K(t);const H=K(C==null?void 0:C.schema);return H&&!qa(H)&&!Wi(H)&&(R=k3(H,K(j))||R),qa(R)||Wi(R)||Xr(R)||Array.isArray(R)?R:BN(R)});async function $e(R){var H,pe;return C!=null&&C.validateSchema?(H=(await C.validateSchema(R)).results[K(j)])!==null&&H!==void 0?H:{valid:!0,errors:[]}:$N(x.value,Ne.value,{name:K(j),label:K(f),values:(pe=C==null?void 0:C.values)!==null&&pe!==void 0?pe:{},bails:s})}const xe=Ym(async()=>(L.pending=!0,L.validated=!0,$e("validated-only")),R=>(F&&(R.valid=!0,R.errors=[]),k({errors:R.errors}),L.pending=!1,R)),be=Ym(async()=>$e("silent"),R=>(F&&(R.valid=!0),L.valid=R.valid,R));function he(R){return(R==null?void 0:R.mode)==="silent"?be():xe()}function fe(R,H=!0){const pe=Gy(R);x.value=pe,!d&&H&&xe()}Nu(()=>{if(o)return xe();(!C||!C.validateSchema)&&be()});function me(R){L.touched=R}let Ge,tt=pt(x.value);function it(){Ge=ut(x,(R,H)=>{if(Gt(R,H)&&Gt(R,tt))return;(d?xe:be)(),tt=pt(R)},{deep:!0})}it();function Ze(R){var H;Ge==null||Ge();const pe=R&&"value"in R?R.value:O.value;k({value:pt(pe),initialValue:pt(pe),touched:(H=R==null?void 0:R.touched)!==null&&H!==void 0?H:!1,errors:(R==null?void 0:R.errors)||[]}),L.pending=!1,L.validated=!1,be(),er(()=>{it()})}function Ot(R){x.value=R}function en(R){k({errors:Array.isArray(R)?R:[R]})}const W={id:J,name:j,label:f,value:x,meta:L,errors:$,errorMessage:T,type:a,checkedValue:l,uncheckedValue:p,bails:s,keepValueOnUnmount:g,resetField:Ze,handleReset:()=>Ze(),validate:he,handleChange:fe,handleBlur:Ee,setState:k,setTouched:me,setErrors:en,setValue:Ot};if(Hi(Z$,W),st(t)&&typeof K(t)!="function"&&ut(t,(R,H)=>{Gt(R,H)||(L.validated?xe():be())},{deep:!0}),!C)return W;C.register(W),ku(()=>{F=!0,C.unregister(W)});const ce=Ce(()=>{const R=Ne.value;return!R||Xr(R)||qa(R)||Wi(R)||Array.isArray(R)?{}:Object.keys(R).reduce((H,pe)=>{const We=h3(R[pe]).map(_e=>_e.__locatorRef).reduce((_e,E)=>{const D=xt(C.values,E)||C.values[E];return D!==void 0&&(_e[E]=D),_e},{});return Object.assign(H,We),H},{})});return ut(ce,(R,H)=>{if(!Object.keys(R).length)return;!Gt(R,H)&&(L.validated?xe():be())}),W}function N3(e){var t;const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),o=((t=e==null?void 0:e.syncVModel)!==null&&t!==void 0?t:!0)&&!("initialValue"in(e||{}))?Xm(no(),(e==null?void 0:e.modelPropName)||"modelValue"):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},n()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled;return Object.assign(Object.assign(Object.assign({},n()),e||{}),{initialValue:o,controlled:a??!0,checkedValue:s})}function k3(e,t){if(e)return e[t]}function C3(e,t,n){const i=n!=null&&n.standalone?void 0:zy(Mc),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=Ce(()=>{const m=K(l.value),g=K(o);return Array.isArray(m)?m.findIndex(b=>Gt(b,g))>=0:Gt(g,m)});function p(m,g=!0){var b;if(d.value===((b=m==null?void 0:m.target)===null||b===void 0?void 0:b.checked)){g&&l.validate();return}let I=Gy(m);i||(I=Qm(K(l.value),K(o),K(s))),f(I,g)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:p})}return a(zN(e,t,n))}function O3({prop:e,value:t,handleChange:n}){const i=no();if(!i)return;const o=e||"modelValue",s=`update:${o}`;o in i.props&&(ut(t,a=>{Gt(a,Xm(i,o))||i.emit(s,a)}),ut(()=>Xm(i,o),a=>{if(a===Yf&&t.value===void 0)return;const l=a===Yf?void 0:a;Gt(l,o3(t.value,i.props.modelModifiers))||n(l)}))}function Xm(e,t){if(e)return e.props[t]}const D3=Jr({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Wy().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Yf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Ht(e,"rules"),i=Ht(e,"name"),o=Ht(e,"label"),s=Ht(e,"uncheckedValue"),a=Ht(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:p,handleChange:m,handleBlur:g,setTouched:b,resetField:I,handleReset:A,meta:P,checked:C,setErrors:j}=A3(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:P3(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a}),F=function($,T=!0){m($,T),t.emit("update:modelValue",f.value)},J=k=>{Iu(t.attrs.type)||(f.value=Gy(k))},x=function($){J($),t.emit("update:modelValue",f.value)},O=Ce(()=>{const{validateOnInput:k,validateOnChange:$,validateOnBlur:T,validateOnModelUpdate:Ee}=R3(e),Ne=[g,t.attrs.onBlur,T?p:void 0].filter(Boolean),$e=[fe=>F(fe,k),t.attrs.onInput].filter(Boolean),xe=[fe=>F(fe,$),t.attrs.onChange].filter(Boolean),be={name:e.name,onBlur:Ne,onInput:$e,onChange:xe};be["onUpdate:modelValue"]=fe=>F(fe,Ee),Iu(t.attrs.type)&&C&&(be.checked=C.value);const he=a1(e,t);return i3(he,t.attrs)&&(be.value=f.value),be});function L(){return{field:O.value,value:f.value,meta:P,errors:l.value,errorMessage:d.value,validate:p,resetField:I,handleChange:F,handleInput:x,handleReset:A,handleBlur:g,setTouched:b,setErrors:j}}return t.expose({setErrors:j,setTouched:b,reset:I,validate:p,handleChange:m}),()=>{const k=Cu(a1(e,t)),$=Wh(k,t,L);return k?Wr(k,Object.assign(Object.assign({},t.attrs),O.value),$):$}}});function a1(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function R3(e){var t,n,i,o;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Wy();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function P3(e,t){return Iu(t.attrs.type)?n1(e,"modelValue")?e.modelValue:void 0:n1(e,"modelValue")?e.modelValue:t.attrs.value}const x3=D3;let L3=0;function GN(e){const t=K(e==null?void 0:e.initialValues)||{},n=K(e==null?void 0:e.validationSchema);return n&&Wi(n)&&Xr(n.cast)?pt(n.cast(t)||{}):pt(t)}function M3(e){var t;const n=L3++,i=new Set;let o=!1;const s=wt({}),a=wt(!1),l=wt(0),f=[],d=hr(GN(e)),{errorBag:p,setErrorBag:m,setFieldErrorBag:g}=j3(e==null?void 0:e.initialErrors),b=Ce(()=>on(p.value).reduce((_,N)=>{const M=p.value[N];return M&&M.length&&(_[N]=M[0]),_},{}));function I(_){const N=s.value[_];return Array.isArray(N)?N[0]:N}function A(_){return!!s.value[_]}const P=Ce(()=>on(s.value).reduce((_,N)=>{const M=I(N);return M&&(_[N]={name:K(M.name)||"",label:K(M.label)||""}),_},{})),C=Ce(()=>on(s.value).reduce((_,N)=>{var M;const q=I(N);return q&&(_[N]=(M=q.bails)!==null&&M!==void 0?M:!0),_},{})),j=Object.assign({},(e==null?void 0:e.initialErrors)||{}),F=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:J,originalInitialValues:x,setInitialValues:O}=F3(s,d,e),L=V3(s,d,x,b),k=Ce(()=>[...i,...on(s.value)].reduce((_,N)=>{const M=xt(d,N);return Pi(_,N,M),_},{})),$=e==null?void 0:e.validationSchema,T=o1(ie,5),Ee=o1(ie,5),Ne=Ym(async _=>await _==="silent"?T():Ee(),(_,[N])=>{const M=he.fieldsByPath.value||{},q=on(he.errorBag.value);return[...new Set([...on(_.results),...on(M),...q])].reduce((X,Q)=>{const ve=M[Q],De=(_.results[Q]||{errors:[]}).errors,Fe={errors:De,valid:!De.length};if(X.results[Q]=Fe,Fe.valid||(X.errors[Q]=Fe.errors[0]),!ve)return tt(Q,De),X;if(me(ve,Qe=>Qe.meta.valid=Fe.valid),N==="silent")return X;const Hn=Array.isArray(ve)?ve.some(Qe=>Qe.meta.validated):ve.meta.validated;return N==="validated-only"&&!Hn||me(ve,Qe=>Qe.setState({errors:Fe.errors})),X},{valid:_.valid,results:{},errors:{}})});function $e(_){return function(M,q){return function(X){return X instanceof Event&&(X.preventDefault(),X.stopPropagation()),R(on(s.value).reduce((Q,ve)=>(Q[ve]=!0,Q),{})),a.value=!0,l.value++,U().then(Q=>{const ve=pt(d);if(Q.valid&&typeof M=="function"){const De=pt(k.value);let Fe=_?De:ve;return Q.values&&(Fe=Q.values),M(Fe,{evt:X,controlledValues:De,setErrors:it,setFieldError:tt,setTouched:R,setFieldTouched:ce,setValues:Ot,setFieldValue:Ze,resetForm:pe,resetField:H})}!Q.valid&&typeof q=="function"&&q({values:ve,evt:X,errors:Q.errors,results:Q.results})}).then(Q=>(a.value=!1,Q),Q=>{throw a.value=!1,Q})}}}const be=$e(!1);be.withControlled=$e(!0);const he={formId:n,fieldsByPath:s,values:d,controlledValues:k,errorBag:p,errors:b,schema:$,submitCount:l,meta:L,isSubmitting:a,fieldArrays:f,keepValuesOnUnmount:F,validateSchema:K($)?Ne:void 0,validate:U,register:E,unregister:D,setFieldErrorBag:g,validateField:G,setFieldValue:Ze,setValues:Ot,setErrors:it,setFieldError:tt,setFieldTouched:ce,setTouched:R,resetForm:pe,resetField:H,handleSubmit:be,stageInitialValue:se,unsetInitialValue:Y,setFieldInitialValue:ae,useFieldModel:W};function fe(_){return Array.isArray(_)}function me(_,N){return Array.isArray(_)?_.forEach(N):N(_)}function Ge(_){Object.values(s.value).forEach(N=>{N&&me(N,_)})}function tt(_,N){g(_,N)}function it(_){m(_)}function Ze(_,N,{force:M}={force:!1}){var q;const ne=s.value[_],X=pt(N);if(!ne){Pi(d,_,X);return}if(fe(ne)&&((q=ne[0])===null||q===void 0?void 0:q.type)==="checkbox"&&!Array.isArray(N)){const ve=pt(Qm(xt(d,_)||[],N,void 0));Pi(d,_,ve);return}let Q=X;!fe(ne)&&ne.type==="checkbox"&&!M&&!o&&(Q=pt(Qm(xt(d,_),N,K(ne.uncheckedValue)))),Pi(d,_,Q)}function Ot(_){on(d).forEach(N=>{delete d[N]}),on(_).forEach(N=>{Ze(N,_[N])}),f.forEach(N=>N&&N.reset())}function en(_){const{value:N}=HN(_,void 0,he);return ut(N,()=>{A(K(_))||U({mode:"validated-only"})},{deep:!0}),i.add(K(_)),N}function W(_){return Array.isArray(_)?_.map(en):en(_)}function ce(_,N){const M=s.value[_];M&&me(M,q=>q.setTouched(N))}function R(_){on(_).forEach(N=>{ce(N,!!_[N])})}function H(_,N){const M=s.value[_];M&&me(M,q=>q.resetField(N))}function pe(_){o=!0,Ge(M=>M.resetField());const N=_!=null&&_.values?_.values:x.value;O(N),Ot(N),_!=null&&_.touched&&R(_.touched),it((_==null?void 0:_.errors)||{}),l.value=(_==null?void 0:_.submitCount)||0,er(()=>{o=!1})}function We(_,N){const M=Xi(_),q=N;if(!s.value[q]){s.value[q]=M;return}const ne=s.value[q];ne&&!Array.isArray(ne)&&(s.value[q]=[ne]),s.value[q]=[...s.value[q],M]}function _e(_,N){const M=N,q=s.value[M];if(q){if(!fe(q)&&_.id===q.id){delete s.value[M];return}if(fe(q)){const ne=q.findIndex(X=>X.id===_.id);if(ne===-1)return;q.splice(ne,1),q.length||delete s.value[M]}}}function E(_){const N=K(_.name);We(_,N),st(_.name)&&ut(_.name,async(q,ne)=>{await er(),_e(_,ne),We(_,q),(b.value[ne]||b.value[q])&&(tt(ne,void 0),G(q)),await er(),A(ne)||tf(d,ne)});const M=K(_.errorMessage);M&&(j==null?void 0:j[N])!==M&&G(N),delete j[N]}function D(_){const N=K(_.name),M=s.value[N],q=!!M&&fe(M);_e(_,N),er(()=>{var ne;const X=(ne=K(_.keepValueOnUnmount))!==null&&ne!==void 0?ne:K(F),Q=xt(d,N);if(q&&(M===s.value[N]||!s.value[N])&&!X)if(Array.isArray(Q)){const De=Q.findIndex(Fe=>Gt(Fe,K(_.checkedValue)));if(De>-1){const Fe=[...Q];Fe.splice(De,1),Ze(N,Fe,{force:!0})}}else Q===K(_.checkedValue)&&tf(d,N);if(!A(N)){if(tt(N,void 0),X||q&&Array.isArray(Q)&&!VN(Q))return;tf(d,N)}})}async function U(_){const N=(_==null?void 0:_.mode)||"force";if(N==="force"&&Ge(X=>X.meta.validated=!0),he.validateSchema)return he.validateSchema(N);const M=await Promise.all(Object.values(s.value).map(X=>{const Q=Array.isArray(X)?X[0]:X;return Q?Q.validate(_).then(ve=>({key:K(Q.name),valid:ve.valid,errors:ve.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),q={},ne={};for(const X of M)q[X.key]={valid:X.valid,errors:X.errors},X.errors.length&&(ne[X.key]=X.errors[0]);return{valid:M.every(X=>X.valid),results:q,errors:ne}}async function G(_){const N=s.value[_];return N?Array.isArray(N)?N.map(M=>M.validate())[0]:N.validate():Promise.resolve({errors:[],valid:!0})}function Y(_){tf(J.value,_)}function se(_,N,M=!1){Pi(d,_,N),ae(_,N),M&&!(e!=null&&e.initialValues)&&Pi(x.value,_,pt(N))}function ae(_,N){Pi(J.value,_,pt(N))}async function ie(){const _=K($);return _?qa(_)||Wi(_)?await b3(_,d):await _3(_,d,{names:P.value,bailsMap:C.value}):{valid:!0,results:{},errors:{}}}const le=be((_,{evt:N})=>{jN(N)&&N.target.submit()});return Nu(()=>{if(e!=null&&e.initialErrors&&it(e.initialErrors),e!=null&&e.initialTouched&&R(e.initialTouched),e!=null&&e.validateOnMount){U();return}he.validateSchema&&he.validateSchema("silent")}),st($)&&ut($,()=>{var _;(_=he.validateSchema)===null||_===void 0||_.call(he,"validated-only")}),Hi(Mc,he),Object.assign(Object.assign({},he),{handleReset:()=>pe(),submitForm:le})}function V3(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},s=Ce(()=>!Gt(t,K(n)));function a(){const f=Object.values(e.value).flat(1).filter(Boolean);return on(o).reduce((d,p)=>{const m=o[p];return d[p]=f[m](g=>g.meta[p]),d},{})}const l=hr(a());return G1(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Ce(()=>Object.assign(Object.assign({initialValues:K(n)},l),{valid:l.valid&&!on(i.value).length,dirty:s.value}))}function F3(e,t,n){const i=GN(n),o=n==null?void 0:n.initialValues,s=wt(i),a=wt(pt(i));function l(f,d=!1){s.value=pt(f),a.value=pt(f),d&&on(e.value).forEach(p=>{const m=e.value[p],g=Array.isArray(m)?m.some(I=>I.meta.touched):m==null?void 0:m.meta.touched;if(!m||g)return;const b=xt(s.value,p);Pi(t,p,pt(b))})}return st(o)&&ut(o,f=>{l(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:a,setInitialValues:l}}function j3(e){const t=wt({});function n(s){return Array.isArray(s)?s:s?[s]:[]}function i(s,a){if(!a){delete t.value[s];return}t.value[s]=n(a)}function o(s){t.value=on(s).reduce((a,l)=>{const f=s[l];return f&&(a[l]=n(f)),a},{})}return e&&o(e),{errorBag:t,setErrorBag:o,setFieldErrorBag:i}}const U3=Jr({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Ht(e,"initialValues"),i=Ht(e,"validationSchema"),o=Ht(e,"keepValues"),{errors:s,errorBag:a,values:l,meta:f,isSubmitting:d,submitCount:p,controlledValues:m,validate:g,validateField:b,handleReset:I,resetForm:A,handleSubmit:P,setErrors:C,setFieldError:j,setFieldValue:F,setValues:J,setFieldTouched:x,setTouched:O,resetField:L}=M3({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),k=P((he,{evt:fe})=>{jN(fe)&&fe.target.submit()},e.onInvalidSubmit),$=e.onSubmit?P(e.onSubmit,e.onInvalidSubmit):k;function T(he){Ky(he)&&he.preventDefault(),I(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function Ee(he,fe){return P(typeof he=="function"&&!fe?he:fe,e.onInvalidSubmit)(he)}function Ne(){return pt(l)}function $e(){return pt(f.value)}function xe(){return pt(s.value)}function be(){return{meta:f.value,errors:s.value,errorBag:a.value,values:l,isSubmitting:d.value,submitCount:p.value,controlledValues:m.value,validate:g,validateField:b,handleSubmit:Ee,handleReset:I,submitForm:k,setErrors:C,setFieldError:j,setFieldValue:F,setValues:J,setFieldTouched:x,setTouched:O,resetForm:A,resetField:L,getValues:Ne,getMeta:$e,getErrors:xe}}return t.expose({setFieldError:j,setErrors:C,setFieldValue:F,setValues:J,setFieldTouched:x,setTouched:O,resetForm:A,validate:g,validateField:b,resetField:L,getValues:Ne,getMeta:$e,getErrors:xe}),function(){const fe=e.as==="form"?e.as:Cu(e.as),me=Wh(fe,t,be);if(!e.as)return me;const Ge=e.as==="form"?{novalidate:!0}:{};return Wr(fe,Object.assign(Object.assign(Object.assign({},Ge),t.attrs),{onSubmit:$,onReset:T}),me)}}}),B3=U3;function $3(e){const t=zy(Mc,void 0),n=wt([]),i=()=>{},o={fields:n,remove:i,push:i,swap:i,insert:i,update:i,replace:i,prepend:i,move:i};if(!t||!K(e))return o;const s=t.fieldArrays.find(x=>K(x.path)===K(e));if(s)return s;let a=0;function l(){return xt(t==null?void 0:t.values,K(e),[])||[]}function f(){const x=l();n.value=x.map(p),d()}f();function d(){const x=n.value.length;for(let O=0;O<x;O++){const L=n.value[O];L.isFirst=O===0,L.isLast=O===x-1}}function p(x){const O=a++;return{key:O,value:s3({get(){const k=xt(t==null?void 0:t.values,K(e),[])||[],$=n.value.findIndex(T=>T.key===O);return $===-1?x:k[$]},set(k){const $=n.value.findIndex(T=>T.key===O);$!==-1&&C($,k)}}),isFirst:!1,isLast:!1}}function m(){d(),t==null||t.validate({mode:"silent"})}function g(x){const O=K(e),L=xt(t==null?void 0:t.values,O);if(!L||!Array.isArray(L))return;const k=[...L];k.splice(x,1),t==null||t.unsetInitialValue(O+`[${x}]`),t==null||t.setFieldValue(O,k),n.value.splice(x,1),m()}function b(x){const O=K(e),L=xt(t==null?void 0:t.values,O),k=$a(L)?[]:L;if(!Array.isArray(k))return;const $=[...k];$.push(x),t==null||t.stageInitialValue(O+`[${$.length-1}]`,x),t==null||t.setFieldValue(O,$),n.value.push(p(x)),m()}function I(x,O){const L=K(e),k=xt(t==null?void 0:t.values,L);if(!Array.isArray(k)||!(x in k)||!(O in k))return;const $=[...k],T=[...n.value],Ee=$[x];$[x]=$[O],$[O]=Ee;const Ne=T[x];T[x]=T[O],T[O]=Ne,t==null||t.setFieldValue(L,$),n.value=T,d()}function A(x,O){const L=K(e),k=xt(t==null?void 0:t.values,L);if(!Array.isArray(k)||k.length<x)return;const $=[...k],T=[...n.value];$.splice(x,0,O),T.splice(x,0,p(O)),t==null||t.setFieldValue(L,$),n.value=T,m()}function P(x){const O=K(e);t==null||t.setFieldValue(O,x),f(),m()}function C(x,O){const L=K(e),k=xt(t==null?void 0:t.values,L);!Array.isArray(k)||k.length-1<x||(t==null||t.setFieldValue(`${L}[${x}]`,O),t==null||t.validate({mode:"validated-only"}))}function j(x){const O=K(e),L=xt(t==null?void 0:t.values,O),k=$a(L)?[]:L;if(!Array.isArray(k))return;const $=[x,...k];t==null||t.stageInitialValue(O+`[${$.length-1}]`,x),t==null||t.setFieldValue(O,$),n.value.unshift(p(x)),m()}function F(x,O){const L=K(e),k=xt(t==null?void 0:t.values,L),$=$a(k)?[]:[...k];if(!Array.isArray(k)||!(x in k)||!(O in k))return;const T=[...n.value],Ee=T[x];T.splice(x,1),T.splice(O,0,Ee);const Ne=$[x];$.splice(x,1),$.splice(O,0,Ne),t==null||t.setFieldValue(L,$),n.value=T,m()}const J={fields:n,remove:g,push:b,swap:I,insert:A,update:C,replace:P,prepend:j,move:F};return t.fieldArrays.push(Object.assign({path:e,reset:f},J)),ku(()=>{const x=t.fieldArrays.findIndex(O=>K(O.path)===K(e));x>=0&&t.fieldArrays.splice(x,1)}),ut(l,x=>{const O=n.value.map(L=>L.value);Gt(x,O)||f()}),J}Jr({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:i,swap:o,insert:s,replace:a,update:l,prepend:f,move:d,fields:p}=$3(Ht(e,"name"));function m(){return{fields:p.value,push:n,remove:i,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}}return t.expose({push:n,remove:i,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}),()=>Wh(void 0,t,m)}});const q3=Jr({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=jn(Mc,void 0),i=Ce(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const s=e.as?Cu(e.as):e.as,a=Wh(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Wr(s||"span",l,i.value):Wr(s,l,a)}}}),K3=q3;/**
  * vee-validate v4.8.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const nf={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},H3=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Qy(e,t){return Array.isArray(e)?e[0]:e[t]}function Qh(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const WN=(e,t)=>{if(Qh(e))return!0;const n=H3(t);if(Array.isArray(e))return e.every(o=>WN(o,{locale:n}));const i=String(e);return n?(nf[n]||nf.en).test(i):Object.keys(nf).some(o=>nf[o].test(i))},z3=(e,t)=>{const n=Qy(t,"target");return String(e)===String(n)},G3=e=>{if(Qh(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function W3(e){return e==null}function Q3(e){return Array.isArray(e)&&e.length===0}const QN=(e,t)=>{if(Qh(e))return!0;const n=Qy(t,"length");return Array.isArray(e)?e.every(i=>QN(i,{length:n})):String(e).length<=Number(n)},YN=(e,t)=>{if(Qh(e))return!0;const n=Qy(t,"length");return Array.isArray(e)?e.every(i=>YN(i,{length:n})):String(e).length>=Number(n)},Y3=e=>W3(e)||Q3(e)||e===!1?!1:!!String(e).trim().length;/**
  * vee-validate v4.8.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function pi(e){return typeof e=="function"}function Ka(e){return e==null}const ns=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function XN(e){return Number(e)>=0}function X3(e){const t=parseFloat(e);return isNaN(t)?e:t}const J3={};function Z3(e){return J3[e]}const Vc=Symbol("vee-validate-form"),eq=Symbol("vee-validate-field-instance"),Xf=Symbol("Default empty value"),tq=typeof window<"u";function Jm(e){return pi(e)&&!!e.__locatorRef}function Qi(e){return!!e&&pi(e.parse)&&e.__type==="VVTypedSchema"}function Ha(e){return!!e&&pi(e.validate)}function Eu(e){return e==="checkbox"||e==="radio"}function nq(e){return ns(e)||Array.isArray(e)}function JN(e){return Array.isArray(e)?e.length===0:ns(e)&&Object.keys(e).length===0}function Yh(e){return/^\[.+\]$/i.test(e)}function rq(e){return ZN(e)&&e.multiple}function ZN(e){return e.tagName==="SELECT"}function iq(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function oq(e,t){return!iq(e,t)&&t.type!=="file"&&!Eu(t.type)}function ek(e){return Yy(e)&&e.target&&"submit"in e.target}function Yy(e){return e?!!(typeof Event<"u"&&pi(Event)&&e instanceof Event||e&&e.srcElement):!1}function c1(e,t){return t in e&&e[t]!==Xf}function Wt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!Wt(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!Wt(i[1],t.get(i[0])))return!1;return!0}if(l1(e)&&l1(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!Wt(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function l1(e){return tq?e instanceof File:!1}function f1(e,t,n){typeof n.value=="object"&&(n.value=vt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function vt(e){if(typeof e!="object")return e;var t=0,n,i,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(vt(a))})):s==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(vt(l),vt(a))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(vt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)f1(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||f1(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function Xy(e){return Yh(e)?e.replace(/\[|\]/gi,""):e}function Lt(e,t,n){return e?Yh(t)?e[Xy(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>nq(o)&&s in o?o[s]:n,e):n}function xi(e,t,n){if(Yh(t)){e[Xy(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<i.length;s++){if(s===i.length-1){o[i[s]]=n;return}(!(i[s]in o)||Ka(o[i[s]]))&&(o[i[s]]=XN(i[s+1])?[]:{}),o=o[i[s]]}}function Jv(e,t){if(Array.isArray(e)&&XN(t)){e.splice(Number(t),1);return}ns(e)&&delete e[t]}function rf(e,t){if(Yh(t)){delete e[Xy(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Jv(i,n[s]);break}if(!(n[s]in i)||Ka(i[n[s]]))break;i=i[n[s]]}const o=n.map((s,a)=>Lt(e,n.slice(0,a).join(".")));for(let s=o.length-1;s>=0;s--)if(JN(o[s])){if(s===0){Jv(e,n[0]);continue}Jv(o[s-1],n[s-1])}}function sn(e){return Object.keys(e)}function Jy(e,t=void 0){const n=no();return(n==null?void 0:n.provides[e])||jn(e,t)}function Zm(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(s=>Wt(s,t));return o>=0?i.splice(o,1):i.push(t),i}return Wt(e,t)?n:t}function h1(e,t=0){let n=null,i=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...o);i.forEach(a=>a(s)),i=[]},t),new Promise(s=>i.push(s))}}function sq(e,t){return ns(t)&&t.number?X3(e):e}function eg(e,t){let n;return async function(...o){const s=e(...o);n=s;const a=await s;return s!==n||(n=void 0,t(a,o)),a}}function uq({get:e,set:t}){const n=wt(vt(e()));return ut(e,i=>{Wt(i,n.value)||(n.value=vt(i))},{deep:!0}),ut(n,i=>{Wt(i,e())||t(vt(i))},{deep:!0}),n}function aq(e){return pi(e)?e():K(e)}function cq(e){return Ce(()=>aq(e))}const Xh=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default;function Zv(e){if(tk(e))return e._value}function tk(e){return"_value"in e}function Zy(e){if(!Yy(e))return e;const t=e.target;if(Eu(t.type)&&tk(t))return Zv(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(rq(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Zv);if(ZN(t)){const n=Array.from(t.options).find(i=>i.selected);return n?Zv(n):t.value}return t.value}function nk(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?ns(e)&&e._$$isNormalized?e:ns(e)?Object.keys(e).reduce((n,i)=>{const o=lq(e[i]);return e[i]!==!1&&(n[i]=d1(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=fq(i);return o.name&&(n[o.name]=d1(o.params)),n},t):t}function lq(e){return e===!0?[]:Array.isArray(e)||ns(e)?e:[e]}function d1(e){const t=n=>typeof n=="string"&&n[0]==="@"?hq(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const fq=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function hq(e){const t=n=>Lt(n,e)||n[e];return t.__locatorRef=e,t}function dq(e){return Array.isArray(e)?e.filter(Jm):sn(e).filter(t=>Jm(e[t])).map(t=>e[t])}const pq={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let vq=Object.assign({},pq);const ew=()=>vq;async function rk(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await mq(o,e)).errors;return{errors:a,valid:!a.length}}async function mq(e,t){if(Qi(e.rules)||Ha(e.rules))return yq(t,e.rules);if(pi(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let p=0;p<f;p++){const m=l[p],g=await m(t,a);if(typeof g!="string"&&g)continue;const I=typeof g=="string"?g:ok(a);if(d.push(I),e.bails)return{errors:d}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:nk(e.rules)}),i=[],o=Object.keys(n.rules),s=o.length;for(let a=0;a<s;a++){const l=o[a],f=await wq(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}function gq(e){return!!e&&e.name==="ValidationError"}function ik(e){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!gq(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(s)}}}}}async function yq(e,t){const i=await(Qi(t)?t:ik(t)).parse(e),o=[];for(const s of i.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function wq(e,t,n){const i=Z3(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=bq(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(t,o,s);return typeof a=="string"?{error:a}:{error:a?void 0:ok(s)}}function ok(e){const t=ew().generateMessage;return t?t(e):"Field is invalid"}function bq(e,t){const n=i=>Jm(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function _q(e,t){const i=await(Qi(e)?e:ik(e)).parse(t),o={},s={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,p)=>`[${p}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!i.errors.length,results:o,errors:s,values:i.value}}async function Iq(e,t,n){const o=sn(e).map(async d=>{var p,m,g;const b=(p=n==null?void 0:n.names)===null||p===void 0?void 0:p[d],I=await rk(Lt(t,d),e[d],{name:(b==null?void 0:b.name)||d,label:b==null?void 0:b.label,values:t,bails:(g=(m=n==null?void 0:n.bailsMap)===null||m===void 0?void 0:m[d])!==null&&g!==void 0?g:!0});return Object.assign(Object.assign({},I),{path:d})});let s=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:l,errors:f}}let p1=0;function Eq(e,t){const{value:n,initialValue:i,setInitialValue:o}=sk(e,t.modelValue,t.form),{errorMessage:s,errors:a,setErrors:l}=Aq(e,t.form),f=Sq(n,i,a),d=p1>=Number.MAX_SAFE_INTEGER?0:++p1;function p(m){var g;"value"in m&&(n.value=m.value),"errors"in m&&l(m.errors),"touched"in m&&(f.touched=(g=m.touched)!==null&&g!==void 0?g:f.touched),"initialValue"in m&&o(m.initialValue)}return{id:d,path:e,value:n,initialValue:i,meta:f,errors:a,errorMessage:s,setState:p}}function sk(e,t,n){const i=wt(K(t));function o(){return n?Lt(n.meta.value.initialValues,K(e),K(i)):K(i)}function s(d){if(!n){i.value=d;return}n.stageInitialValue(K(e),d,!0)}const a=Ce(o);if(!n)return{value:wt(o()),initialValue:a,setInitialValue:s};const l=Tq(t,n,a,e);return n.stageInitialValue(K(e),l,!0),{value:Ce({get(){return Lt(n.values,K(e))},set(d){n.setFieldValue(K(e),d)}}),initialValue:a,setInitialValue:s}}function Tq(e,t,n,i){return st(e)?K(e):e!==void 0?e:Lt(t.values,K(i),K(n))}function Sq(e,t,n){const i=hr({touched:!1,pending:!1,valid:!0,validated:!!K(n).length,initialValue:Ce(()=>K(t)),dirty:Ce(()=>!Wt(K(e),K(t)))});return ut(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function Aq(e,t){function n(o){return o?Array.isArray(o)?o:[o]:[]}if(!t){const o=wt([]);return{errors:o,errorMessage:Ce(()=>o.value[0]),setErrors:s=>{o.value=n(s)}}}const i=Ce(()=>t.errorBag.value[K(e)]||[]);return{errors:i,errorMessage:Ce(()=>i.value[0]),setErrors:o=>{t.setFieldErrorBag(K(e),n(o))}}}function Nq(e,t,n){return Eu(n==null?void 0:n.type)?Oq(e,t,n):uk(e,t,n)}function uk(e,t,n){const{initialValue:i,validateOnMount:o,bails:s,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:p,controlled:m,keepValueOnUnmount:g,modelPropName:b,syncVModel:I,form:A}=kq(n),P=m?Jy(Vc):void 0,C=A||P,j=cq(e);let F=!1;const{id:J,value:x,initialValue:O,meta:L,setState:k,errors:$,errorMessage:T}=Eq(j,{modelValue:i,form:C});I&&Dq({value:x,prop:b,handleChange:fe});const Ee=()=>{L.touched=!0},Ne=Ce(()=>{let R=K(t);const H=K(C==null?void 0:C.schema);return H&&!Ha(H)&&!Qi(H)&&(R=Cq(H,K(j))||R),Ha(R)||Qi(R)||pi(R)||Array.isArray(R)?R:nk(R)});async function $e(R){var H,pe;return C!=null&&C.validateSchema?(H=(await C.validateSchema(R)).results[K(j)])!==null&&H!==void 0?H:{valid:!0,errors:[]}:rk(x.value,Ne.value,{name:K(j),label:K(f),values:(pe=C==null?void 0:C.values)!==null&&pe!==void 0?pe:{},bails:s})}const xe=eg(async()=>(L.pending=!0,L.validated=!0,$e("validated-only")),R=>(F&&(R.valid=!0,R.errors=[]),k({errors:R.errors}),L.pending=!1,R)),be=eg(async()=>$e("silent"),R=>(F&&(R.valid=!0),L.valid=R.valid,R));function he(R){return(R==null?void 0:R.mode)==="silent"?be():xe()}function fe(R,H=!0){const pe=Zy(R);x.value=pe,!d&&H&&xe()}Nu(()=>{if(o)return xe();(!C||!C.validateSchema)&&be()});function me(R){L.touched=R}let Ge,tt=vt(x.value);function it(){Ge=ut(x,(R,H)=>{if(Wt(R,H)&&Wt(R,tt))return;(d?xe:be)(),tt=vt(R)},{deep:!0})}it();function Ze(R){var H;Ge==null||Ge();const pe=R&&"value"in R?R.value:O.value;k({value:vt(pe),initialValue:vt(pe),touched:(H=R==null?void 0:R.touched)!==null&&H!==void 0?H:!1,errors:(R==null?void 0:R.errors)||[]}),L.pending=!1,L.validated=!1,be(),er(()=>{it()})}function Ot(R){x.value=R}function en(R){k({errors:Array.isArray(R)?R:[R]})}const W={id:J,name:j,label:f,value:x,meta:L,errors:$,errorMessage:T,type:a,checkedValue:l,uncheckedValue:p,bails:s,keepValueOnUnmount:g,resetField:Ze,handleReset:()=>Ze(),validate:he,handleChange:fe,handleBlur:Ee,setState:k,setTouched:me,setErrors:en,setValue:Ot};if(Hi(eq,W),st(t)&&typeof K(t)!="function"&&ut(t,(R,H)=>{Wt(R,H)||(L.validated?xe():be())},{deep:!0}),!C)return W;C.register(W),ku(()=>{F=!0,C.unregister(W)});const ce=Ce(()=>{const R=Ne.value;return!R||pi(R)||Ha(R)||Qi(R)||Array.isArray(R)?{}:Object.keys(R).reduce((H,pe)=>{const We=dq(R[pe]).map(_e=>_e.__locatorRef).reduce((_e,E)=>{const D=Lt(C.values,E)||C.values[E];return D!==void 0&&(_e[E]=D),_e},{});return Object.assign(H,We),H},{})});return ut(ce,(R,H)=>{if(!Object.keys(R).length)return;!Wt(R,H)&&(L.validated?xe():be())}),W}function kq(e){var t;const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),o=((t=e==null?void 0:e.syncVModel)!==null&&t!==void 0?t:!0)&&!("initialValue"in(e||{}))?tg(no(),(e==null?void 0:e.modelPropName)||"modelValue"):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},n()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled;return Object.assign(Object.assign(Object.assign({},n()),e||{}),{initialValue:o,controlled:a??!0,checkedValue:s})}function Cq(e,t){if(e)return e[t]}function Oq(e,t,n){const i=n!=null&&n.standalone?void 0:Jy(Vc),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=Ce(()=>{const m=K(l.value),g=K(o);return Array.isArray(m)?m.findIndex(b=>Wt(b,g))>=0:Wt(g,m)});function p(m,g=!0){var b;if(d.value===((b=m==null?void 0:m.target)===null||b===void 0?void 0:b.checked)){g&&l.validate();return}let I=Zy(m);i||(I=Zm(K(l.value),K(o),K(s))),f(I,g)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:p})}return a(uk(e,t,n))}function Dq({prop:e,value:t,handleChange:n}){const i=no();if(!i)return;const o=e||"modelValue",s=`update:${o}`;o in i.props&&(ut(t,a=>{Wt(a,tg(i,o))||i.emit(s,a)}),ut(()=>tg(i,o),a=>{if(a===Xf&&t.value===void 0)return;const l=a===Xf?void 0:a;Wt(l,sq(t.value,i.props.modelModifiers))||n(l)}))}function tg(e,t){if(e)return e.props[t]}Jr({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>ew().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Xf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Ht(e,"rules"),i=Ht(e,"name"),o=Ht(e,"label"),s=Ht(e,"uncheckedValue"),a=Ht(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:p,handleChange:m,handleBlur:g,setTouched:b,resetField:I,handleReset:A,meta:P,checked:C,setErrors:j}=Nq(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:Pq(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a}),F=function($,T=!0){m($,T),t.emit("update:modelValue",f.value)},J=k=>{Eu(t.attrs.type)||(f.value=Zy(k))},x=function($){J($),t.emit("update:modelValue",f.value)},O=Ce(()=>{const{validateOnInput:k,validateOnChange:$,validateOnBlur:T,validateOnModelUpdate:Ee}=Rq(e),Ne=[g,t.attrs.onBlur,T?p:void 0].filter(Boolean),$e=[fe=>F(fe,k),t.attrs.onInput].filter(Boolean),xe=[fe=>F(fe,$),t.attrs.onChange].filter(Boolean),be={name:e.name,onBlur:Ne,onInput:$e,onChange:xe};be["onUpdate:modelValue"]=fe=>F(fe,Ee),Eu(t.attrs.type)&&C&&(be.checked=C.value);const he=v1(e,t);return oq(he,t.attrs)&&(be.value=f.value),be});function L(){return{field:O.value,value:f.value,meta:P,errors:l.value,errorMessage:d.value,validate:p,resetField:I,handleChange:F,handleInput:x,handleReset:A,handleBlur:g,setTouched:b,setErrors:j}}return t.expose({setErrors:j,setTouched:b,reset:I,validate:p,handleChange:m}),()=>{const k=Cu(v1(e,t)),$=Xh(k,t,L);return k?Wr(k,Object.assign(Object.assign({},t.attrs),O.value),$):$}}});function v1(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function Rq(e){var t,n,i,o;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=ew();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function Pq(e,t){return Eu(t.attrs.type)?c1(e,"modelValue")?e.modelValue:void 0:c1(e,"modelValue")?e.modelValue:t.attrs.value}let xq=0;function ak(e){const t=K(e==null?void 0:e.initialValues)||{},n=K(e==null?void 0:e.validationSchema);return n&&Qi(n)&&pi(n.cast)?vt(n.cast(t)||{}):vt(t)}function Lq(e){var t;const n=xq++,i=new Set;let o=!1;const s=wt({}),a=wt(!1),l=wt(0),f=[],d=hr(ak(e)),{errorBag:p,setErrorBag:m,setFieldErrorBag:g}=Fq(e==null?void 0:e.initialErrors),b=Ce(()=>sn(p.value).reduce((_,N)=>{const M=p.value[N];return M&&M.length&&(_[N]=M[0]),_},{}));function I(_){const N=s.value[_];return Array.isArray(N)?N[0]:N}function A(_){return!!s.value[_]}const P=Ce(()=>sn(s.value).reduce((_,N)=>{const M=I(N);return M&&(_[N]={name:K(M.name)||"",label:K(M.label)||""}),_},{})),C=Ce(()=>sn(s.value).reduce((_,N)=>{var M;const q=I(N);return q&&(_[N]=(M=q.bails)!==null&&M!==void 0?M:!0),_},{})),j=Object.assign({},(e==null?void 0:e.initialErrors)||{}),F=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:J,originalInitialValues:x,setInitialValues:O}=Vq(s,d,e),L=Mq(s,d,x,b),k=Ce(()=>[...i,...sn(s.value)].reduce((_,N)=>{const M=Lt(d,N);return xi(_,N,M),_},{})),$=e==null?void 0:e.validationSchema,T=h1(ie,5),Ee=h1(ie,5),Ne=eg(async _=>await _==="silent"?T():Ee(),(_,[N])=>{const M=he.fieldsByPath.value||{},q=sn(he.errorBag.value);return[...new Set([...sn(_.results),...sn(M),...q])].reduce((X,Q)=>{const ve=M[Q],De=(_.results[Q]||{errors:[]}).errors,Fe={errors:De,valid:!De.length};if(X.results[Q]=Fe,Fe.valid||(X.errors[Q]=Fe.errors[0]),!ve)return tt(Q,De),X;if(me(ve,Qe=>Qe.meta.valid=Fe.valid),N==="silent")return X;const Hn=Array.isArray(ve)?ve.some(Qe=>Qe.meta.validated):ve.meta.validated;return N==="validated-only"&&!Hn||me(ve,Qe=>Qe.setState({errors:Fe.errors})),X},{valid:_.valid,results:{},errors:{}})});function $e(_){return function(M,q){return function(X){return X instanceof Event&&(X.preventDefault(),X.stopPropagation()),R(sn(s.value).reduce((Q,ve)=>(Q[ve]=!0,Q),{})),a.value=!0,l.value++,U().then(Q=>{const ve=vt(d);if(Q.valid&&typeof M=="function"){const De=vt(k.value);let Fe=_?De:ve;return Q.values&&(Fe=Q.values),M(Fe,{evt:X,controlledValues:De,setErrors:it,setFieldError:tt,setTouched:R,setFieldTouched:ce,setValues:Ot,setFieldValue:Ze,resetForm:pe,resetField:H})}!Q.valid&&typeof q=="function"&&q({values:ve,evt:X,errors:Q.errors,results:Q.results})}).then(Q=>(a.value=!1,Q),Q=>{throw a.value=!1,Q})}}}const be=$e(!1);be.withControlled=$e(!0);const he={formId:n,fieldsByPath:s,values:d,controlledValues:k,errorBag:p,errors:b,schema:$,submitCount:l,meta:L,isSubmitting:a,fieldArrays:f,keepValuesOnUnmount:F,validateSchema:K($)?Ne:void 0,validate:U,register:E,unregister:D,setFieldErrorBag:g,validateField:G,setFieldValue:Ze,setValues:Ot,setErrors:it,setFieldError:tt,setFieldTouched:ce,setTouched:R,resetForm:pe,resetField:H,handleSubmit:be,stageInitialValue:se,unsetInitialValue:Y,setFieldInitialValue:ae,useFieldModel:W};function fe(_){return Array.isArray(_)}function me(_,N){return Array.isArray(_)?_.forEach(N):N(_)}function Ge(_){Object.values(s.value).forEach(N=>{N&&me(N,_)})}function tt(_,N){g(_,N)}function it(_){m(_)}function Ze(_,N,{force:M}={force:!1}){var q;const ne=s.value[_],X=vt(N);if(!ne){xi(d,_,X);return}if(fe(ne)&&((q=ne[0])===null||q===void 0?void 0:q.type)==="checkbox"&&!Array.isArray(N)){const ve=vt(Zm(Lt(d,_)||[],N,void 0));xi(d,_,ve);return}let Q=X;!fe(ne)&&ne.type==="checkbox"&&!M&&!o&&(Q=vt(Zm(Lt(d,_),N,K(ne.uncheckedValue)))),xi(d,_,Q)}function Ot(_){sn(d).forEach(N=>{delete d[N]}),sn(_).forEach(N=>{Ze(N,_[N])}),f.forEach(N=>N&&N.reset())}function en(_){const{value:N}=sk(_,void 0,he);return ut(N,()=>{A(K(_))||U({mode:"validated-only"})},{deep:!0}),i.add(K(_)),N}function W(_){return Array.isArray(_)?_.map(en):en(_)}function ce(_,N){const M=s.value[_];M&&me(M,q=>q.setTouched(N))}function R(_){sn(_).forEach(N=>{ce(N,!!_[N])})}function H(_,N){const M=s.value[_];M&&me(M,q=>q.resetField(N))}function pe(_){o=!0,Ge(M=>M.resetField());const N=_!=null&&_.values?_.values:x.value;O(N),Ot(N),_!=null&&_.touched&&R(_.touched),it((_==null?void 0:_.errors)||{}),l.value=(_==null?void 0:_.submitCount)||0,er(()=>{o=!1})}function We(_,N){const M=Xi(_),q=N;if(!s.value[q]){s.value[q]=M;return}const ne=s.value[q];ne&&!Array.isArray(ne)&&(s.value[q]=[ne]),s.value[q]=[...s.value[q],M]}function _e(_,N){const M=N,q=s.value[M];if(q){if(!fe(q)&&_.id===q.id){delete s.value[M];return}if(fe(q)){const ne=q.findIndex(X=>X.id===_.id);if(ne===-1)return;q.splice(ne,1),q.length||delete s.value[M]}}}function E(_){const N=K(_.name);We(_,N),st(_.name)&&ut(_.name,async(q,ne)=>{await er(),_e(_,ne),We(_,q),(b.value[ne]||b.value[q])&&(tt(ne,void 0),G(q)),await er(),A(ne)||rf(d,ne)});const M=K(_.errorMessage);M&&(j==null?void 0:j[N])!==M&&G(N),delete j[N]}function D(_){const N=K(_.name),M=s.value[N],q=!!M&&fe(M);_e(_,N),er(()=>{var ne;const X=(ne=K(_.keepValueOnUnmount))!==null&&ne!==void 0?ne:K(F),Q=Lt(d,N);if(q&&(M===s.value[N]||!s.value[N])&&!X)if(Array.isArray(Q)){const De=Q.findIndex(Fe=>Wt(Fe,K(_.checkedValue)));if(De>-1){const Fe=[...Q];Fe.splice(De,1),Ze(N,Fe,{force:!0})}}else Q===K(_.checkedValue)&&rf(d,N);if(!A(N)){if(tt(N,void 0),X||q&&Array.isArray(Q)&&!JN(Q))return;rf(d,N)}})}async function U(_){const N=(_==null?void 0:_.mode)||"force";if(N==="force"&&Ge(X=>X.meta.validated=!0),he.validateSchema)return he.validateSchema(N);const M=await Promise.all(Object.values(s.value).map(X=>{const Q=Array.isArray(X)?X[0]:X;return Q?Q.validate(_).then(ve=>({key:K(Q.name),valid:ve.valid,errors:ve.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),q={},ne={};for(const X of M)q[X.key]={valid:X.valid,errors:X.errors},X.errors.length&&(ne[X.key]=X.errors[0]);return{valid:M.every(X=>X.valid),results:q,errors:ne}}async function G(_){const N=s.value[_];return N?Array.isArray(N)?N.map(M=>M.validate())[0]:N.validate():Promise.resolve({errors:[],valid:!0})}function Y(_){rf(J.value,_)}function se(_,N,M=!1){xi(d,_,N),ae(_,N),M&&!(e!=null&&e.initialValues)&&xi(x.value,_,vt(N))}function ae(_,N){xi(J.value,_,vt(N))}async function ie(){const _=K($);return _?Ha(_)||Qi(_)?await _q(_,d):await Iq(_,d,{names:P.value,bailsMap:C.value}):{valid:!0,results:{},errors:{}}}const le=be((_,{evt:N})=>{ek(N)&&N.target.submit()});return Nu(()=>{if(e!=null&&e.initialErrors&&it(e.initialErrors),e!=null&&e.initialTouched&&R(e.initialTouched),e!=null&&e.validateOnMount){U();return}he.validateSchema&&he.validateSchema("silent")}),st($)&&ut($,()=>{var _;(_=he.validateSchema)===null||_===void 0||_.call(he,"validated-only")}),Hi(Vc,he),Object.assign(Object.assign({},he),{handleReset:()=>pe(),submitForm:le})}function Mq(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},s=Ce(()=>!Wt(t,K(n)));function a(){const f=Object.values(e.value).flat(1).filter(Boolean);return sn(o).reduce((d,p)=>{const m=o[p];return d[p]=f[m](g=>g.meta[p]),d},{})}const l=hr(a());return G1(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Ce(()=>Object.assign(Object.assign({initialValues:K(n)},l),{valid:l.valid&&!sn(i.value).length,dirty:s.value}))}function Vq(e,t,n){const i=ak(n),o=n==null?void 0:n.initialValues,s=wt(i),a=wt(vt(i));function l(f,d=!1){s.value=vt(f),a.value=vt(f),d&&sn(e.value).forEach(p=>{const m=e.value[p],g=Array.isArray(m)?m.some(I=>I.meta.touched):m==null?void 0:m.meta.touched;if(!m||g)return;const b=Lt(s.value,p);xi(t,p,vt(b))})}return st(o)&&ut(o,f=>{l(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:a,setInitialValues:l}}function Fq(e){const t=wt({});function n(s){return Array.isArray(s)?s:s?[s]:[]}function i(s,a){if(!a){delete t.value[s];return}t.value[s]=n(a)}function o(s){t.value=sn(s).reduce((a,l)=>{const f=s[l];return f&&(a[l]=n(f)),a},{})}return e&&o(e),{errorBag:t,setErrorBag:o,setFieldErrorBag:i}}Jr({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Ht(e,"initialValues"),i=Ht(e,"validationSchema"),o=Ht(e,"keepValues"),{errors:s,errorBag:a,values:l,meta:f,isSubmitting:d,submitCount:p,controlledValues:m,validate:g,validateField:b,handleReset:I,resetForm:A,handleSubmit:P,setErrors:C,setFieldError:j,setFieldValue:F,setValues:J,setFieldTouched:x,setTouched:O,resetField:L}=Lq({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),k=P((he,{evt:fe})=>{ek(fe)&&fe.target.submit()},e.onInvalidSubmit),$=e.onSubmit?P(e.onSubmit,e.onInvalidSubmit):k;function T(he){Yy(he)&&he.preventDefault(),I(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function Ee(he,fe){return P(typeof he=="function"&&!fe?he:fe,e.onInvalidSubmit)(he)}function Ne(){return vt(l)}function $e(){return vt(f.value)}function xe(){return vt(s.value)}function be(){return{meta:f.value,errors:s.value,errorBag:a.value,values:l,isSubmitting:d.value,submitCount:p.value,controlledValues:m.value,validate:g,validateField:b,handleSubmit:Ee,handleReset:I,submitForm:k,setErrors:C,setFieldError:j,setFieldValue:F,setValues:J,setFieldTouched:x,setTouched:O,resetForm:A,resetField:L,getValues:Ne,getMeta:$e,getErrors:xe}}return t.expose({setFieldError:j,setErrors:C,setFieldValue:F,setValues:J,setFieldTouched:x,setTouched:O,resetForm:A,validate:g,validateField:b,resetField:L,getValues:Ne,getMeta:$e,getErrors:xe}),function(){const fe=e.as==="form"?e.as:Cu(e.as),me=Xh(fe,t,be);if(!e.as)return me;const Ge=e.as==="form"?{novalidate:!0}:{};return Wr(fe,Object.assign(Object.assign(Object.assign({},Ge),t.attrs),{onSubmit:$,onReset:T}),me)}}});function jq(e){const t=Jy(Vc,void 0),n=wt([]),i=()=>{},o={fields:n,remove:i,push:i,swap:i,insert:i,update:i,replace:i,prepend:i,move:i};if(!t||!K(e))return o;const s=t.fieldArrays.find(x=>K(x.path)===K(e));if(s)return s;let a=0;function l(){return Lt(t==null?void 0:t.values,K(e),[])||[]}function f(){const x=l();n.value=x.map(p),d()}f();function d(){const x=n.value.length;for(let O=0;O<x;O++){const L=n.value[O];L.isFirst=O===0,L.isLast=O===x-1}}function p(x){const O=a++;return{key:O,value:uq({get(){const k=Lt(t==null?void 0:t.values,K(e),[])||[],$=n.value.findIndex(T=>T.key===O);return $===-1?x:k[$]},set(k){const $=n.value.findIndex(T=>T.key===O);$!==-1&&C($,k)}}),isFirst:!1,isLast:!1}}function m(){d(),t==null||t.validate({mode:"silent"})}function g(x){const O=K(e),L=Lt(t==null?void 0:t.values,O);if(!L||!Array.isArray(L))return;const k=[...L];k.splice(x,1),t==null||t.unsetInitialValue(O+`[${x}]`),t==null||t.setFieldValue(O,k),n.value.splice(x,1),m()}function b(x){const O=K(e),L=Lt(t==null?void 0:t.values,O),k=Ka(L)?[]:L;if(!Array.isArray(k))return;const $=[...k];$.push(x),t==null||t.stageInitialValue(O+`[${$.length-1}]`,x),t==null||t.setFieldValue(O,$),n.value.push(p(x)),m()}function I(x,O){const L=K(e),k=Lt(t==null?void 0:t.values,L);if(!Array.isArray(k)||!(x in k)||!(O in k))return;const $=[...k],T=[...n.value],Ee=$[x];$[x]=$[O],$[O]=Ee;const Ne=T[x];T[x]=T[O],T[O]=Ne,t==null||t.setFieldValue(L,$),n.value=T,d()}function A(x,O){const L=K(e),k=Lt(t==null?void 0:t.values,L);if(!Array.isArray(k)||k.length<x)return;const $=[...k],T=[...n.value];$.splice(x,0,O),T.splice(x,0,p(O)),t==null||t.setFieldValue(L,$),n.value=T,m()}function P(x){const O=K(e);t==null||t.setFieldValue(O,x),f(),m()}function C(x,O){const L=K(e),k=Lt(t==null?void 0:t.values,L);!Array.isArray(k)||k.length-1<x||(t==null||t.setFieldValue(`${L}[${x}]`,O),t==null||t.validate({mode:"validated-only"}))}function j(x){const O=K(e),L=Lt(t==null?void 0:t.values,O),k=Ka(L)?[]:L;if(!Array.isArray(k))return;const $=[x,...k];t==null||t.stageInitialValue(O+`[${$.length-1}]`,x),t==null||t.setFieldValue(O,$),n.value.unshift(p(x)),m()}function F(x,O){const L=K(e),k=Lt(t==null?void 0:t.values,L),$=Ka(k)?[]:[...k];if(!Array.isArray(k)||!(x in k)||!(O in k))return;const T=[...n.value],Ee=T[x];T.splice(x,1),T.splice(O,0,Ee);const Ne=$[x];$.splice(x,1),$.splice(O,0,Ne),t==null||t.setFieldValue(L,$),n.value=T,m()}const J={fields:n,remove:g,push:b,swap:I,insert:A,update:C,replace:P,prepend:j,move:F};return t.fieldArrays.push(Object.assign({path:e,reset:f},J)),ku(()=>{const x=t.fieldArrays.findIndex(O=>K(O.path)===K(e));x>=0&&t.fieldArrays.splice(x,1)}),ut(l,x=>{const O=n.value.map(L=>L.value);Wt(x,O)||f()}),J}Jr({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:i,swap:o,insert:s,replace:a,update:l,prepend:f,move:d,fields:p}=jq(Ht(e,"name"));function m(){return{fields:p.value,push:n,remove:i,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}}return t.expose({push:n,remove:i,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}),()=>Xh(void 0,t,m)}});Jr({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=jn(Vc,void 0),i=Ce(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const s=e.as?Cu(e.as):e.as,a=Xh(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Wr(s||"span",l,i.value):Wr(s,l,a)}}});const Uq={install(e){e.component("VeeForm",B3),e.component("VeeField",x3),e.component("ErrorMessage",K3),js("required",Y3),js("min",YN),js("max",QN),js("alpha_spaces",WN),js("email",G3),js("password_mismatch",z3)}};const Bq={props:["color"]},$q={class:"btn"};function qq(e,t,n,i,o,s){return Le(),at("button",$q,[bg(e.$slots,"default",{},void 0,!0)])}const Kq=Zt(Bq,[["render",qq],["__scopeId","data-v-75398aea"]]);const Hq={},zq={class:"card-wrapper"};function Gq(e,t){return Le(),at("div",zq,[bg(e.$slots,"default",{},void 0,!0)])}const Wq=Zt(Hq,[["render",Gq],["__scopeId","data-v-24965033"]]);let Di;ai.onAuthStateChanged(()=>{Di||(Di=Ax(Mx),Di.use(Cx()),Di.use(_u),Di.use(Uq),Di.component("base-button",Kq),Di.component("base-card",Wq),Di.mount("#app"))});_u.beforeEach((e,t,n)=>{document.title=`TakeNote | ${e.meta.title}`,n()});
